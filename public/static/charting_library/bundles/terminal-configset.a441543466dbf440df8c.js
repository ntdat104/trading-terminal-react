(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[8179],{262978:e=>{e.exports={primary:"primary-PVWoXu5j",gray:"gray-PVWoXu5j",selected:"selected-PVWoXu5j",grouped:"grouped-PVWoXu5j",pills:"pills-PVWoXu5j",active:"active-PVWoXu5j",disableActiveOnTouch:"disableActiveOnTouch-PVWoXu5j",disableActiveStateStyles:"disableActiveStateStyles-PVWoXu5j",withGrouped:"withGrouped-PVWoXu5j","quiet-primary":"quiet-primary-PVWoXu5j",green:"green-PVWoXu5j",red:"red-PVWoXu5j",secondary:"secondary-PVWoXu5j",ghost:"ghost-PVWoXu5j"}},729075:e=>{e.exports={lightButton:"lightButton-bYDQcOkp",link:"link-bYDQcOkp",ltr:"ltr-bYDQcOkp",rtl:"rtl-bYDQcOkp","typography-regular16px":"typography-regular16px-bYDQcOkp","typography-medium16px":"typography-medium16px-bYDQcOkp","typography-regular14px":"typography-regular14px-bYDQcOkp","typography-semibold14px":"typography-semibold14px-bYDQcOkp","typography-semibold16px":"typography-semibold16px-bYDQcOkp",content:"content-bYDQcOkp",visuallyHidden:"visuallyHidden-bYDQcOkp",nowrap:"nowrap-bYDQcOkp",ellipsisContainer:"ellipsisContainer-bYDQcOkp",textWrapContainer:"textWrapContainer-bYDQcOkp",textWrapWithEllipsis:"textWrapWithEllipsis-bYDQcOkp",slot:"slot-bYDQcOkp",caret:"caret-bYDQcOkp",activeCaret:"activeCaret-bYDQcOkp",xsmall:"xsmall-bYDQcOkp",withStartSlot:"withStartSlot-bYDQcOkp",withEndSlot:"withEndSlot-bYDQcOkp",noContent:"noContent-bYDQcOkp",wrap:"wrap-bYDQcOkp",small:"small-bYDQcOkp",medium:"medium-bYDQcOkp"}},959189:(e,t,n)=>{"use strict";function i(e,t){return t||null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}n.d(t,{isIconOnly:()=>i})},898237:(e,t,n)=>{"use strict";n.d(t,{LightAnchorButton:()=>h,LightButton:()=>a.LightButton});var i=n(418920),a=n(943158),r=n(50959),o=n(591365),l=n(273388),s=n(854797),c=n(729075),d=n.n(c),u=n(262978),p=n.n(u);function h(e){const{className:t,isSelected:n,children:a,iconOnly:c,ellipsis:u,showCaret:h,forceDirection:g,endSlot:v,startSlot:m,color:b,variant:C,reference:y,size:S,enableActiveStateStyles:_,renderComponent:x=o.CustomComponentDefaultLink,typography:T,textWrap:f=!1,maxLines:O,style:k={},isActive:w,isPills:A,...E}=e,P=f?null!=O?O:2:1,W=P>0?{...k,"--ui-lib-light-button-content-max-lines":P}:k;return r.createElement(x,{...E,className:(0,i.useLightButtonClasses)({...p(),...d()},{className:t,isSelected:n,isActive:w,isPills:A,children:a,iconOnly:c,showCaret:h,forceDirection:g,color:b,variant:C,size:S,enableActiveStateStyles:_,typography:T,textWrap:f,isLink:!0,endSlot:v,startSlot:m}),reference:(0,l.isomorphicRef)(y),style:W},r.createElement(s.LightButtonContent,{showCaret:h,isActiveCaret:h&&(A||w||n),iconOnly:c,ellipsis:u,textWrap:f,endSlot:v,startSlot:m},a))}n(15378)},418920:(e,t,n)=>{"use strict";n.d(t,{useLightButtonClasses:()=>c});var i=n(50959),a=n(497754),r=n(234539),o=n(959189),l=n(380327);const s=i.createContext({isInButtonGroup:!1,isGroupPrimary:!1}),c=(e,t,n)=>{const c=(0,
i.useContext)(r.CustomBehaviourContext),{className:d,isSelected:u,children:p,showCaret:h,forceDirection:g,iconOnly:v,color:m="gray",variant:b="primary",size:C="medium",enableActiveStateStyles:y=c.enableActiveStateStyles,typography:S,isLink:_=!1,textWrap:x,isPills:T,isActive:f,startSlot:O,endSlot:k}=t,w=e[`typography-${((e,t,n)=>{if(n){const e=n.replace(/^\D+/g,"");return t?`semibold${e}`:n}switch(e){case"xsmall":return t?"semibold14px":"regular14px";case"small":case"medium":return t?"semibold16px":"regular16px";default:return""}})(C,u||T,S||void 0)}`],A=(0,i.useContext)(l.ControlGroupContext),{isInButtonGroup:E,isGroupPrimary:P}=(0,i.useContext)(s);return a(d,e.lightButton,_&&e.link,f&&e.active,u&&e.selected,(0,o.isIconOnly)(p,v)&&e.noContent,!!O&&e.withStartSlot,(h||!!k)&&e.withEndSlot,n&&e.withGrouped,g&&e[g],e[P?"primary":b],e[P?"gray":m],e[C],w,!y&&e.disableActiveStateStyles,A.isGrouped&&e.grouped,x&&e.wrap,E&&e.disableActiveOnTouch,T&&e.pills)}},854797:(e,t,n)=>{"use strict";n.d(t,{LightButtonContent:()=>u});var i=n(50959),a=n(497754),r=n(601198),o=n(959189),l=n(72571),s=n(602948),c=n(729075),d=n.n(c);function u(e){const{showCaret:t,iconOnly:n,ellipsis:c=!0,textWrap:u,tooltipText:p,children:h,endSlot:g,startSlot:v,isActiveCaret:m}=e;[g,t].filter((e=>!!e));return i.createElement(i.Fragment,null,v&&i.createElement("span",{className:a(d().slot,d().startSlot)},v),!(0,o.isIconOnly)(h,n)&&i.createElement("span",{className:a(d().content,!u&&d().nowrap,"apply-overflow-tooltip","apply-overflow-tooltip--check-children-recursively","apply-overflow-tooltip--allow-text"),"data-overflow-tooltip-text":null!=p?p:(0,r.getTextForTooltip)(h)},u||c?i.createElement(i.Fragment,null,i.createElement("span",{className:a(!u&&c&&d().ellipsisContainer,u&&d().textWrapContainer,u&&c&&d().textWrapWithEllipsis)},h),i.createElement("span",{className:d().visuallyHidden,"aria-hidden":!0},h)):i.createElement(i.Fragment,null,h,i.createElement("span",{className:d().visuallyHidden,"aria-hidden":!0},h))),g&&i.createElement("span",{className:a(d().slot,d().endSlot)},g),t&&(e=>i.createElement(l.Icon,{className:a(d().caret,e&&d().activeCaret),icon:s}))(m))}},943158:(e,t,n)=>{"use strict";n.d(t,{LightButton:()=>u});var i=n(50959),a=n(380327),r=n(418920),o=n(854797),l=n(729075),s=n.n(l),c=n(262978),d=n.n(c);function u(e){const{isGrouped:t}=i.useContext(a.ControlGroupContext),{reference:n,className:l,isSelected:c,children:u,iconOnly:p,ellipsis:h,showCaret:g,forceDirection:v,endSlot:m,startSlot:b,color:C,variant:y,size:S,enableActiveStateStyles:_,typography:x,textWrap:T=!1,maxLines:f,style:O={},isPills:k,isActive:w,tooltipText:A,role:E,...P}=e,W=T?null!=f?f:2:1,B=W>0?{...O,"--ui-lib-light-button-content-max-lines":W}:O;return i.createElement("button",{...P,className:(0,r.useLightButtonClasses)({...d(),...s()},{className:l,isSelected:c,children:u,iconOnly:p,showCaret:g,forceDirection:v,endSlot:m,startSlot:b,color:C,variant:y,size:S,enableActiveStateStyles:_,typography:x,textWrap:T,isPills:k,isActive:w},t),ref:n,style:B,role:E
},i.createElement(o.LightButtonContent,{showCaret:g,isActiveCaret:g&&(k||w||c),iconOnly:p,ellipsis:h,textWrap:T,tooltipText:A,endSlot:m,startSlot:b},u))}},234539:(e,t,n)=>{"use strict";n.d(t,{CustomBehaviourContext:()=>i});const i=(0,n(50959).createContext)({enableActiveStateStyles:!0});i.displayName="CustomBehaviourContext"},247465:(e,t,n)=>{"use strict";n.d(t,{isCancelled:()=>r,makeCancelable:()=>a});class i extends Error{constructor(){super("CancelToken")}}function a(e){let t=!1;return{promise:new Promise(((n,a)=>{e.then((e=>t?a(new i):n(e))),e.catch((e=>a(t?new i:e)))})),cancel(){t=!0}}}function r(e){return e instanceof i}},865266:(e,t,n)=>{"use strict";n.d(t,{useRovingTabindexElement:()=>r});var i=n(50959),a=n(718736);function r(e,t=[]){const[n,r]=(0,i.useState)(!1),o=(0,a.useFunctionalRefObject)(e);return(0,i.useLayoutEffect)((()=>{const e=o.current;if(null===e)return;const t=e=>{switch(e.type){case"roving-tabindex:main-element":r(!0);break;case"roving-tabindex:secondary-element":r(!1)}};return e.addEventListener("roving-tabindex:main-element",t),e.addEventListener("roving-tabindex:secondary-element",t),()=>{e.removeEventListener("roving-tabindex:main-element",t),e.removeEventListener("roving-tabindex:secondary-element",t)}}),t),[o,n?0:-1]}},222189:e=>{e.exports={container:"container-RoCcHn9S",active:"active-RoCcHn9S",title:"title-RoCcHn9S",inactive:"inactive-RoCcHn9S",titleText:"titleText-RoCcHn9S",indicator:"indicator-RoCcHn9S",disconnected:"disconnected-RoCcHn9S",failed:"failed-RoCcHn9S",connecting:"connecting-RoCcHn9S",connected:"connected-RoCcHn9S",loginTooltip:"loginTooltip-RoCcHn9S"}},567343:e=>{e.exports={tab:"tab-jJ_D7IlA",accessible:"accessible-jJ_D7IlA"}},364351:e=>{e.exports={wrapper:"wrapper-mXzF5cTO",button:"button-mXzF5cTO"}},259706:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getTerminalConfigSet:()=>A});var i=n(609838);const a={paper_trading:{name:"paper_trading",title:i.t(null,void 0,n(666803)),buttonOpenTooltip:i.t(null,void 0,n(713935)),buttonCloseTooltip:i.t(null,void 0,n(124939)),ctor:null,_gaEvent:"Trading Panel"},scripteditor:{name:"scripteditor",title:i.t(null,void 0,n(76324)),buttonOpenTooltip:i.t(null,void 0,n(580067)),buttonCloseTooltip:i.t(null,void 0,n(3111)),ctor:null,_gaEvent:"Pine Editor"},backtesting:{name:"backtesting",title:i.t(null,void 0,n(435155)),buttonOpenTooltip:i.t(null,void 0,n(248686)),buttonCloseTooltip:i.t(null,void 0,n(70046)),ctor:null,_gaEvent:"Strategy Tester"},screener:{name:"screener",title:i.t(null,void 0,n(696609)),buttonOpenTooltip:i.t(null,void 0,n(54391)),buttonCloseTooltip:i.t(null,void 0,n(540474)),ctor:null,_gaEvent:"Screener"},replay_trading:{name:"replay_trading",title:i.t(null,void 0,n(169623)),buttonOpenTooltip:i.t(null,void 0,n(419912)),buttonCloseTooltip:i.t(null,void 0,n(161307)),ctor:null,_gaEvent:"Replay Trading Panel"}};var r=n(650151),o=n(344557),l=(n(599016),n(739390));class s{constructor(e){this._contentRenderer=Promise.resolve(),this._spinnerContainer=document.createElement("div"),this._offlineScreenContainer=document.createElement("div"),
this._renderer=Promise.resolve(),this._bridge=e,(0,o.waitTradingService)().then((e=>{this._trading=e,this.onStatusChange(e.connectStatus()),this._trading.onConnectionStatusChange.subscribe(this,this.onStatusChange)})),n.e(7102).then(n.bind(n,974063)).then((e=>{e.render(this._spinnerContainer)})),(0,l.renderOfflineScreen)((0,r.ensureDefined)(this._offlineScreenContainer))}activate(){this._contentRenderer.then((()=>{this._content&&this._content.drawAttention&&this._content.drawAttention()}))}onStatusChange(e,t){this._connectStatus!==e&&(this._connectStatus=this._trading.connectStatus(),window.navigator.onLine?(this._contentRenderer=Promise.resolve(),this._content&&this._content.remove(),2===e&&this._renderSpinner(),3!==e&&4!==e?1===e&&this._renderAccountManager(this._trading.activeBroker()):this._renderSpinner()):this._renderOfflineScreen())}_renderSpinner(){this._bridge.container.innerText="",this._content=this._bridge.container.appendChild(this._spinnerContainer)}_renderOfflineScreen(){this._bridge.container.innerText="",this._content=this._bridge.container.appendChild(this._offlineScreenContainer)}async _createAccountManager(e){const{AccountManager:t}=await Promise.all([n.e(6416),n.e(3060),n.e(2603),n.e(5514),n.e(7399),n.e(2248),n.e(7769),n.e(4403),n.e(8077),n.e(5666),n.e(1729),n.e(7090),n.e(7530),n.e(7902),n.e(3493),n.e(889),n.e(7561),n.e(2829),n.e(4482),n.e(801),n.e(872),n.e(3251),n.e(5267),n.e(6227),n.e(4811),n.e(5476),n.e(6534),n.e(4226),n.e(8354)]).then(n.bind(n,597903)),{SummaryFieldsVisibilityManager:i}=await Promise.all([n.e(6416),n.e(3060),n.e(2603),n.e(5514),n.e(7399),n.e(2248),n.e(7769),n.e(4403),n.e(8077),n.e(5666),n.e(1729),n.e(7090),n.e(7530),n.e(7902),n.e(3493),n.e(889),n.e(7561),n.e(2829),n.e(4482),n.e(801),n.e(872),n.e(3251),n.e(5267),n.e(6227),n.e(4811),n.e(5476),n.e(6534),n.e(4226),n.e(8354)]).then(n.bind(n,332510));if(this._contentRenderer!==this._renderer)return;this._content&&this._content.remove();const a=new i((0,r.ensureNotNull)(e).accountManagerInfo().summary,this._trading.getBrokerTradingSettingsStorage);this._content=await t.create({broker:e,bridge:this._bridge,mode:1,summaryFieldsVisibilityManager:a})}_renderAccountManager(e){this._renderer=this._contentRenderer=this._createAccountManager(e)}_renderBrokerSelectScreen(){0}}var c=n(50959),d=n(497754),u=n.n(d),p=n(440891),h=n(247465),g=n(391431),v=n(14517),m=n(28033),b=n(898237),C=n(865266),y=n(364351);const S=i.t(null,void 0,n(366823));function _(e){const{onClick:t,onWidthChange:a,tradeButtonWidth:r,showHint:o,isActive:l}=e,[,s]=(0,C.useRovingTabindexElement)(null),d=(0,c.useRef)(null);return(0,c.useEffect)((()=>{var e,t;a(null!==(t=null===(e=d.current)||void 0===e?void 0:e.offsetWidth)&&void 0!==t?t:0)}),[]),c.createElement("div",{className:y.wrapper,ref:d},c.createElement(b.LightButton,{size:"xsmall",color:"gray",onClick:t,variant:l?"primary":"secondary",title:i.t(null,void 0,n(319133)),className:u()("apply-common-tooltip",y.button),"area-label":i.t(null,void 0,n(319133)),tabIndex:s,"data-name":"trade-panel-button"},S,!1))}
var x=n(222189);const T=i.t(null,void 0,n(332668)),f={4:"failed",2:"connecting",1:"connected",3:"disconnected"},O={4:i.t(null,void 0,n(935284)),2:i.t(null,void 0,n(366891)),1:i.t(null,void 0,n(618305)),3:i.t(null,void 0,n(551772))};class k extends c.PureComponent{constructor(e){super(e),this._trading=null,this._tradingServiceCancelable=null,this._isTradingButtonsAvailable=(0,m.checkIsDOMAvailable)()||p.enabled("order_panel"),this._titleClick=()=>{const{onClick:e}=this.props;e&&e()},this._update=()=>{const e=this._trading,t=e&&e.activeBroker(),n=e?e.connectStatus():3,i=null!==e,a=!!i&&e.tradingPanel.isOpeningAvailable.value(),r=!!i&&e.tradingPanel.isOpened.value(),o=window.is_authenticated&&i&&null!==t&&1===n;this.setState({status:n,hasActiveBroker:o,title:o?t.accountManagerInfo().accountTitle:T,isOpeningTradingPanelAvailable:a,isTradingPanelOpened:r})},this._handleClickTradeButton=()=>{null!==this._trading&&this._trading.toggleTradingPanelVisibility()},this.state={status:3,hasActiveBroker:!1,title:T,isOpeningTradingPanelAvailable:!1,isTradingPanelOpened:!1,tradeButtonWidth:0}}componentDidMount(){const e=(0,o.tradingService)();null===e?(this._tradingServiceCancelable=(0,h.makeCancelable)((0,o.waitTradingService)()),this._tradingServiceCancelable.promise.then(this._onTradingService.bind(this))):this._onTradingService(e)}componentWillUnmount(){this._cancelWaitingTrading(),null!==this._trading&&(this._trading.onBrokerChange.unsubscribe(this,this._update),this._trading.onConnectionStatusChange.unsubscribe(this,this._update),this._trading.tradingPanel.isOpeningAvailable.unsubscribe(this._update),this._trading.tradingPanel.isOpened.unsubscribe(this._update))}render(){const{status:e,hasActiveBroker:t,title:n,tradeButtonWidth:i,isOpeningTradingPanelAvailable:a}=this.state,r=(1===e||t)&&this._isTradingButtonsAvailable&&a,o={"--trade-button-width":r?i:0};return c.createElement(c.Fragment,null,c.createElement(v.FooterToolbarTab,{style:o,className:d(g.bottomTradingTabClassName,this.props.tooltip&&"apply-common-tooltip",x.container,x[f[e]],{[x.active]:this.props.isActive,[x.inactive]:!t}),onClick:this._titleClick,"data-name":this.props.dataName,"data-active":this.props.isActive,"aria-pressed":this.props.isActive,tooltip:this.props.tooltip},c.createElement("span",{className:x.title},c.createElement("span",{className:x.titleText},n)),c.createElement("div",{className:d(x.indicator,"apply-common-tooltip"),title:O[e]})),r&&c.createElement(_,{onClick:this._handleClickTradeButton,tradeButtonWidth:i,onWidthChange:e=>this.setState({...this.state,tradeButtonWidth:e}),showHint:void 0!==this.props.dataName,isActive:this.state.isTradingPanelOpened}))}_onTradingService(e){this._cancelWaitingTrading(),this._trading=e,e.onBrokerChange.subscribe(this,this._update),e.onConnectionStatusChange.subscribe(this,this._update),e.tradingPanel.isOpeningAvailable.subscribe(this._update),e.tradingPanel.isOpened.subscribe(this._update),this._update()}_cancelWaitingTrading(){null!==this._tradingServiceCancelable&&(this._tradingServiceCancelable.cancel(),
this._tradingServiceCancelable=null)}}var w=n(41899);function A(){const e={paper_trading:{ctor:s,customTitleComponent:k,buttonOpenTooltip:i.t(null,void 0,n(951065)),buttonCloseTooltip:i.t(null,void 0,n(287902))}};return(0,w.merge)((0,w.clone)(a),e)}},14517:(e,t,n)=>{"use strict";n.d(t,{FooterToolbarTab:()=>s});var i=n(50959),a=n(497754),r=n.n(a),o=n(865266),l=n(567343);function s(e){const{tooltip:t,children:n,className:a,...s}=e,[c,d]=(0,o.useRovingTabindexElement)(null);return i.createElement("button",{"aria-label":t,...s,ref:c,tabIndex:d,type:"button","data-tooltip":t,className:r()(l.tab,l.accessible,a)},n)}},602948:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M3.92 7.83 9 12.29l5.08-4.46-1-1.13L9 10.29l-4.09-3.6-.99 1.14Z"/></svg>'}}]);