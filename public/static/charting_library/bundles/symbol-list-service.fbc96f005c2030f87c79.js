"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[1026],{605011:(t,e,n)=>{n.r(e),n.d(e,{activeSymbolListNavigator:()=>a});var o=n(746212),i=n(129885),l=n(376202),s=n(254931),r=n(688401),c=n(706474);function*a(t){const e=(0,o.eventChannel)((t=>{const e=(e,n)=>{e.defaultPrevented||null===e.target.closest("[data-allow-watchlist-navigation]")&&e.target!==document.body||t(n)},n=l.createGroup({desc:"Active Symbol List Navigation"});return n.add({desc:"Select previous symbol",hotkey:38,handler:t=>e(t,"previous")}),n.add({desc:"Select previous symbol",hotkey:l.Modifiers.Shift+32,handler:t=>e(t,"previous")}),n.add({desc:"Select next symbol",hotkey:32,handler:t=>e(t,"next")}),n.add({desc:"Select next symbol",hotkey:40,handler:t=>e(t,"next")}),()=>n.destroy()}));try{for(;;){const n=yield(0,i.take)(e),o=(0,s.getGlobalActiveSymbolList)(yield(0,i.select)());if(null===o)continue;const l=o.symbols;if(0===l.length)continue;const a=r.linking.proSymbol.value(),u=r.linking.symbolNamesList.value();let d=(0,c.getSymbolFromList)(a,l);!d&&u&&u.forEach((t=>{d=(0,c.getSymbolFromList)(t,l)}));const m=l.indexOf(d||"");switch(n){case"previous":{const e=-1===m?l.length-1:(m+l.length-1)%l.length;if((0,c.isValidSeparatorItem)(l[e])){const n=(0,c.findNextAvailableSymbol)(e,l,"previous");n&&r.linking.setSymbolAndLogInitiator(n,t);break}r.linking.setSymbolAndLogInitiator(l[e],t);break}case"next":{const e=-1===m?0:(m+l.length+1)%l.length;if((0,c.isValidSeparatorItem)(l[e])){const n=(0,c.findNextAvailableSymbol)(e,l,"next");n&&r.linking.setSymbolAndLogInitiator(n,t);break}r.linking.setSymbolAndLogInitiator(l[e],t);break}}}}finally{e.close()}}},2595:(t,e,n)=>{n.r(e),n.d(e,{configureStore:()=>g});var o=n(891442),i=n(746212),l=n(406047),s=n(316230),r=n(244e3),c=n(70644);function a(t,e,n,o){return{id:t,tickerType:e,columns:n,options:o,selectedSymbols:[],sorting:null,highlightedSymbols:null,listId:null,isLoading:!1,symbolsBeforeSorting:null,sortingListId:null,scrollToId:null}}function u(t,e){if(t.length!==e.length)return!1;const n=[...t].sort(),o=[...e].sort();return(0,s.default)(n,o)}function d(t,e){return{...t,[e]:{...t[e],sorting:null,symbolsBeforeSorting:null,sortingListId:null}}}var m=n(706474);const f=(0,l.combineReducers)({positions:function(t={},e){switch(e.type){case c.UPDATE_POSITIONS:{const{symbol:n,position:o}=e;return(0,m.isEqualRecords)(t[n],o)?t:{...t,[n]:o}}case c.UPDATE_BULK_POSITIONS:{const{map:n}=e,o={...t};let i=!1;for(const[e,l]of Object.entries(n))(0,m.isEqualRecords)(t[e],l)||(i=!0,o[e]=l);return i?o:t}default:return t}},customLists:r.reducer,hotLists:(t,e)=>null,markedLists:(t,e)=>null,widgets:function(t={},e){if(r.setup.match(e)||r.insert.match(e)||r.exclude.match(e)||r.exact.match(e)||r.replace.match(e)){let n=t;for(const o of Object.values(t)){const{listId:i,sortingListId:l,symbolsBeforeSorting:s}=o;if(null!==i){if(i===l&&r.setup.match(e)){const t=e.payload.lists.find((t=>t.id===l));if(void 0!==t&&null!==s&&u(t.symbols,s))continue}n=d(t,o.id)}}return n}return function(t={},e){var n;switch(e.type){
case c.INIT_WIDGET:{const{id:n,tickerType:o,columns:i,options:l}=e;return{...t,[n]:a(n,o,i,l)}}case c.UPDATE_WIDGET:{const{widgetId:o,widget:i}=e,l={...t,[o]:{...t[o],...i}},s=t[o].tickerType,r=i.tickerType,c="short_name"===(null===(n=t[o].sorting)||void 0===n?void 0:n.column);return void 0!==r&&s!==r&&c?d(l,o):l}case c.UPDATE_WIDGET_OPTIONS:{const{widgetId:n,options:o}=e;return{...t,[n]:{...t[n],options:{...t[n].options,...o}}}}default:return t}}(t,e)},isAuthenticated:()=>!1,activeSymbolList:function(t=null,e){return e.type===c.UPDATE_ACTIVE_LIST?e.id:t},collapsedSeparators:()=>({})});function g(){const t=(0,i.default)();return{store:(0,o.configureStore)({reducer:f,middleware:e=>[...e(),...y(),t,null,null].filter((t=>null!==t))}),runner:t}}function y(){return[]}},215078:(t,e,n)=>{function o(t){return e=>t+"__"+e}n.d(e,{createActionTypeFactory:()=>o})}}]);