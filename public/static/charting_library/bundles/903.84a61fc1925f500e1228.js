(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[903,4811],{174786:(e,t,n)=>{"use strict";n.d(t,{default:()=>o});const o=function(){}},440352:e=>{e.exports={button:"button-PYEOTd6i",disabled:"disabled-PYEOTd6i",hidden:"hidden-PYEOTd6i",icon:"icon-PYEOTd6i",dropped:"dropped-PYEOTd6i"}},822306:e=>{e.exports={checkbox:"checkbox-vyj6oJxw",reverse:"reverse-vyj6oJxw",label:"label-vyj6oJxw",baseline:"baseline-vyj6oJxw"}},248149:e=>{e.exports={"textarea-container":"textarea-container-x5KHDULU","change-highlight":"change-highlight-x5KHDULU",focused:"focused-x5KHDULU","resize-vertical":"resize-vertical-x5KHDULU","resize-horizontal":"resize-horizontal-x5KHDULU","resize-both":"resize-both-x5KHDULU",textarea:"textarea-x5KHDULU","with-icon":"with-icon-x5KHDULU",endslot:"endslot-x5KHDULU"}},520121:e=>{e.exports={dialog:"dialog-aRAWUDhF",rounded:"rounded-aRAWUDhF",shadowed:"shadowed-aRAWUDhF",fullscreen:"fullscreen-aRAWUDhF",darker:"darker-aRAWUDhF",backdrop:"backdrop-aRAWUDhF"}},703756:e=>{e.exports={"intent-default":"intent-default-EZuD3gZZ","intent-danger":"intent-danger-EZuD3gZZ","intent-warning":"intent-warning-EZuD3gZZ","intent-success":"intent-success-EZuD3gZZ","intent-neutral":"intent-neutral-EZuD3gZZ","intent-neutral-light":"intent-neutral-light-EZuD3gZZ","icon-wrapper-size-small":"icon-wrapper-size-small-EZuD3gZZ","icon-wrapper-size-medium":"icon-wrapper-size-medium-EZuD3gZZ","icon-wrapper-size-large":"icon-wrapper-size-large-EZuD3gZZ","icon-wrapper":"icon-wrapper-EZuD3gZZ",icon:"icon-EZuD3gZZ"}},721731:e=>{e.exports={radio:"radio-ALqkCUvs",input:"input-ALqkCUvs",box:"box-ALqkCUvs",reverse:"reverse-ALqkCUvs",label:"label-ALqkCUvs",wrapper:"wrapper-ALqkCUvs",noOutline:"noOutline-ALqkCUvs"}},380881:e=>{e.exports={wrap:"wrap-QStmZL8l",thicknessItem:"thicknessItem-QStmZL8l",checked:"checked-QStmZL8l",accessible:"accessible-QStmZL8l",focusVisible:"focusVisible-QStmZL8l",radio:"radio-QStmZL8l",bar:"bar-QStmZL8l"}},460903:e=>{e.exports={"small-height-breakpoint":"screen and (max-height: 360px)",footer:"footer-PhMf7PhQ",submitButton:"submitButton-PhMf7PhQ",buttons:"buttons-PhMf7PhQ"}},49368:e=>{e.exports={wrap:"wrap-ne5qGlZh",icon:"icon-ne5qGlZh",text:"text-ne5qGlZh",disabled:"disabled-ne5qGlZh"}},576776:e=>{e.exports={colorPickerWrap:"colorPickerWrap-Sw_a4qpB",focused:"focused-Sw_a4qpB",readonly:"readonly-Sw_a4qpB",disabled:"disabled-Sw_a4qpB","size-small":"size-small-Sw_a4qpB","size-medium":"size-medium-Sw_a4qpB","size-large":"size-large-Sw_a4qpB","font-size-small":"font-size-small-Sw_a4qpB","font-size-medium":"font-size-medium-Sw_a4qpB","font-size-large":"font-size-large-Sw_a4qpB","border-none":"border-none-Sw_a4qpB",shadow:"shadow-Sw_a4qpB","border-thin":"border-thin-Sw_a4qpB","border-thick":"border-thick-Sw_a4qpB","intent-default":"intent-default-Sw_a4qpB","intent-success":"intent-success-Sw_a4qpB","intent-warning":"intent-warning-Sw_a4qpB","intent-danger":"intent-danger-Sw_a4qpB","intent-primary":"intent-primary-Sw_a4qpB","corner-top-left":"corner-top-left-Sw_a4qpB",
"corner-top-right":"corner-top-right-Sw_a4qpB","corner-bottom-right":"corner-bottom-right-Sw_a4qpB","corner-bottom-left":"corner-bottom-left-Sw_a4qpB",colorPicker:"colorPicker-Sw_a4qpB",swatch:"swatch-Sw_a4qpB",placeholderContainer:"placeholderContainer-Sw_a4qpB",placeholder:"placeholder-Sw_a4qpB",mixedColor:"mixedColor-Sw_a4qpB",white:"white-Sw_a4qpB",opacitySwatch:"opacitySwatch-Sw_a4qpB",colorLine:"colorLine-Sw_a4qpB",multiWidth:"multiWidth-Sw_a4qpB",line:"line-Sw_a4qpB",thicknessContainer:"thicknessContainer-Sw_a4qpB",thicknessTitle:"thicknessTitle-Sw_a4qpB"}},347816:e=>{e.exports={thicknessContainer:"thicknessContainer-C05zSid7",thicknessTitle:"thicknessTitle-C05zSid7"}},585200:e=>{e.exports={hasTooltip:"hasTooltip-DcvaoxPU",uppercase:"uppercase-DcvaoxPU"}},949489:e=>{e.exports={wrap:"wrap-Q2NZ0gvI"}},731260:e=>{e.exports={checkbox:"checkbox-FG0u1J5p",title:"title-FG0u1J5p"}},605123:e=>{e.exports={hintButton:"hintButton-qEI9XsjF",infoTooltip:"infoTooltip-qEI9XsjF"}},200948:e=>{e.exports={titleWrap:"titleWrap-SexRbl__",title:"title-SexRbl__"}},347680:e=>{e.exports={button:"button-HBcDEU4c",accessible:"accessible-HBcDEU4c"}},52036:e=>{e.exports={"tablet-normal-breakpoint":"screen and (max-width: 768px)","tooltip-offset":"20px",dialog:"dialog-qyCw0PaN",dragging:"dragging-qyCw0PaN",mobile:"mobile-qyCw0PaN",fullscreen:"fullscreen-qyCw0PaN",dialogAnimatedAppearance:"dialogAnimatedAppearance-qyCw0PaN",dialogAnimation:"dialogAnimation-qyCw0PaN",dialogTooltip:"dialogTooltip-qyCw0PaN"}},444620:e=>{e.exports={button:"button-tFul0OhX","button-children":"button-children-tFul0OhX",hiddenArrow:"hiddenArrow-tFul0OhX",invisibleFocusHandler:"invisibleFocusHandler-tFul0OhX"}},866841:e=>{e.exports={"icon-wrapper":"icon-wrapper-dikdewwx","with-link":"with-link-dikdewwx","with-tooltip":"with-tooltip-dikdewwx","no-active-state":"no-active-state-dikdewwx"}},770369:e=>{e.exports={placeholder:"placeholder-V6ceS6BN"}},379081:e=>{e.exports={menuWrap:"menuWrap-Kq3ruQo8",isMeasuring:"isMeasuring-Kq3ruQo8",scrollWrap:"scrollWrap-Kq3ruQo8",momentumBased:"momentumBased-Kq3ruQo8",menuBox:"menuBox-Kq3ruQo8",isHidden:"isHidden-Kq3ruQo8"}},302946:(e,t,n)=>{"use strict";n.d(t,{Checkbox:()=>c});var o=n(50959),s=n(497754),i=n(230789),r=n(408323),a=n(822306),l=n.n(a);class c extends o.PureComponent{render(){const{inputClassName:e,labelClassName:t,...n}=this.props,i=s(this.props.className,l().checkbox,{[l().reverse]:Boolean(this.props.labelPositionReverse),[l().baseline]:Boolean(this.props.labelAlignBaseline)}),a=s(l().label,t,{[l().disabled]:this.props.disabled});let c=null;return this.props.label&&(c=o.createElement("span",{className:a,title:this.props.title},this.props.label)),o.createElement("label",{className:i},o.createElement(r.CheckboxInput,{...n,className:e}),c)}}c.defaultProps={value:"on"};(0,i.makeSwitchGroupItem)(c);n(611031)},558213:(e,t,n)=>{"use strict";n.d(t,{Textarea:()=>_});var o,s=n(50959),i=n(497754),r=n(525388),a=n(383836),l=n(21778),c=n(603548),u=n(269842),d=n(1811),p=n(34735),h=n(102691),m=n(248149),g=n.n(m);!function(e){
e.None="none",e.Vertical="vertical",e.Horizontal="horizontal",e.Both="both"}(o||(o={}));const f=s.forwardRef(((e,t)=>{const{id:n,title:o,tabIndex:r,containerTabIndex:a,role:l,inputClassName:c,autoComplete:u,autoFocus:d,cols:m,disabled:f,isFocused:v,form:b,maxLength:_,minLength:C,name:y,placeholder:x,readonly:E,required:w,rows:S,value:T,defaultValue:N,wrap:D,containerReference:I,onChange:P,onSelect:k,onFocus:B,onContainerFocus:M,onBlur:F,onPaste:O,"aria-describedby":R,"aria-required":A,"aria-invalid":L,hasIcon:W,endSlot:V,hasAttachImage:z,...q}=e,H={id:n,title:o,tabIndex:r,role:l,autoComplete:u,autoFocus:d,cols:m,disabled:f,form:b,maxLength:_,minLength:C,name:y,placeholder:x,readOnly:E,required:w,rows:S,value:T,defaultValue:N,wrap:D,onChange:P,onSelect:k,onFocus:B,onBlur:F,onPaste:O,"aria-describedby":R,"aria-required":A,"aria-invalid":L};return s.createElement(p.ControlSkeleton,{...q,tabIndex:a,disabled:f,readonly:E,isFocused:v,ref:I,onFocus:M,middleSlot:s.createElement(h.MiddleSlot,null,s.createElement("textarea",{...H,className:i(g().textarea,c,V&&g().endslot),ref:t})),...V&&{endSlot:s.createElement("span",{className:i(!z&&g()["with-icon"])},V)}})}));f.displayName="TextareaView";const v=(e,t,n)=>t?void 0:e?-1:n,b=(e,t,n)=>t?void 0:e?n:-1,_=s.forwardRef(((e,t)=>{e=(0,l.useControl)(e);const{className:n,disabled:p,autoSelectOnFocus:h,tabIndex:m=0,borderStyle:_,highlight:C,resize:y,containerReference:x=null,onFocus:E,onBlur:w,hasIcon:S,...T}=e,N=(0,s.useRef)(null),D=(0,s.useRef)(null),{isMouseDown:I,handleMouseDown:P,handleMouseUp:k}=(0,c.useIsMouseDown)(),[B,M]=(0,a.useFocus)(),F=(0,u.createSafeMulticastEventHandler)(M.onFocus,(function(e){h&&!I.current&&(0,d.selectAllContent)(e.currentTarget)}),E),O=(0,u.createSafeMulticastEventHandler)(M.onBlur,w),R=void 0!==y&&y!==o.None,A=null!=_?_:R?C?"thick":"thin":void 0,L=null!=C?C:!R&&void 0;return s.createElement(f,{...T,className:i(g()["textarea-container"],R&&g()["change-highlight"],y&&y!==o.None&&g()[`resize-${y}`],B&&g().focused,n),disabled:p,isFocused:B,containerTabIndex:v(B,p,m),tabIndex:b(B,p,m),borderStyle:A,highlight:L,onContainerFocus:function(e){D.current===e.target&&null!==N.current&&N.current.focus()},onFocus:F,onBlur:O,onMouseDown:P,onMouseUp:k,ref:function(e){N.current=e,"function"==typeof t?t(e):t&&(t.current=e)},containerReference:(0,r.useMergedRefs)([x,D]),hasIcon:S})}));_.displayName="Textarea"},80137:(e,t,n)=>{"use strict";n.d(t,{Dialog:()=>c});var o=n(50959),s=n(497754),i=n(682925),r=n(801808),a=n(800417),l=n(520121);class c extends o.PureComponent{constructor(){super(...arguments),this._manager=new r.OverlapManager,this._handleSlot=e=>{this._manager.setContainer(e)}}render(){const{rounded:e=!0,shadowed:t=!0,fullscreen:n=!1,darker:r=!1,className:c,backdrop:u,containerTabIndex:d=-1}=this.props,p=s(c,l.dialog,e&&l.rounded,t&&l.shadowed,n&&l.fullscreen,r&&l.darker),h=(0,a.filterDataProps)(this.props),m=this.props.style?{...this._createStyles(),...this.props.style}:this._createStyles()
;return o.createElement(o.Fragment,null,o.createElement(i.SlotContext.Provider,{value:this._manager},u&&o.createElement("div",{onClick:this.props.onClickBackdrop,className:l.backdrop}),o.createElement("div",{...h,className:p,style:m,ref:this.props.reference,onFocus:this.props.onFocus,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp,onClick:this.props.onClick,onKeyDown:this.props.onKeyDown,tabIndex:d,"aria-label":this.props.containerAriaLabel},this.props.children)),o.createElement(i.Slot,{reference:this._handleSlot}))}_createStyles(){const{bottom:e,left:t,width:n,right:o,top:s,zIndex:i,height:r}=this.props;return{bottom:e,left:t,right:o,top:s,zIndex:i,maxWidth:n,height:r}}}},942544:(e,t,n)=>{"use strict";n.d(t,{useControlDisclosure:()=>s});var o=n(772069);function s(e){const{intent:t,highlight:n,...s}=e,{isFocused:i,...r}=(0,o.useDisclosure)(s);return{...r,isFocused:i,highlight:null!=n?n:i,intent:null!=t?t:i?"primary":"default"}}},975228:(e,t,n)=>{"use strict";n.d(t,{hoverMouseEventFilter:()=>i,useAccurateHover:()=>r,useHover:()=>s});var o=n(50959);function s(){const[e,t]=(0,o.useState)(!1);return[e,{onMouseOver:function(e){i(e)&&t(!0)},onMouseOut:function(e){i(e)&&t(!1)}}]}function i(e){return!e.currentTarget.contains(e.relatedTarget)}function r(e){const[t,n]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const t=t=>{if(null===e.current)return;const o=e.current.contains(t.target);n(o)};return document.addEventListener("mouseover",t),()=>document.removeEventListener("mouseover",t)}),[]),t}},908783:(e,t,n)=>{"use strict";n.d(t,{useOutsideEvent:()=>r});var o=n(50959),s=n(855393),i=n(778199);function r(e){const{click:t,mouseDown:n,touchEnd:r,touchStart:a,handler:l,reference:c}=e,u=(0,o.useRef)(null),d=(0,o.useRef)("undefined"==typeof window?0:new window.CustomEvent("timestamp").timeStamp);return(0,s.useIsomorphicLayoutEffect)((()=>{const e={click:t,mouseDown:n,touchEnd:r,touchStart:a},o=c?c.current:u.current;return(0,i.addOutsideEventListener)(d.current,o,l,document,e)}),[t,n,r,a,l]),c||u}},823030:(e,t,n)=>{"use strict";n.d(t,{SubmenuContext:()=>s,SubmenuHandler:()=>i});var o=n(50959);const s=o.createContext(null);function i(e){const[t,n]=(0,o.useState)(null),i=(0,o.useRef)(null),r=(0,o.useRef)(new Map);return(0,o.useEffect)((()=>()=>{null!==i.current&&clearTimeout(i.current)}),[]),o.createElement(s.Provider,{value:{current:t,setCurrent:function(e){null!==i.current&&(clearTimeout(i.current),i.current=null);null===t?n(e):i.current=setTimeout((()=>{i.current=null,n(e)}),100)},registerSubmenu:function(e,t){return r.current.set(e,t),()=>{r.current.delete(e)}},isSubmenuNode:function(e){return Array.from(r.current.values()).some((t=>t(e)))}}},e.children)}},682925:(e,t,n)=>{"use strict";n.d(t,{Slot:()=>s,SlotContext:()=>i});var o=n(50959);class s extends o.Component{shouldComponentUpdate(){return!1}render(){return o.createElement("div",{style:{position:"fixed",zIndex:150,left:0,top:0},ref:this.props.reference})}}const i=o.createContext(null)},230789:(e,t,n)=>{"use strict";n.d(t,{SwitchGroup:()=>r,
makeSwitchGroupItem:()=>a});var o=n(50959),s=n(174786);const i=(0,o.createContext)({getName:()=>"",getValues:()=>[],getOnChange:()=>s.default,subscribe:s.default,unsubscribe:s.default});class r extends o.PureComponent{constructor(e){super(e),this._subscriptions=new Set,this._getName=()=>this.props.name,this._getValues=()=>this.props.values,this._getOnChange=()=>this.props.onChange,this._subscribe=e=>{this._subscriptions.add(e)},this._unsubscribe=e=>{this._subscriptions.delete(e)},this.state={switchGroupContext:{getName:this._getName,getValues:this._getValues,getOnChange:this._getOnChange,subscribe:this._subscribe,unsubscribe:this._unsubscribe}}}render(){return o.createElement(i.Provider,{value:this.state.switchGroupContext},this.props.children)}componentDidUpdate(e){this._notify(this._getUpdates(this.props.values,e.values))}_notify(e){this._subscriptions.forEach((t=>t(e)))}_getUpdates(e,t){return[...t,...e].filter((n=>t.includes(n)?!e.includes(n):e.includes(n)))}}function a(e){var t;return t=class extends o.PureComponent{constructor(){super(...arguments),this._onChange=e=>{this.context.getOnChange()(e)},this._onUpdate=e=>{e.includes(this.props.value)&&this.forceUpdate()}}componentDidMount(){this.context.subscribe(this._onUpdate)}render(){return o.createElement(e,{...this.props,name:this._getName(),onChange:this._onChange,checked:this._isChecked()})}componentWillUnmount(){this.context.unsubscribe(this._onUpdate)}_getName(){return this.context.getName()}_isChecked(){return this.context.getValues().includes(this.props.value)}},t.contextType=i,t}},801808:(e,t,n)=>{"use strict";n.d(t,{OverlapManager:()=>i,getRootOverlapManager:()=>a});var o=n(650151);class s{constructor(){this._storage=[]}add(e){this._storage.push(e)}remove(e){this._storage=this._storage.filter((t=>e!==t))}has(e){return this._storage.includes(e)}getItems(){return this._storage}}class i{constructor(e=document){this._storage=new s,this._windows=new Map,this._index=0,this._document=e,this._container=e.createDocumentFragment()}setContainer(e){const t=this._container,n=null===e?this._document.createDocumentFragment():e;!function(e,t){Array.from(e.childNodes).forEach((e=>{e.nodeType===Node.ELEMENT_NODE&&t.appendChild(e)}))}(t,n),this._container=n}registerWindow(e){this._storage.has(e)||this._storage.add(e)}ensureWindow(e,t={position:"fixed",direction:"normal"}){const n=this._windows.get(e);if(void 0!==n)return n;this.registerWindow(e);const o=this._document.createElement("div");if(o.style.position=t.position,o.style.zIndex=this._index.toString(),o.dataset.id=e,void 0!==t.index){const e=this._container.childNodes.length;if(t.index>=e)this._container.appendChild(o);else if(t.index<=0)this._container.insertBefore(o,this._container.firstChild);else{const e=this._container.childNodes[t.index];this._container.insertBefore(o,e)}}else"reverse"===t.direction?this._container.insertBefore(o,this._container.firstChild):this._container.appendChild(o);return this._windows.set(e,o),++this._index,o}unregisterWindow(e){this._storage.remove(e);const t=this._windows.get(e)
;void 0!==t&&(null!==t.parentElement&&t.parentElement.removeChild(t),this._windows.delete(e))}getZindex(e){const t=this.ensureWindow(e);return parseInt(t.style.zIndex||"0")}moveToTop(e){if(this.getZindex(e)!==this._index){const t=this.ensureWindow(e);this._windows.forEach(((e,n)=>{e.hasAttribute("data-focus-trap")&&e.setAttribute("data-focus-trap",e===t?"true":"false")})),t.style.zIndex=(++this._index).toString()}}removeWindow(e){this.unregisterWindow(e)}}const r=new WeakMap;function a(e=document){const t=e.getElementById("overlap-manager-root");if(null!==t)return(0,o.ensureDefined)(r.get(t));{const t=new i(e),n=function(e){const t=e.createElement("div");return t.style.position="absolute",t.style.zIndex=150..toString(),t.style.top="0px",t.style.left="0px",t.id="overlap-manager-root",t}(e);return r.set(n,t),t.setContainer(n),e.body.appendChild(n),t}}var l;!function(e){e[e.BaseZindex=150]="BaseZindex"}(l||(l={}))},285089:(e,t,n)=>{"use strict";n.d(t,{setFixedBodyState:()=>l});var o=n(735922);const s=()=>!window.matchMedia("screen and (min-width: 768px)").matches,i=()=>!window.matchMedia("screen and (min-width: 1280px)").matches;let r=0,a=!1;function l(e){const{body:t}=document,n=t.querySelector(".widgetbar-wrap");if(e&&1==++r){const e=(0,o.getCSSProperty)(t,"overflow"),s=(0,o.getCSSPropertyNumericValue)(t,"padding-right");"hidden"!==e.toLowerCase()&&t.scrollHeight>t.offsetHeight&&((0,o.setStyle)(n,"right",`${(0,o.getScrollbarWidth)()}px`),t.style.paddingRight=`${s+(0,o.getScrollbarWidth)()}px`,a=!0),t.classList.add("i-no-scroll")}else if(!e&&r>0&&0==--r&&(t.classList.remove("i-no-scroll"),a)){(0,o.setStyle)(n,"right","0px");let e=0;e=n?(l=(0,o.getContentWidth)(n),s()?0:i()?45:Math.min(Math.max(l,45),450)):0,t.scrollHeight<=t.clientHeight&&(e-=(0,o.getScrollbarWidth)()),t.style.paddingRight=(e<0?0:e)+"px",a=!1}var l}},976669:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AdaptiveConfirmDialog:()=>h,DialogCloseAction:()=>o});var o,s=n(50959),i=n(497754),r=n.n(i),a=n(805184),l=n(650151),c=n(609838),u=n(180185),d=n(533408),p=n(460903);!function(e){e.Submit="submit",e.Cancel="cancel",e.None="none"}(o||(o={}));class h extends s.PureComponent{constructor(){super(...arguments),this._dialogRef=s.createRef(),this._handleClose=()=>{const{defaultActionOnClose:e,onSubmit:t,onCancel:n,onClose:o}=this.props;switch(e){case"submit":t();break;case"cancel":n()}o()},this._handleCancel=()=>{this.props.onCancel(),this.props.onClose()},this._handleKeyDown=e=>{const{onSubmit:t,submitButtonDisabled:n,submitOnEnterKey:o}=this.props;13===(0,u.hashFromEvent)(e)&&o&&(e.preventDefault(),n||t())}}render(){const{render:e,onClose:t,onSubmit:n,onCancel:o,footerLeftRenderer:i,submitButtonText:r,submitButtonDisabled:a,defaultActionOnClose:l,submitOnEnterKey:c,...u}=this.props;return s.createElement(d.AdaptivePopupDialog,{...u,ref:this._dialogRef,onKeyDown:this._handleKeyDown,render:this._renderChildren(),onClose:this._handleClose})}focus(){(0,l.ensureNotNull)(this._dialogRef.current).focus()}_renderChildren(){return e=>{
const{render:t,footerLeftRenderer:o,additionalButtons:i,submitButtonText:l,submitButtonDisabled:u,onSubmit:d,cancelButtonText:h,showCancelButton:m=!0,showSubmitButton:g=!0,submitButtonClassName:f,cancelButtonClassName:v,buttonsWrapperClassName:b}=this.props;return s.createElement(s.Fragment,null,t(e),s.createElement("div",{className:p.footer},o&&o(e.isSmallWidth),s.createElement("div",{className:r()(p.buttons,b)},i,m&&s.createElement(a.Button,{className:v,name:"cancel",appearance:"stroke",onClick:this._handleCancel},null!=h?h:c.t(null,void 0,n(904543))),g&&s.createElement("span",{className:p.submitButton},s.createElement(a.Button,{className:f,disabled:u,name:"submit",onClick:d,"data-name":"submit-button"},null!=l?l:c.t(null,void 0,n(819295)))))))}}}h.defaultProps={defaultActionOnClose:"submit",submitOnEnterKey:!0}},27950:(e,t,n)=>{"use strict";n.d(t,{EditButton:()=>l});var o=n(50959),s=n(497754),i=n(72571),r=n(610600),a=n(49368);function l(e){const{value:t,onClick:n,className:l,startSlot:c,disabled:u=!1}=e;return o.createElement("div",{className:s(a.wrap,u&&a.disabled,l),onClick:n,"data-name":"edit-button"},o.createElement("div",{className:s(a.text,"apply-overflow-tooltip")},void 0!==c&&c,o.createElement("span",null,t)),o.createElement(i.Icon,{icon:r,className:a.icon}))}},552315:(e,t,n)=>{"use strict";n.d(t,{ColorSelect:()=>D});var o=n(50959),s=n(497754),i=n.n(s),r=n(650151),a=n(180185),l=n(624216),c=n(383836),u=n(972646),d=n(230553),p=n(442092),h=n(333086),m=n(347680);function g(e){const{button:t,children:n,className:s,onPopupClose:g,"data-name":f,onColorChange:v,disabled:b,..._}=e,[C,y]=(0,o.useState)(!1),[x,E]=(0,o.useState)(!1),[w,S]=(0,c.useFocus)(),T=(0,o.useRef)(null),N=(0,o.useRef)(null),D=(0,o.useRef)(null);return o.createElement("div",{className:s,"data-name":f},o.createElement("button",{className:i()(m.button,m.accessible),tabIndex:b?-1:0,ref:D,onClick:function(){if(e.disabled)return;E((e=>!e)),y(!1)},onFocus:S.onFocus,onBlur:S.onBlur,disabled:b},"function"==typeof t?t(x,w):t),o.createElement(l.PopupMenu,{reference:N,controller:T,onFocus:function(e){if(!e.target||e.target!==e.currentTarget||C)return;const t=e.currentTarget,n=(0,r.ensureNotNull)((o=e.target,o.querySelector('[data-role="swatch"]:not([disabled]):not([aria-disabled])')));var o;(0,h.becomeMainElement)(n),setTimeout((()=>{if(document.activeElement!==t||!e.target.matches(":focus-visible"))return;const[n]=(0,p.queryTabbableElements)(t).sort(p.navigationOrderComparator);n&&n.focus()}))},isOpened:x,onClose:I,position:function(){const e=(0,r.ensureNotNull)(D.current).getBoundingClientRect();return{x:e.left,y:e.top+e.height}},doNotCloseOn:D.current,onKeyDown:function(e){if(27===(0,a.hashFromEvent)(e))x&&(e.preventDefault(),I())},onOpen:function(){var e;null===(e=T.current)||void 0===e||e.focus()},tabIndex:-1},o.createElement(d.MenuContext.Consumer,null,(e=>o.createElement(u.ColorPicker,{..._,onColorChange:v,onToggleCustom:y,menu:e}))),!C&&n));function I(){E(!1),(0,r.ensureNotNull)(D.current).focus(),g&&g()}}
var f=n(206397),v=n(589637),b=n(860184),_=n(609838),C=n(230789),y=n(380881);const x=(0,C.makeSwitchGroupItem)(class extends o.PureComponent{constructor(e){super(e),this._onChange=()=>{this.props.onChange&&this.props.onChange(this.props.value)},this._handleFocus=e=>{e.target.matches(":focus-visible")&&this.setState({isFocusVisible:!0})},this._handleBlur=()=>{this.state.isFocusVisible&&this.setState({isFocusVisible:!1})},this.state={isFocusVisible:!1}}render(){const{name:e,checked:t,value:n}=this.props,i=s(y.thicknessItem,y.accessible,{[y.checked]:t,[y.focusVisible]:this.state.isFocusVisible}),r=s(y.bar,{[y.checked]:t}),a={borderTopWidth:parseInt(n)};return o.createElement("div",{className:i},o.createElement("input",{type:"radio",className:y.radio,name:e,value:n,onChange:this._onChange,onFocus:this._handleFocus,onBlur:this._handleBlur,checked:t}),o.createElement("div",{className:r,style:a}," "))}});function E(e){const{name:t,values:n,selectedValues:s,onChange:i}=e,r=n.map(((e,t)=>o.createElement(x,{key:t,value:e.toString()}))),a=s.map((e=>e.toString()));return o.createElement("div",{className:y.wrap},o.createElement(C.SwitchGroup,{name:t,onChange:e=>{i(parseInt(e))},values:a},r))}var w=n(347816);const S=_.t(null,void 0,n(254971));function T(e){const{value:t,items:n,onChange:s}=e;return o.createElement("div",{className:w.thicknessContainer},o.createElement("div",{className:w.thicknessTitle},S),o.createElement(E,{name:"color_picker_thickness_select",onChange:s,values:n,selectedValues:"mixed"===t?[]:[t]}))}var N=n(576776);function D(e){const{className:t,selectOpacity:n=void 0!==e.opacity,thickness:s,color:r,disabled:a,opacity:l=1,onColorChange:c,onOpacityChange:u,onThicknessChange:d,thicknessItems:p,onPopupClose:h,"data-name":m}=e,[v,b,_]=(0,f.useCustomColors)();return o.createElement(g,{className:t,disabled:a,color:"mixed"!==r?r:null,selectOpacity:n,opacity:l,selectCustom:!0,customColors:v,onColorChange:c,onOpacityChange:r?u:void 0,onAddColor:b,onRemoveCustomColor:_,button:function(e,t){const n=e||t,c=n?"primary":"default";return o.createElement("div",{className:i()(N.colorPickerWrap,N[`intent-${c}`],N["border-thin"],N["size-medium"],n&&N.highlight,n&&N.focused,a&&N.disabled),"data-role":"button","data-name":s?"color-with-thickness-select":"color-select"},o.createElement("div",{className:i()(N.colorPicker,a&&N.disabled)},r&&"mixed"!==r?function(){const e=I(r,l),t=l>=.95&&P(r);return o.createElement("div",{className:N.opacitySwatch},o.createElement("div",{style:{backgroundColor:e},className:i()(N.swatch,t&&N.white)}))}():o.createElement("div",{className:N.placeholderContainer},o.createElement("div",{className:"mixed"===r?N.mixedColor:N.placeholder})),s&&function(){const e=r&&"mixed"!==r?I(r,l):void 0;if("mixed"===s)return o.createElement("div",{className:N.multiWidth},o.createElement("div",{style:{backgroundColor:e},className:N.line}),o.createElement("div",{style:{backgroundColor:e},className:N.line}),o.createElement("div",{style:{backgroundColor:e},className:N.line}));return o.createElement("span",{
className:i()(N.colorLine,P(r)&&N.white),style:{height:s,backgroundColor:e}})}()),n&&o.createElement("span",{className:N.shadow}))},onPopupClose:h,"data-name":m},s&&p&&o.createElement(T,{value:s,items:p,onChange:function(e){d&&d(e)}}))}function I(e,t){return e?(0,v.generateColor)(e,(0,v.alphaToTransparency)(t),!0):"#000000"}function P(e){return!!e&&e.toLowerCase()===b.white}},193315:(e,t,n)=>{"use strict";n.d(t,{SymbolInputsButton:()=>y});var o=n(50959),s=n(497754),i=n.n(s),r=n(609838),a=n(650151),l=n(753327),c=n(910549),u=n(440891),d=n(375751),p=n(284741),h=n(558323),m=n(27950),g=n(955261),f=n(720911),v=n(707002),b=n(626800),_=n(585200);function C(e){const{symbol:t,onSymbolChanged:s,disabled:a,className:d}=e,[g,f]=(0,o.useState)(t),C=(0,o.useContext)(l.SlotContext),y=(0,o.useContext)(c.PopupContext);return o.createElement(m.EditButton,{value:g,onClick:function(){const e=function(e){const t=(0,v.tokenize)(e);return(0,v.isSpread)(t)}(g)?g:(0,b.safeShortName)(g),t=(0,p.getSymbolSearchCompleteOverrideFunction)();(0,h.showSymbolSearchItemsDialog)({onSearchComplete:e=>{t(e[0].symbol,e[0].result).then((e=>{s(e.symbol),f(e.name)}))},dialogTitle:r.t(null,void 0,n(963245)),defaultValue:e,manager:C,onClose:()=>{y&&y.focus()},showSpreadActions:u.enabled("show_spread_operators")&&u.enabled("studies_symbol_search_spread_operators")})},disabled:a,className:i()(d,u.enabled("uppercase_instrument_names")&&_.uppercase)})}function y(e){if("definition"in e){const{propType:t,properties:n,id:s,title:i="",solutionId:r}=e.definition,l=n[t],c=l.value()||"",u=e=>{l.setValue(e)};return o.createElement(g.CommonSection,{id:s,title:i,solutionId:r},o.createElement(f.CellWrap,null,o.createElement(C,{symbol:(0,a.ensureDefined)(c),onSymbolChanged:u})))}{const{study:t,value:n,input:{id:s,name:r},onChange:l,disabled:c,hasTooltip:u}=e,p=e=>{const n=(0,d.getInternalSymbolName)(e,t);l(n,s,r)};return o.createElement(C,{symbol:(0,a.ensureDefined)(n),onSymbolChanged:p,disabled:c,className:i()(u&&_.hasTooltip)})}}},558323:(e,t,n)=>{"use strict";n.d(t,{showSymbolSearchItemsDialog:()=>l});var o=n(50959),s=n(753327),i=n(63192),r=n(798154),a=n(651674);function l(e){const{initialMode:t="symbolSearch",autofocus:n=!0,defaultValue:l,showSpreadActions:c,selectSearchOnInit:u,onSearchComplete:d,dialogTitle:p,placeholder:h,fullscreen:m,initialScreen:g,wrapper:f,dialog:v,contentItem:b,onClose:_,onOpen:C,footer:y,symbolTypes:x,searchInput:E,emptyState:w,hideMarkedListFlag:S,dialogWidth:T="auto",manager:N,shouldReturnFocus:D,onSymbolFiltersParamsChange:I,onEmptyResults:P,customSearchSymbols:k}=e;if(i.dialogsOpenerManager.isOpened("SymbolSearch")||i.dialogsOpenerManager.isOpened("ChangeIntervalDialog"))return;const B=document.createElement("div"),M=o.createElement(s.SlotContext.Provider,{value:null!=N?N:null},o.createElement(r.SymbolSearchItemsDialog,{onClose:O,initialMode:t,defaultValue:l,showSpreadActions:c,hideMarkedListFlag:S,selectSearchOnInit:u,onSearchComplete:d,dialogTitle:p,placeholder:h,fullscreen:m,initialScreen:g,wrapper:f,dialog:v,contentItem:b,footer:y,
symbolTypes:x,searchInput:E,emptyState:w,autofocus:n,dialogWidth:T,shouldReturnFocus:D,onSymbolFiltersParamsChange:I,onEmptyResults:P,customSearchSymbols:k})),F=(0,a.createReactRoot)(M,B);function O(){F.unmount(),i.dialogsOpenerManager.setAsClosed("SymbolSearch"),_&&_()}return i.dialogsOpenerManager.setAsOpened("SymbolSearch"),C&&C(),{close:O}}},39290:(e,t,n)=>{"use strict";n.d(t,{createAdapter:()=>i});var o=n(868674),s=n(596058);function i(e){if((0,o.isLineTool)(e))return{isPine:()=>!1,isStandardPine:()=>!1,canOverrideMinTick:()=>!1,resolvedSymbolInfoBySymbol:()=>{throw new TypeError("Only study is supported.")},symbolsResolved:()=>{throw new TypeError("Only study is supported.")},parentSources:()=>{throw new TypeError("Only study is supported.")},getAllChildren:()=>[],sourceId:()=>{throw new TypeError("Only study is supported.")},inputs:()=>({}),parentSourceForInput:()=>{throw new TypeError("Only study is supported.")}};if((0,s.isStudy)(e))return e;if("isInputsStudy"in e)return e;throw new TypeError("Unsupported source type.")}},771586:(e,t,n)=>{"use strict";n.d(t,{useDefinitionProperty:()=>i});var o=n(50959),s=n(653898);const i=e=>{const t="property"in e?e.property:void 0,n="defaultValue"in e?e.defaultValue:e.property.value(),[i,r]=(0,o.useState)(t?t.value():n);(0,o.useEffect)((()=>{if(t){const n={};return r(t.value()),t.subscribe(n,(t=>{const n=t.value();e.handler&&e.handler(n),r(n)})),()=>{t.unsubscribeAll(n)}}return()=>{}}),[t]);return[i,e=>{if(void 0!==t){const n=t.value();s.logger.logNormal(`Changing property value from "${n}" to "${e}"`),t.setValue(e)}}]}},720911:(e,t,n)=>{"use strict";n.d(t,{CellWrap:()=>a});var o=n(50959),s=n(497754),i=n.n(s),r=n(949489);function a(e){return o.createElement("div",{className:i()(r.wrap,e.className)},e.children)}},76882:(e,t,n)=>{"use strict";n.d(t,{CheckableTitle:()=>c});var o=n(50959),s=n(302946),i=n(771586);function r(e){const{property:t,...n}=e,[r,a]=(0,i.useDefinitionProperty)({property:t}),l="mixed"===r;return o.createElement(s.Checkbox,{...n,name:"toggle-enabled",checked:l||r,indeterminate:l,onChange:function(){a("mixed"===r||!r)}})}var a=n(720911),l=n(731260);function c(e){const{property:t,disabled:n,title:s,className:i,name:c}=e,u=o.createElement("span",{className:l.title},s);return o.createElement(a.CellWrap,{className:i},t?o.createElement(r,{name:c,className:l.checkbox,property:t,disabled:n,label:u,labelAlignBaseline:!0}):u)}},955261:(e,t,n)=>{"use strict";n.d(t,{CommonSection:()=>r});var o=n(50959),s=n(47924),i=n(76882);n(605123);function r(e){const{id:t,offset:n,disabled:r,checked:a,title:l,children:c,solutionId:u,infoTooltip:d}=e;return o.createElement(s.PropertyTable.Row,null,o.createElement(s.PropertyTable.Cell,{placement:"first",verticalAlign:"adaptive",offset:n,"data-section-name":t,colSpan:Boolean(c)?void 0:2,checkableTitle:!0},o.createElement(i.CheckableTitle,{name:`is-enabled-${t}`,title:l,disabled:r,property:a}),u&&!Boolean(c)&&!1,d&&!Boolean(c)&&!1),Boolean(c)&&o.createElement(s.PropertyTable.Cell,{placement:"last","data-section-name":t
},c,u&&!1,d&&!1))}},852830:(e,t,n)=>{"use strict";n.d(t,{GroupTitleSection:()=>a});var o=n(50959),s=n(47924),i=n(76882),r=n(200948);function a(e){return o.createElement(s.PropertyTable.Row,null,o.createElement(s.PropertyTable.Cell,{className:r.titleWrap,placement:"first",verticalAlign:"adaptive",colSpan:2,"data-section-name":e.name,checkableTitle:!0},o.createElement(i.CheckableTitle,{title:e.title,name:`is-enabled-${e.name}`,className:r.title})))}},653898:(e,t,n)=>{"use strict";n.d(t,{logger:()=>o});const o=(0,n(937778).getLogger)("Platform.GUI.PropertyDefinitionTrace")},886176:(e,t,n)=>{"use strict";n.d(t,{getChartTimezoneOffsetMs:()=>r,getTimezoneName:()=>i});var o=n(834002),s=n.n(o);function i(e){const t=e.model().timezone();if("exchange"!==t)return t;const n=e.model().mainSeries().symbolInfo();return null==n?void 0:n.timezone}function r(e,t){if(void 0===t)return 0;return s().get_timezone(t).offset_utc(e)}},63192:(e,t,n)=>{"use strict";n.d(t,{DialogsOpenerManager:()=>o,dialogsOpenerManager:()=>s});class o{constructor(){this._storage=new Map}setAsOpened(e,t){this._storage.set(e,t)}setAsClosed(e){this._storage.delete(e)}isOpened(e){return this._storage.has(e)}getDialogPayload(e){return this._storage.get(e)}}const s=new o},910549:(e,t,n)=>{"use strict";n.d(t,{PopupContext:()=>o});const o=n(50959).createContext(null)},59216:(e,t,n)=>{"use strict";n.d(t,{PopupDialog:()=>P});var o,s=n(50959),i=n(497754),r=n(650151),a=n(80137),l=n(874485),c=n(738036),u=n(822960),d=n(442092);function p(e,t,n,o){return e+t>o&&(e=o-t),e<n&&(e=n),e}function h(e){return{x:(0,u.clamp)(e.x,20,document.documentElement.clientWidth-20),y:(0,u.clamp)(e.y,20,window.innerHeight-20)}}function m(e){return{x:e.clientX,y:e.clientY}}function g(e){return{x:e.touches[0].clientX,y:e.touches[0].clientY}}!function(e){e[e.MouseGuardZone=20]="MouseGuardZone"}(o||(o={}));class f{constructor(e,t,n={boundByScreen:!0}){this._drag=null,this._canBeTouchClick=!1,this._frame=null,this._onMouseDragStart=e=>{if(0!==e.button||this._isTargetNoDraggable(e))return;e.preventDefault(),document.addEventListener("mousemove",this._onMouseDragMove),document.addEventListener("mouseup",this._onMouseDragEnd);const t=h(m(e));this._dragStart(t)},this._onTouchDragStart=e=>{if(this._isTargetNoDraggable(e))return;this._canBeTouchClick=!0,e.preventDefault(),this._header.addEventListener("touchmove",this._onTouchDragMove,{passive:!1});const t=h(g(e));this._dragStart(t)},this._onMouseDragEnd=e=>{e.target instanceof Node&&this._header.contains(e.target)&&e.preventDefault(),document.removeEventListener("mousemove",this._onMouseDragMove),document.removeEventListener("mouseup",this._onMouseDragEnd),this._onDragStop()},this._onTouchDragEnd=e=>{this._header.removeEventListener("touchmove",this._onTouchDragMove),this._onDragStop(),this._canBeTouchClick&&(this._canBeTouchClick=!1,function(e){if(e instanceof SVGElement){const t=document.createEvent("SVGEvents");t.initEvent("click",!0,!0),e.dispatchEvent(t)}e instanceof HTMLElement&&e.click()}(e.target))},this._onMouseDragMove=e=>{const t=h(m(e))
;this._dragMove(t)},this._onTouchDragMove=e=>{this._canBeTouchClick=!1,e.preventDefault();const t=h(g(e));this._dragMove(t)},this._onDragStop=()=>{this._drag=null,this._header.classList.remove("dragging"),this._options.onDragEnd&&this._options.onDragEnd()},this._dialog=e,this._header=t,this._options=n,this._header.addEventListener("mousedown",this._onMouseDragStart),this._header.addEventListener("touchstart",this._onTouchDragStart),this._header.addEventListener("touchend",this._onTouchDragEnd)}destroy(){null!==this._frame&&cancelAnimationFrame(this._frame),this._header.removeEventListener("mousedown",this._onMouseDragStart),document.removeEventListener("mouseup",this._onMouseDragEnd),this._header.removeEventListener("touchstart",this._onTouchDragStart),this._header.removeEventListener("touchend",this._onTouchDragEnd),document.removeEventListener("mouseleave",this._onMouseDragEnd)}updateOptions(e){this._options=e}_dragStart(e){const t=this._dialog.getBoundingClientRect();this._drag={startX:e.x,startY:e.y,finishX:e.x,finishY:e.y,dialogX:t.left,dialogY:t.top};const n=Math.round(t.left),o=Math.round(t.top);this._dialog.style.transform=`translate(${n}px, ${o}px)`,this._header.classList.add("dragging"),this._options.onDragStart&&this._options.onDragStart()}_dragMove(e){if(this._drag){if(this._drag.finishX=e.x,this._drag.finishY=e.y,null!==this._frame)return;this._frame=requestAnimationFrame((()=>{if(this._drag){const t=e.x-this._drag.startX,n=e.y-this._drag.startY;this._moveDialog(this._drag.dialogX+t,this._drag.dialogY+n)}this._frame=null}))}}_moveDialog(e,t){const n=this._dialog.getBoundingClientRect(),{boundByScreen:o}=this._options,s=p(e,n.width,o?0:-1/0,o?window.innerWidth:1/0),i=p(t,n.height,o?0:-1/0,o?window.innerHeight:1/0);this._dialog.style.transform=`translate(${Math.round(s)}px, ${Math.round(i)}px)`}_isTargetNoDraggable(e){return e.target instanceof Element&&null!==e.target.closest("[data-disable-drag]")}}const v={vertical:0};var b,_=n(813113),C=n(910549),y=n(285089),x=n(937778),E=n(924910);!function(e){e.Open="dialog-open",e.Close="dialog-close",e.FullscreenOn="dialog-fullscreen-on",e.FullscreenOff="dialog-fullscreen-off"}(b||(b={}));const w=(0,x.getLogger)("DialogEventDispatcher");class S{constructor(){this._openSessionId=null}dispatch(e){if("dialog-open"===e){if(null!==this._openSessionId)return void w.logError("Multiple calls to open dialog");this._openSessionId=(0,E.randomHash)()}null!==this._openSessionId?(window.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:{dialogSessionId:this._openSessionId}})),"dialog-close"===e&&(this._openSessionId=null)):w.logError("Empty open dialog session id")}}var T=n(69111),N=(n(440891),n(52036));N["tooltip-offset"];const D=class{constructor(e,t){this._frame=null,this._isFullscreen=!1,this._handleResize=()=>{null===this._frame&&(this._frame=requestAnimationFrame((()=>{this.recalculateBounds(),this._frame=null})))},this._dialog=e,this._guard=t.guard||v,this._calculateDialogPosition=t.calculateDialogPosition,this._initialHeight=e.style.height,
window.addEventListener("resize",this._handleResize)}updateOptions(e){this._guard=e.guard||v,this._calculateDialogPosition=e.calculateDialogPosition}setFullscreen(e){this._isFullscreen!==e&&(this._isFullscreen=e,this.recalculateBounds())}centerAndFit(){const{x:e,y:t}=this.getDialogsTopLeftCoordinates(),n=this._calcAvailableHeight(),o=this._calcDialogHeight();if(n===o)if(this._calculateDialogPosition){const{left:e,top:t}=this._calculateDialogPosition(this._dialog,document.documentElement,this._guard);this._dialog.style.transform=`translate(${Math.round(e)}px, ${Math.round(t)}px)`}else this._dialog.style.height=o+"px";this._dialog.style.top="0px",this._dialog.style.left="0px",this._dialog.style.transform=`translate(${e}px, ${t}px)`}getDialogsTopLeftCoordinates(){const{clientWidth:e,clientHeight:t}=this._getClientDimensions(),n=this._calcDialogHeight(),o=e/2-this._dialog.clientWidth/2,s=t/2-n/2+this._getTopOffset();return{x:Math.round(o),y:Math.round(s)}}recalculateBounds(){var e;const{clientWidth:t,clientHeight:n}=this._getClientDimensions(),{vertical:o}=this._guard,s=null===(e=this._calculateDialogPosition)||void 0===e?void 0:e.call(this,this._dialog,{clientWidth:t,clientHeight:n},{vertical:o});if(this._isFullscreen){if(this._dialog.style.top="0px",this._dialog.style.left="0px",this._dialog.style.width="100%",this._dialog.style.height="100%",this._dialog.style.transform="none",s){const{left:e,top:t,width:n,height:o}=s;this._dialog.style.transform=`translate(${Math.round(e)}px, ${Math.round(t)}px)`,n&&(this._dialog.style.width=`${n}px`,this._dialog.style.minWidth="unset"),o&&(this._dialog.style.height=`${o}px`,this._dialog.style.minHeight="unset")}}else if(s){const{left:e,top:t}=s;this._dialog.style.transform=`translate(${Math.round(e)}px, ${Math.round(t)}px)`}else{this._dialog.style.width="",this._dialog.style.height="";const e=this._dialog.getBoundingClientRect(),s=n-2*o,i=p(e.left,e.width,0,t),r=p(e.top,e.height,o,n);this._dialog.style.top="0px",this._dialog.style.left="0px",this._dialog.style.transform=`translate(${Math.round(i)}px, ${Math.round(r)}px)`,this._dialog.style.height=s<e.height?s+"px":this._initialHeight}}destroy(){window.removeEventListener("resize",this._handleResize),null!==this._frame&&(cancelAnimationFrame(this._frame),this._frame=null)}_getClientDimensions(){return{clientHeight:document.documentElement.clientHeight,clientWidth:document.documentElement.clientWidth}}_getTopOffset(){return 0}_calcDialogHeight(){const e=this._calcAvailableHeight();return e<this._dialog.clientHeight?e:this._dialog.clientHeight}_calcAvailableHeight(){return this._getClientDimensions().clientHeight-2*this._guard.vertical}};class I extends s.PureComponent{constructor(e){super(e),this._dialog=null,this._cleanUpFunctions=[],this._prevActiveElement=null,this._eventDispatcher=new S,this._handleDialogRef=e=>{const{reference:t}=this.props;this._dialog=e,"function"==typeof t&&t(e)},this._handleFocus=()=>{this._moveToTop()},this._handleMouseDown=e=>{this._moveToTop()},this._handleTouchStart=e=>{this._moveToTop()},this.state={
canFitTooltip:!1},this._prevActiveElement=document.activeElement}render(){return s.createElement(C.PopupContext.Provider,{value:this},s.createElement(c.OutsideEvent,{mouseDown:!0,touchStart:!0,handler:this.props.onClickOutside},(e=>s.createElement("div",{ref:e,"data-outside-boundary-for":this.props.name,onFocus:this._handleFocus,onMouseDown:this._handleMouseDown,onTouchStart:this._handleTouchStart,"data-dialog-name":this.props["data-dialog-name"]},s.createElement(a.Dialog,{style:this._applyAnimationCSSVariables(),...this.props,reference:this._handleDialogRef,className:i(N.dialog,(0,T.isOnMobileAppPage)("any")&&!this.props.noMobileAppShadows&&N.mobile,this.props.fullscreen&&N.fullscreen,this.props.className)},!1,this.props.children)))))}componentDidMount(){const{draggable:e,boundByScreen:t,onDragStart:n}=this.props,o=(0,r.ensureNotNull)(this._dialog);if(this._eventDispatcher.dispatch("dialog-open"),e){const e=o.querySelector("[data-dragg-area]");if(e&&e instanceof HTMLElement){const s=new f(o,e,{boundByScreen:Boolean(t),onDragStart:n});this._cleanUpFunctions.push((()=>s.destroy())),this._drag=s}}this.props.autofocus&&!o.contains(document.activeElement)&&o.focus(),(this._isFullScreen()||this.props.fixedBody)&&(0,y.setFixedBodyState)(!0);const{guard:s,calculateDialogPosition:i}=this.props;if(this.props.resizeHandler)this._resize=this.props.resizeHandler;else{const e=new D(o,{guard:s,calculateDialogPosition:i});this._cleanUpFunctions.push((()=>e.destroy())),this._resize=e}if(this._isFullScreen()&&this._eventDispatcher.dispatch("dialog-fullscreen-on"),this.props.isAnimationEnabled&&this.props.growPoint&&this._applyAppearanceAnimation(this.props.growPoint),this.props.centeredOnMount&&this._resize.centerAndFit(),this._resize.setFullscreen(this._isFullScreen()),this.props.shouldForceFocus){if(this.props.onForceFocus)return void this.props.onForceFocus(o);o.focus()}if(!o.contains(document.activeElement)){const e=function(e){const t=e.querySelector("[autofocus]:not([disabled])");if(t)return t;if(e.tabIndex>=0)return e;const n=(0,d.getActiveElementSelectors)(),o=Array.from(e.querySelectorAll(n)).filter((0,d.createScopedVisibleElementFilter)(e));let s=Number.NEGATIVE_INFINITY,i=null;for(let e=0;e<o.length;e++){const t=o[e],n=t.getAttribute("tabindex");if(null!==n){const e=parseInt(n,10);!isNaN(e)&&e>s&&(s=e,i=t)}}return i}(o);e instanceof HTMLElement&&e.focus()}}componentDidUpdate(e){const t=e.fullscreen;if(this._resize){const{guard:e,calculateDialogPosition:t}=this.props;this._resize.updateOptions({guard:e,calculateDialogPosition:t}),this._resize.setFullscreen(this._isFullScreen())}if(this._drag&&this._drag.updateOptions({boundByScreen:Boolean(this.props.boundByScreen),onDragStart:this.props.onDragStart}),e.fullscreen!==this.props.fullscreen){const e=this.props.fullscreen;e&&!t?this._eventDispatcher.dispatch("dialog-fullscreen-on"):!e&&t&&this._eventDispatcher.dispatch("dialog-fullscreen-off")}}componentWillUnmount(){var e
;if(this.props.shouldReturnFocus&&this._prevActiveElement&&document.body.contains(this._prevActiveElement)&&(null===document.activeElement||document.activeElement===document.body||(null===(e=this._dialog)||void 0===e?void 0:e.contains(document.activeElement))))try{setTimeout((()=>{this._prevActiveElement.focus({preventScroll:!0})}))}catch(e){}for(const e of this._cleanUpFunctions)e();(this._isFullScreen()||this.props.fixedBody)&&(0,y.setFixedBodyState)(!1),this._isFullScreen()&&this._eventDispatcher.dispatch("dialog-fullscreen-off"),this._eventDispatcher.dispatch("dialog-close")}focus(){this._dialog&&this._dialog.focus()}centerAndFit(){this._resize&&this._resize.centerAndFit()}recalculateBounds(){this._resize&&this._resize.recalculateBounds()}_moveToTop(){null!==this.context&&this.context.moveToTop()}_applyAnimationCSSVariables(){return{"--animationTranslateStartX":null,"--animationTranslateStartY":null,"--animationTranslateEndX":null,"--animationTranslateEndY":null}}_applyAppearanceAnimation(e){if(this._resize&&this._dialog){const{x:t,y:n}=e,{x:o,y:s}=this._resize.getDialogsTopLeftCoordinates();this._dialog.style.setProperty("--animationTranslateStartX",`${t}px`),this._dialog.style.setProperty("--animationTranslateStartY",`${n}px`),this._dialog.style.setProperty("--animationTranslateEndX",`${o}px`),this._dialog.style.setProperty("--animationTranslateEndY",`${s}px`),this._dialog.classList.add(N.dialogAnimatedAppearance)}}_handleTooltipFit(){0}_isFullScreen(){return Boolean(this.props.fullscreen)}}I.contextType=_.PortalContext,I.defaultProps={boundByScreen:!0,draggable:!0,centeredOnMount:!0,shouldReturnFocus:!0};const P=(0,l.makeOverlapable)(I,!0)},444144:(e,t,n)=>{"use strict";n.d(t,{ControlDisclosureView:()=>p});var o=n(50959),s=n(497754),i=n.n(s),r=n(525388),a=n(34735),l=n(102691),c=n(904925),u=n(364228),d=n(444620);const p=o.forwardRef(((e,t)=>{const{listboxId:n,className:s,listboxClassName:p,listboxTabIndex:h,hideArrowButton:m,matchButtonAndListboxWidths:g,popupPosition:f,disabled:v,isOpened:b,scrollWrapReference:_,repositionOnScroll:C,closeOnHeaderOverlap:y,listboxReference:x,size:E="small",onClose:w,onOpen:S,onListboxFocus:T,onListboxBlur:N,onListboxKeyDown:D,buttonChildren:I,children:P,caretClassName:k,buttonContainerClassName:B,listboxAria:M,...F}=e,O=(0,o.useRef)(null),R=!m&&o.createElement(l.EndSlot,null,o.createElement(u.Caret,{isDropped:b,disabled:v,className:k}));return o.createElement(c.PopupMenuDisclosureView,{buttonRef:O,listboxId:n,listboxClassName:p,listboxTabIndex:h,isOpened:b,onClose:w,onOpen:S,listboxReference:x,scrollWrapReference:_,onListboxFocus:T,onListboxBlur:N,onListboxKeyDown:D,listboxAria:M,matchButtonAndListboxWidths:g,popupPosition:f,button:o.createElement(a.ControlSkeleton,{...F,"data-role":"listbox",disabled:v,className:i()(d.button,s),size:E,ref:(0,r.useMergedRefs)([O,t]),middleSlot:o.createElement(l.MiddleSlot,null,o.createElement("span",{className:i()(d["button-children"],m&&d.hiddenArrow,B)},I)),endSlot:R}),popupChildren:P,repositionOnScroll:C,closeOnHeaderOverlap:y})}))
;p.displayName="ControlDisclosureView"},522224:(e,t,n)=>{"use strict";n.d(t,{hoverMouseEventFilter:()=>o.hoverMouseEventFilter,useAccurateHover:()=>o.useAccurateHover,useHover:()=>o.useHover});var o=n(975228)},187962:(e,t,n)=>{"use strict";n.d(t,{IconQuestionInformation:()=>D});var o,s=n(50959),i=n(497754),r=n(800417),a=n(72571),l=n(482353),c=n(527941),u=n(499084),d=n(530162),p=n(703756),h=n.n(p);!function(e){e.Small="small",e.Medium="medium",e.Large="large"}(o||(o={}));const m="small";var g,f;!function(e){e.Default="default",e.Danger="danger",e.Warning="warning",e.Success="success",e.Neutral="neutral",e.NeutralLight="neutral-light"}(g||(g={})),function(e){e.Info="info",e.Question="question",e.Check="check",e.Exclamation="exclamation"}(f||(f={}));const v={info:c,question:l,check:u,exclamation:d},b=s.forwardRef(((e,t)=>s.createElement("span",{...e,ref:t,className:i(e.className,h()["no-active-state"])}))),_=s.forwardRef(((e,t)=>{var n;const{icon:o="exclamation",intent:l="default",ariaLabel:c,tooltip:u,className:d,renderComponent:p=b,tabIndex:g=0,size:f=m,onFocus:_,onBlur:C,onClick:y,...x}=e,E=null!==(n=v[o])&&void 0!==n?n:o;return s.createElement(p,{className:i(d,h()["icon-wrapper"],h()[`intent-${l}`],h()[`icon-wrapper-size-${f}`]),title:u,"aria-label":c,ref:t,tabIndex:g,onFocus:_,onBlur:C,onClick:y,...(0,r.filterDataProps)(x)},s.createElement(a.Icon,{"aria-hidden":!0,icon:E,className:h().icon}))}));var C=n(804395);var y=n(718736);function x(e,t=null){const{showTooltip:n,hideTooltip:o,onClick:i,doNotShowTooltipOnTouch:r=!1}=e,a=(0,y.useFunctionalRefObject)(t),l=function(){const[e,t]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{t(C.mobiletouch)}),[]),e}(),c=l&&r?void 0:e.tooltip;(0,s.useEffect)((()=>{const e=()=>o&&o();return document.addEventListener("scroll",e,!0),()=>document.removeEventListener("scroll",e,!0)}),[a,o]);return{onBlur:(0,s.useCallback)((e=>{o&&o()}),[o]),onFocus:(0,s.useCallback)((e=>{!e.target.matches(":hover")&&n&&e.target.matches(":focus-visible")&&n(e.currentTarget,{tooltipDelay:200})}),[n]),onClick:(0,s.useCallback)((e=>{var t;l&&(null===(t=null==a?void 0:a.current)||void 0===t||t.focus()),i&&i(e)}),[i,a,l]),tooltip:c,className:void 0!==c?"apply-common-tooltip":void 0,ref:a}}var E=n(744471),w=n(866841),S=n.n(w);function T(){document.removeEventListener("scroll",T),document.removeEventListener("touchstart",T),document.removeEventListener("mouseout",T),(0,E.hide)()}const N=e=>{(0,E.showOnElement)(e.currentTarget,{tooltipDelay:0}),document.addEventListener("scroll",T),document.addEventListener("touchstart",T),document.addEventListener("mouseout",T)},D=(0,s.forwardRef)(((e,t)=>{const{className:n,onClick:o=N,doNotShowTooltipOnTouch:r,size:a,...l}=e,{tooltip:c,className:u,...d}=x({tooltip:e.tooltip,doNotShowTooltipOnTouch:!1,showTooltip:E.showOnElement,hideTooltip:E.hide,onClick:o},t);return s.createElement(_,{className:i(n,S()["icon-wrapper"],c&&S()["with-tooltip"],u),tooltip:c,size:a,...l,...d})}));(0,s.forwardRef)(((e,t)=>{const{className:n,href:o,rel:r,target:a,...l}=e,c=(0,s.useMemo)((()=>(0,
s.forwardRef)(((e,t)=>s.createElement("a",{href:o,rel:r,target:a,ref:t,...e})))),[o,r,a]);return s.createElement(D,{...l,className:i(n,S()["with-link"]),renderComponent:c,ref:t,doNotShowTooltipOnTouch:!0})})),(0,s.forwardRef)(((e,t)=>{const{className:n,withActiveState:o,...r}=e,a=(0,s.useMemo)((()=>(0,s.forwardRef)(((e,t)=>s.createElement("button",{...e,ref:t,type:"button"})))),[]);return s.createElement(D,{...r,className:i(n,!o&&S()["no-active-state"]),renderComponent:a,ref:t})}))},364228:(e,t,n)=>{"use strict";n.d(t,{Caret:()=>u,CaretButton:()=>d});var o=n(50959),s=n(497754),i=n.n(s),r=n(72571),a=n(602948),l=n(440352);function c(e){const{isDropped:t}=e;return o.createElement(r.Icon,{className:i()(l.icon,t&&l.dropped),icon:a})}function u(e){const{className:t,disabled:n,isDropped:s}=e;return o.createElement("span",{className:i()(l.button,n&&l.disabled,t)},o.createElement(c,{isDropped:s}))}function d(e){const{className:t,tabIndex:n=-1,disabled:s,isDropped:r,...a}=e;return o.createElement("button",{...a,type:"button",tabIndex:n,disabled:s,className:i()(l.button,s&&l.disabled,t)},o.createElement(c,{isDropped:r}))}},529631:(e,t,n)=>{"use strict";n.d(t,{Select:()=>C});var o=n(50959),s=n(855393),i=n(414823),r=n(525388),a=n(930617),l=n(192063),c=n(12481),u=n(343370);var d=n(648621),p=n(953517),h=n(444144),m=n(942544),g=n(431520),f=n(770369);function v(e){return!e.readonly}function b(e,t){var n;return null!==(n=null==t?void 0:t.id)&&void 0!==n?n:(0,i.createDomId)(e,"item",null==t?void 0:t.value)}function _(e){var t,n;const{selectedItem:s,placeholder:i}=e;if(!s)return o.createElement("span",{className:f.placeholder},i);const r=null!==(n=null!==(t=s.selectedContent)&&void 0!==t?t:s.content)&&void 0!==n?n:s.value;return o.createElement("span",null,r)}const C=o.forwardRef(((e,t)=>{const{id:n,menuClassName:f,menuItemClassName:C,tabIndex:y,disabled:x,highlight:E,intent:w,hideArrowButton:S,placeholder:T,addPlaceholderToItems:N=!1,value:D,"aria-labelledby":I,onFocus:P,onBlur:k,onClick:B,onChange:M,onKeyDown:F,repositionOnScroll:O=!0,openMenuOnEnter:R=!0,"aria-describedby":A,"aria-invalid":L,...W}=e;let{items:V}=e;if(T&&N){V=[{value:void 0,content:T,id:(0,i.createDomId)(n,"placeholder")},...V]}const{listboxId:z,isOpened:q,isFocused:H,buttonTabIndex:Z,listboxTabIndex:U,highlight:$,intent:K,open:G,onOpen:Y,close:Q,toggle:X,buttonFocusBindings:j,onButtonClick:J,buttonRef:ee,listboxRef:te,buttonAria:ne}=(0,m.useControlDisclosure)({id:n,disabled:x,buttonTabIndex:y,intent:w,highlight:E,onFocus:P,onBlur:k,onClick:B}),oe=V.filter(v),se=oe.find((e=>e.value===D)),[ie,re]=o.useState(T&&N?oe[0].value:null==se?void 0:se.value),[ae,le,ce]=(0,a.useKeepActiveItemIntoView)({activeItem:se});(0,s.useIsomorphicLayoutEffect)((()=>re(null==se?void 0:se.value)),[D]);const ue=(0,i.joinDomIds)(I,n),de=ue.length>0?ue:void 0,pe=(0,o.useMemo)((()=>({role:"listbox","aria-labelledby":I,"aria-activedescendant":b(n,se)})),[I,se]),he=(0,o.useCallback)((e=>e.value===ie),[ie]),me=(0,o.useCallback)((()=>(Q(),M&&M(ie))),[Q,M,ie]),ge=(0,
d.useItemsKeyboardNavigation)("vertical",g.isRtl,oe,he,(e=>{re(e.value)}),!1,{next:[40],previous:[38]}),fe=(0,p.useKeyboardToggle)(X,q||R),ve=(0,p.useKeyboardToggle)(me),be=(0,p.useKeyboardClose)(q,we),_e=(0,p.useKeyboardOpen)(q,G),Ce=(0,p.useKeyboardEventHandler)([fe,be,_e]),ye=(0,p.useKeyboardEventHandler)([ge,ve,be]),xe=function(e){const t=(0,o.useRef)(""),n=(0,o.useMemo)((()=>(0,c.default)((()=>{t.current=""}),500)),[]),s=(0,o.useMemo)((()=>(0,u.default)(e,200)),[e]);return(0,o.useCallback)((e=>{e.key.length>0&&e.key.length<3&&(t.current+=e.key,s(t.current,e),n())}),[n,s])}(((t,n)=>{const o=function(e,t,n){return e.find((e=>{var o;const s=t.toLowerCase();return!e.readonly&&(n?n(e).toLowerCase().startsWith(s):!e.readonly&&("string"==typeof e.content&&e.content.toLowerCase().startsWith(s)||"string"==typeof e.textContent&&e.textContent.toLowerCase().startsWith(s)||String(null!==(o=e.value)&&void 0!==o?o:"").toLowerCase().startsWith(s)))}))}(oe,t,e.getSearchKey);void 0!==o&&M&&(n.stopPropagation(),q||G(),M(o.value))}));return o.createElement(h.ControlDisclosureView,{...W,...ne,...j,id:n,role:"button",tabIndex:Z,"aria-owns":ne["aria-controls"],"aria-haspopup":"listbox","aria-labelledby":de,disabled:x,hideArrowButton:S,isFocused:H,isOpened:q,highlight:$,intent:K,ref:(0,r.useMergedRefs)([ee,t]),onClick:J,onOpen:function(){ce(se,{duration:0}),Y()},onClose:we,onKeyDown:function(e){Ce(e),F&&F(e);e.defaultPrevented||xe(e)},listboxId:z,listboxTabIndex:U,listboxClassName:f,listboxAria:pe,"aria-describedby":A,"aria-invalid":L,listboxReference:te,scrollWrapReference:ae,onListboxKeyDown:function(e){ye(e),e.defaultPrevented||xe(e)},buttonChildren:o.createElement(_,{selectedItem:null!=se?se:null,placeholder:T}),repositionOnScroll:O},V.map(((e,t)=>{var s;if(e.readonly)return o.createElement(o.Fragment,{key:`readonly_item_${t}`},e.content);const i=b(n,e);return o.createElement(l.PopupMenuItem,{key:i,id:i,className:C,role:"option","aria-selected":D===e.value,isActive:ie===e.value,label:null!==(s=e.content)&&void 0!==s?s:e.value,onClick:Ee,onClickArg:e.value,isDisabled:e.disabled,reference:t=>le(e,t)})})));function Ee(e){M&&(M(e),re(e))}function we(){re(null==se?void 0:se.value),Q()}}));C.displayName="Select"},930052:(e,t,n)=>{"use strict";n.d(t,{MatchMedia:()=>s});var o=n(50959);class s extends o.PureComponent{constructor(e){super(e),this._handleChange=()=>{this.forceUpdate()},this.state={query:window.matchMedia(this.props.rule)}}componentDidMount(){this._subscribe(this.state.query)}componentDidUpdate(e,t){this.state.query!==t.query&&(this._unsubscribe(t.query),this._subscribe(this.state.query))}componentWillUnmount(){this._unsubscribe(this.state.query)}render(){return this.props.children(this.state.query.matches)}static getDerivedStateFromProps(e,t){return e.rule!==t.query.media?{query:window.matchMedia(e.rule)}:null}_subscribe(e){e.addEventListener("change",this._handleChange)}_unsubscribe(e){e.removeEventListener("change",this._handleChange)}}},230553:(e,t,n)=>{"use strict";n.d(t,{MenuContext:()=>o})
;const o=n(50959).createContext(null)},510618:(e,t,n)=>{"use strict";n.d(t,{DEFAULT_MENU_THEME:()=>f,Menu:()=>b});var o=n(50959),s=n(497754),i=n.n(s),r=n(650151),a=n(822960),l=n(409174),c=n(753327),u=n(370981),d=n(801808),p=n(376202),h=n(823030),m=n(230553),g=n(379081);const f=g;var v;!function(e){e[e.IndentFromWindow=0]="IndentFromWindow"}(v||(v={}));class b extends o.PureComponent{constructor(e){super(e),this._containerRef=null,this._scrollWrapRef=null,this._raf=null,this._scrollRaf=null,this._scrollTimeout=void 0,this._manager=new d.OverlapManager,this._hotkeys=null,this._scroll=0,this._handleContainerRef=e=>{this._containerRef=e,this.props.reference&&("function"==typeof this.props.reference&&this.props.reference(e),"object"==typeof this.props.reference&&(this.props.reference.current=e))},this._handleScrollWrapRef=e=>{this._scrollWrapRef=e,"function"==typeof this.props.scrollWrapReference&&this.props.scrollWrapReference(e),"object"==typeof this.props.scrollWrapReference&&(this.props.scrollWrapReference.current=e)},this._handleCustomRemeasureDelegate=()=>{this._resizeForced(),this._handleMeasure()},this._handleMeasure=({callback:e,forceRecalcPosition:t}={})=>{var n,o,s,i,l,c,u,d,p,h,m,g;if(this.state.isMeasureValid&&!t)return;const{position:f}=this.props,v=(0,r.ensureNotNull)(this._containerRef);let b=v.getBoundingClientRect();const _=document.documentElement.clientHeight,C=document.documentElement.clientWidth,y=null!==(n=this.props.closeOnScrollOutsideOffset)&&void 0!==n?n:0;let x=_-0-y;const E=b.height>x;if(E){(0,r.ensureNotNull)(this._scrollWrapRef).style.overflowY="scroll",b=v.getBoundingClientRect()}const{width:w,height:S}=b,T="function"==typeof f?f({contentWidth:w,contentHeight:S,availableWidth:C,availableHeight:_}):f,N=null!==(s=null===(o=null==T?void 0:T.indentFromWindow)||void 0===o?void 0:o.left)&&void 0!==s?s:0,D=C-(null!==(i=T.overrideWidth)&&void 0!==i?i:w)-(null!==(c=null===(l=null==T?void 0:T.indentFromWindow)||void 0===l?void 0:l.right)&&void 0!==c?c:0),I=(0,a.clamp)(T.x,N,Math.max(N,D)),P=(null!==(d=null===(u=null==T?void 0:T.indentFromWindow)||void 0===u?void 0:u.top)&&void 0!==d?d:0)+y,k=_-(null!==(p=T.overrideHeight)&&void 0!==p?p:S)-(null!==(m=null===(h=null==T?void 0:T.indentFromWindow)||void 0===h?void 0:h.bottom)&&void 0!==m?m:0);let B=(0,a.clamp)(T.y,P,Math.max(P,k));if(T.forbidCorrectYCoord&&B<T.y&&(x-=T.y-B,B=T.y),t&&void 0!==this.props.closeOnScrollOutsideOffset&&T.y<=this.props.closeOnScrollOutsideOffset)return void this._handleGlobalClose(!0);const M=null!==(g=T.overrideHeight)&&void 0!==g?g:E?x:void 0;this.setState({appearingMenuHeight:t?this.state.appearingMenuHeight:M,appearingMenuWidth:t?this.state.appearingMenuWidth:T.overrideWidth,appearingPosition:{x:I,y:B},isMeasureValid:!0},(()=>{this.props.doNotRestorePosition||this._restoreScrollPosition(),e&&e()}))},this._restoreScrollPosition=()=>{const e=document.activeElement,t=(0,r.ensureNotNull)(this._containerRef);if(null!==e&&t.contains(e))try{e.scrollIntoView()}catch(e){}else(0,
r.ensureNotNull)(this._scrollWrapRef).scrollTop=this._scroll},this._resizeForced=()=>{this.setState({appearingMenuHeight:void 0,appearingMenuWidth:void 0,appearingPosition:void 0,isMeasureValid:void 0})},this._resize=()=>{null===this._raf&&(this._raf=requestAnimationFrame((()=>{this.setState({appearingMenuHeight:void 0,appearingMenuWidth:void 0,appearingPosition:void 0,isMeasureValid:void 0}),this._raf=null})))},this._handleGlobalClose=e=>{this.props.onClose(e)},this._handleSlot=e=>{this._manager.setContainer(e)},this._handleScroll=()=>{this._scroll=(0,r.ensureNotNull)(this._scrollWrapRef).scrollTop},this._handleScrollOutsideEnd=()=>{clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout((()=>{this._handleMeasure({forceRecalcPosition:!0})}),80)},this._handleScrollOutside=e=>{e.target!==this._scrollWrapRef&&(this._handleScrollOutsideEnd(),null===this._scrollRaf&&(this._scrollRaf=requestAnimationFrame((()=>{this._handleMeasure({forceRecalcPosition:!0}),this._scrollRaf=null}))))},this.state={}}componentDidMount(){this._handleMeasure({callback:this.props.onOpen});const{customCloseDelegate:e=u.globalCloseDelegate,customRemeasureDelegate:t}=this.props;e.subscribe(this,this._handleGlobalClose),null==t||t.subscribe(null,this._handleCustomRemeasureDelegate),window.addEventListener("resize",this._resize);const n=null!==this.context;this._hotkeys||n||(this._hotkeys=p.createGroup({desc:"Popup menu"}),this._hotkeys.add({desc:"Close",hotkey:27,handler:()=>{this.props.onKeyboardClose&&this.props.onKeyboardClose(),this._handleGlobalClose()}})),this.props.repositionOnScroll&&window.addEventListener("scroll",this._handleScrollOutside,{capture:!0})}componentDidUpdate(){this._handleMeasure()}componentWillUnmount(){const{customCloseDelegate:e=u.globalCloseDelegate,customRemeasureDelegate:t}=this.props;e.unsubscribe(this,this._handleGlobalClose),null==t||t.unsubscribe(null,this._handleCustomRemeasureDelegate),window.removeEventListener("resize",this._resize),window.removeEventListener("scroll",this._handleScrollOutside,{capture:!0}),this._hotkeys&&(this._hotkeys.destroy(),this._hotkeys=null),null!==this._raf&&(cancelAnimationFrame(this._raf),this._raf=null),null!==this._scrollRaf&&(cancelAnimationFrame(this._scrollRaf),this._scrollRaf=null),this._scrollTimeout&&clearTimeout(this._scrollTimeout)}render(){const{id:e,role:t,"aria-label":n,"aria-labelledby":s,"aria-activedescendant":r,"aria-hidden":a,"aria-describedby":u,"aria-invalid":d,children:p,minWidth:f,theme:v=g,className:b,maxHeight:C,onMouseOver:y,onMouseOut:x,onKeyDown:E,onFocus:w,onBlur:S}=this.props,{appearingMenuHeight:T,appearingMenuWidth:N,appearingPosition:D,isMeasureValid:I}=this.state,P={"--ui-kit-menu-max-width":`${D&&D.x}px`,maxWidth:"calc(100vw - var(--ui-kit-menu-max-width) - 6px)"};return o.createElement(m.MenuContext.Provider,{value:this},o.createElement(h.SubmenuHandler,null,o.createElement(c.SlotContext.Provider,{value:this._manager},o.createElement("div",{id:e,role:t,"aria-label":n,"aria-labelledby":s,"aria-activedescendant":r,"aria-hidden":a,
"aria-describedby":u,"aria-invalid":d,className:i()(b,v.menuWrap,!I&&v.isMeasuring),style:{height:T,left:D&&D.x,minWidth:f,position:"fixed",top:D&&D.y,width:N,...this.props.limitMaxWidth&&P},"data-name":this.props["data-name"],ref:this._handleContainerRef,onScrollCapture:this.props.onScroll,onContextMenu:l.preventDefaultForContextMenu,tabIndex:this.props.tabIndex,onMouseOver:y,onMouseOut:x,onKeyDown:E,onFocus:w,onBlur:S},o.createElement("div",{className:i()(v.scrollWrap,!this.props.noMomentumBasedScroll&&v.momentumBased),style:{overflowY:void 0!==T?"scroll":"auto",maxHeight:C},onScrollCapture:this._handleScroll,ref:this._handleScrollWrapRef},o.createElement(_,{className:v.menuBox},p)))),o.createElement(c.Slot,{reference:this._handleSlot})))}update(e){e?this._resizeForced():this._resize()}focus(e){var t;null===(t=this._containerRef)||void 0===t||t.focus(e)}blur(){var e;null===(e=this._containerRef)||void 0===e||e.blur()}}function _(e){const t=(0,r.ensureNotNull)((0,o.useContext)(h.SubmenuContext)),n=o.useRef(null);return o.createElement("div",{ref:n,className:e.className,onMouseOver:function(e){if(!(null!==t.current&&e.target instanceof Node&&(o=e.target,null===(s=n.current)||void 0===s?void 0:s.contains(o))))return;var o,s;t.isSubmenuNode(e.target)||t.setCurrent(null)},"data-name":"menu-inner"},e.children)}b.contextType=h.SubmenuContext},28466:(e,t,n)=>{"use strict";n.d(t,{CloseDelegateContext:()=>i});var o=n(50959),s=n(370981);const i=o.createContext(s.globalCloseDelegate)},813113:(e,t,n)=>{"use strict";n.d(t,{Portal:()=>l,PortalContext:()=>c});var o=n(50959),s=n(632227),i=n(925931),r=n(801808),a=n(682925);class l extends o.PureComponent{constructor(){super(...arguments),this._uuid=(0,i.nanoid)()}componentWillUnmount(){this._manager().removeWindow(this._uuid)}render(){const e=this._manager().ensureWindow(this._uuid,this.props.layerOptions);e.style.top=this.props.top||"",e.style.bottom=this.props.bottom||"",e.style.left=this.props.left||"",e.style.right=this.props.right||"",e.style.pointerEvents=this.props.pointerEvents||"";const t=this.props.className;return t&&("string"==typeof t?e.classList.add(t):e.classList.add(...t)),this.props.shouldTrapFocus&&!e.hasAttribute("data-focus-trap")&&e.setAttribute("data-focus-trap","true"),this.props["aria-hidden"]&&e.setAttribute("aria-hidden","true"),s.createPortal(o.createElement(c.Provider,{value:this},this.props.children),e)}moveToTop(){this._manager().moveToTop(this._uuid)}_manager(){return null===this.context?(0,r.getRootOverlapManager)():this.context}}l.contextType=a.SlotContext;const c=o.createContext(null)},753327:(e,t,n)=>{"use strict";n.d(t,{Slot:()=>o.Slot,SlotContext:()=>o.SlotContext});var o=n(682925)},742554:(e,t,n)=>{"use strict";n.d(t,{TouchScrollContainer:()=>c});var o=n(50959),s=n(259142),i=n(650151),r=n(601227);const a=CSS.supports("overscroll-behavior","none");let l=0;const c=(0,o.forwardRef)(((e,t)=>{const{children:n,...i}=e,c=(0,o.useRef)(null);return(0,o.useImperativeHandle)(t,(()=>c.current)),(0,o.useLayoutEffect)((()=>{if(r.CheckMobile.iOS())return l++,
null!==c.current&&(a?1===l&&(document.body.style.overscrollBehavior="none"):(0,s.disableBodyScroll)(c.current,{allowTouchMove:u(c)})),()=>{l--,null!==c.current&&(a?0===l&&(document.body.style.overscrollBehavior=""):(0,s.enableBodyScroll)(c.current))}}),[]),o.createElement("div",{ref:c,...i},n)}));function u(e){return t=>{const n=(0,i.ensureNotNull)(e.current),o=document.activeElement;return!n.contains(t)||null!==o&&n.contains(o)&&o.contains(t)}}},229593:e=>{e.exports={titleWrap:"titleWrap-Izz3hpJc",groupFooter:"groupFooter-Izz3hpJc"}},397262:e=>{e.exports={wrapper:"wrapper-JXHzsa7P"}},282149:e=>{e.exports={inlineRow:"inlineRow-D8g11qqA"}},709430:e=>{e.exports={container:"container-QyF09i7Y",hasTooltip:"hasTooltip-QyF09i7Y",datePickerWrapper:"datePickerWrapper-QyF09i7Y",timePickerWrapper:"timePickerWrapper-QyF09i7Y"}},716359:e=>{e.exports={input:"input-ZOx_CVY3",symbol:"symbol-ZOx_CVY3",checkbox:"checkbox-ZOx_CVY3",label:"label-ZOx_CVY3",dropdownMenu:"dropdownMenu-ZOx_CVY3",sessionStart:"sessionStart-ZOx_CVY3",sessionEnd:"sessionEnd-ZOx_CVY3",sessionInputContainer:"sessionInputContainer-ZOx_CVY3",sessionDash:"sessionDash-ZOx_CVY3",inputGroup:"inputGroup-ZOx_CVY3",textarea:"textarea-ZOx_CVY3",inlineGroup:"inlineGroup-ZOx_CVY3",hasTooltip:"hasTooltip-ZOx_CVY3"}},529725:e=>{e.exports={content:"content-tBgV1m0B",cell:"cell-tBgV1m0B",inner:"inner-tBgV1m0B",first:"first-tBgV1m0B",inlineCell:"inlineCell-tBgV1m0B",fill:"fill-tBgV1m0B",top:"top-tBgV1m0B",topCenter:"topCenter-tBgV1m0B",offset:"offset-tBgV1m0B",inlineRow:"inlineRow-tBgV1m0B",grouped:"grouped-tBgV1m0B",separator:"separator-tBgV1m0B",groupSeparator:"groupSeparator-tBgV1m0B",big:"big-tBgV1m0B",adaptive:"adaptive-tBgV1m0B",checkableTitle:"checkableTitle-tBgV1m0B"}},272929:e=>{e.exports={wrap:"wrap-QutFvTLS",labelWrap:"labelWrap-QutFvTLS",label:"label-QutFvTLS",hasTooltip:"hasTooltip-QutFvTLS"}},587513:(e,t,n)=>{"use strict";n.d(t,{bind:()=>r,setter:()=>a});var o=n(50959),s=n(294859),i=n(886176);function r(e){var t;return t=class extends o.PureComponent{constructor(){super(...arguments),this._onChange=(e,t,n)=>{const{setValue:o}=this.context,{onChange:s}=this.props;a(o,s)(e,t,n)}}render(){const{input:t}=this.props,{values:n,model:s}=this.context;return o.createElement(e,{...this.props,value:n[t.id],tzName:(0,i.getTimezoneName)(s),onChange:this._onChange})}},t.contextType=s.PropertyContext,t}function a(e,t){return(n,o,s)=>{e(o,n,s),t&&t(n,o,s)}}},294859:(e,t,n)=>{"use strict";n.d(t,{PropertyContainer:()=>h,PropertyContext:()=>p});var o=n(50959),s=n(650151),i=n(609838),r=n(272047),a=n(937778),l=n(596058),c=n(979910);const u=(0,a.getLogger)("Platform.GUI.StudyInputPropertyContainer"),d=new r.TranslatedString("change {propertyName} property",i.t(null,void 0,n(925167))),p=o.createContext(null);class h extends o.PureComponent{constructor(e){super(e),this._setValue=(e,t,o)=>{const{property:a,model:p,study:h}=this.props,m=!(0,l.isStudy)(h),g=(0,s.ensureDefined)(a.child(e));u.logNormal(`Changing property "${e}" value from "${a.value()}" to "${t}"`)
;const f=new r.TranslatedString(o,function(e){return i.t(e,{context:"input"},n(932856))}(o));p.setProperty(g,t,d.format({propertyName:f}),m&&c.lineToolsDoNotAffectChartInvalidation)};const{property:t}=e,o={};t.childNames().forEach((e=>{const n=(0,s.ensureDefined)(t.child(e));o.hasOwnProperty(e)||(o[e]=n.value())})),this.state=o}componentDidMount(){const{property:e,onStudyInputChange:t}=this.props;e.childNames().forEach((n=>{(0,s.ensureDefined)(e.child(n)).subscribe(this,(e=>{const o=e.value();u.logNormal(`Property "${n}" updated to value "${o}"`),this.setState({[n]:o}),null==t||t(o,n)}))}))}componentWillUnmount(){const{property:e}=this.props;e.childNames().forEach((t=>{(0,s.ensureDefined)(e.child(t)).unsubscribeAll(this)}))}render(){const{study:e,model:t,children:n}=this.props,s={study:e,model:t,values:this.state,setValue:this._setValue};return o.createElement(p.Provider,{value:s},n)}}},113193:(e,t,n)=>{"use strict";n.d(t,{ModelContext:()=>s,bindModel:()=>i});var o=n(50959);const s=o.createContext(null);function i(e,t){return o.createElement(s.Consumer,null,(n=>n?o.createElement(e,{...Object.assign({model:n},t)}):null))}},527053:(e,t,n)=>{"use strict";n.d(t,{StylePropertyContainer:()=>r,StylePropertyContext:()=>i,bindPropertyContext:()=>a});var o=n(50959),s=n(113193);const i=o.createContext(null);class r extends o.PureComponent{constructor(){super(...arguments),this._setValue=(e,t,n)=>{const{model:o}=this.props;Array.isArray(e)?o.setProperties(e,e.map((()=>t)),n):o.setProperty(e,t,n)}}componentDidMount(){const{property:e}=this.props;e.subscribe(this,(()=>this.forceUpdate()))}componentWillUnmount(){const{property:e}=this.props;e.unsubscribeAll(this)}render(){const e={setValue:this._setValue};return o.createElement(i.Provider,{value:e},this.props.children)}}function a(e,t){return(0,s.bindModel)((({model:n})=>o.createElement(r,{model:n,property:t.property},o.createElement(e,{...t}))),t)}},756639:(e,t,n)=>{"use strict";n.d(t,{IconGroupWrapper:()=>i});var o=n(50959),s=n(397262);function i(e){const{children:t}=e;return o.createElement("div",{className:s.wrapper},t)}},423112:(e,t,n)=>{"use strict";n.d(t,{InputTooltip:()=>i});var o=n(50959),s=n(187962);function i(e){const{className:t,title:n}=e;return o.createElement(s.IconQuestionInformation,{icon:"info",className:t,ariaLabel:n,tooltip:n,tabIndex:-1})}},457540:(e,t,n)=>{"use strict";n.d(t,{getInputGroups:()=>a,isGroup:()=>i,isInputInlines:()=>r});var o,s=n(650151);function i(e){return e.hasOwnProperty("groupType")}function r(e){return i(e)&&"inline"===e.groupType}function a(e){const t=[],n=new Map,o=new Map;return o.set(void 0,new Map),e.forEach((e=>{const{group:i,inline:r}=e;if(void 0!==i||void 0!==r)if(void 0!==i)if(void 0!==r)if(n.has(i)){const t=(0,s.ensureDefined)(n.get(i));let a;o.has(t)?a=(0,s.ensureDefined)(o.get(t)):(a=new Map,o.set(t,a)),l(e,"inline",r,a,t.children)}else{const s={id:r,groupType:"inline",children:[e]},a={id:i,groupType:"group",children:[s]},l=new Map;l.set(r,s),o.set(a,l),n.set(i,a),t.push(a)}else l(e,"group",i,n,t);else{const n=(0,
s.ensureDefined)(o.get(void 0));l(e,"inline",(0,s.ensureDefined)(r),n,t)}else t.push(e)})),t}function l(e,t,n,o,i){if(o.has(n))(0,s.ensureDefined)(o.get(n)).children.push(e);else{const s={id:n,groupType:t,children:[e]};o.set(n,s),i.push(s)}}!function(e){e.Inline="inline",e.Group="group"}(o||(o={}))},193400:(e,t,n)=>{"use strict";n.d(t,{InputRow:()=>oe});var o=n(609838),s=n(50959),i=n(650151),r=n(53868),a=n(517651),l=n(802527),c=n(562364),u=n(497754),d=n.n(u),p=n(654936),h=n(587513),m=n(130949),g=n(716359);class f extends s.PureComponent{constructor(){super(...arguments),this._onChange=e=>{const{input:{id:t,name:n},onChange:o}=this.props;o(e.currentTarget.value,t,n)}}render(){const{input:{defval:e},value:t,disabled:n,onBlur:o,onKeyDown:i,hasTooltip:r}=this.props;return s.createElement(p.InputControl,{className:d()(g.input,r&&g.hasTooltip),value:void 0===t?e:t,onChange:this._onChange,onBlur:o,onKeyDown:i,disabled:n,maxLength:4096})}}const v=(0,m.debounced)(f),b=(0,h.bind)(v);var _=n(375751),C=n(47924);function y(e){const{className:t}=e,n=(0,s.useContext)(C.PropertyTable.InlineRowContext);return s.createElement("div",{className:u(g.inputGroup,n&&g.inlineGroup,t)},e.children)}var x=n(44807);function E(e=""){const[,t="",n="",o="",s=""]=Array.from(e.match(/^(\d\d)(\d\d)-(\d\d)(\d\d)/)||[]);return[`${t}:${n}`,`${o}:${s}`]}class w extends s.PureComponent{constructor(e){super(e),this._onStartPick=e=>{this.setState({startTime:e},this._onChange)},this._onEndPick=e=>{this.setState({endTime:e},this._onChange)},this._onChange=()=>{const{input:{id:e,name:t},onChange:n}=this.props,{startTime:o,endTime:s}=this.state;n(o.replace(":","")+"-"+s.replace(":",""),e,t)};const t=e.value||e.input.defval,[n,o]=E(t);this.state={prevValue:t,startTime:n,endTime:o}}render(){const{startTime:e,endTime:t}=this.state,{hasTooltip:n,disabled:o}=this.props;return s.createElement(y,{className:d()(n&&g.hasTooltip)},s.createElement("div",{className:g.sessionStart},s.createElement(x.TimeInput,{className:d()(g.input,g.sessionInputContainer),name:"start",value:(0,i.ensureDefined)(e),onChange:this._onStartPick,disabled:o}),s.createElement("span",{className:g.sessionDash},"")),s.createElement("div",{className:g.sessionEnd},s.createElement(x.TimeInput,{className:d()(g.input,g.sessionInputContainer),name:"end",value:(0,i.ensureDefined)(t),onChange:this._onEndPick,disabled:o})))}static getDerivedStateFromProps(e,t){if(e.value===t.prevValue)return t;const[n,o]=E(e.value);return{prevValue:e.value,startTime:n,endTime:o}}}const S=(0,h.bind)(w);var T=n(440891),N=n(762293),D=n(209039),I=n(294859),P=n(529631);class k extends s.PureComponent{constructor(){super(...arguments),this._onChange=e=>{const{input:{id:t,name:n},onChange:o}=this.props;o(e,t,n)}}render(){const{input:{id:e,defval:t,options:i,optionsTitles:r},value:a,disabled:l,hasTooltip:c}=this.props,u=i.map((e=>{const t=r&&r[e]?r[e]:e;return{value:e,content:o.t(t,{context:"input"},n(932856))}})),p=void 0!==a&&i.includes(a)?a:t;return s.createElement(P.Select,{id:e,className:d()(g.input,c&&g.hasTooltip),
menuClassName:g.dropdownMenu,value:p,items:u,onChange:this._onChange,disabled:l})}}const B=(0,h.bind)(k);var M=n(39290),F=n(596058);const O={open:o.t(null,void 0,n(483584)),high:o.t(null,void 0,n(159319)),low:o.t(null,void 0,n(841902)),close:o.t(null,void 0,n(305741)),hl2:o.t(null,void 0,n(396008)),hlc3:o.t(null,void 0,n(391189)),ohlc4:o.t(null,void 0,n(452793)),hlcc4:o.t(null,void 0,n(149242))};class R extends s.PureComponent{render(){const{input:e}=this.props,{study:t,model:n}=this.context;let o={...O};delete o.hlcc4;const a=(0,M.createAdapter)(t);if(t&&this._isStudy(t)&&t.isChildStudy()){const t=(0,r.getInputValue)(a.inputs()[e.id]),n=a.parentSourceForInput(t);if((0,F.isStudy)(n)){const t=n.title(D.TitleDisplayTarget.StatusLine),s=N.StudyMetaInfo.getChildSourceInputTitles(e,n.metaInfo(),t);o={...o,...s}}}if(T.enabled("study_on_study")&&t&&this._isStudy(t)&&(t.isChildStudy()||N.StudyMetaInfo.canBeChild(t.metaInfo()))){const e=[t,...a.getAllChildren()];n.model().allStudies().filter((t=>t.canHaveChildren()&&!e.includes(t))).forEach((e=>{const t=e.title(D.TitleDisplayTarget.StatusLine,!0,void 0,!0),n=e.id(),s=e.metaInfo(),r=s.styles,a=s.plots||[];if(1===a.length)o[n+"$0"]=t;else if(a.length>1){const e=a.reduce(((e,o,s)=>{if(!N.StudyMetaInfo.canPlotBeSourceOfChildStudy(o.type))return e;let a;try{a=(0,i.ensureDefined)((0,i.ensureDefined)(r)[o.id]).title}catch(e){a=o.id}return{...e,[`${n}$${s}`]:`${t}: ${a}`}}),{});o={...o,...e}}}))}const l={...e,type:"text",options:Object.keys(o),optionsTitles:o};return s.createElement(B,{...this.props,input:l})}_isStudy(e){return!e.hasOwnProperty("isInputsStudy")}}R.contextType=I.PropertyContext;var A=n(28964),L=n(989175);const W=void 0,V=["1","3","5","15","30","45","60","120","180","240","1D","1W","1M","3M","6M","12M"],z=["1S","5S","10S","15S","30S"],q=["1T","10T","100T","1000T"];class H extends s.PureComponent{constructor(){super(...arguments),this._onChange=e=>{const{input:{id:t,name:n},onChange:o}=this.props;o(e,t,n)}}render(){const{input:e,value:t,disabled:i,hasTooltip:r}=this.props,a=A.Interval.parse(void 0===t?e.defval:t),l=a.isValid()?a.value():t,c=W?W.get().filter((e=>!A.Interval.parse(e).isRange())):[],u=(0,L.mergeResolutions)(V,(0,L.isSecondsEnabled)()?z:[],(0,L.isTicksEnabled)()?q:[],c);return u.unshift(""),s.createElement(P.Select,{id:e.id,className:d()(g.input,g.resolution,r&&g.hasTooltip),menuClassName:d()(g.dropdownMenu,g.resolution),items:(p=u,p.map((e=>({value:e,content:""===e?o.t(null,void 0,n(354613)):(0,L.getTranslatedResolutionModel)(e).hint})))),value:l,onChange:this._onChange,disabled:i});var p}}const Z=(0,h.bind)(H);var U=n(687728),$=n(527053);class K extends s.PureComponent{render(){return s.createElement(I.PropertyContext.Consumer,null,(e=>e?this._getColorInputWithContext(e):null))}_getColorInputWithContext(e){var t;const{input:{id:n},disabled:o,hasTooltip:i}=this.props,{model:r,study:a}=e;if("properties"in a||"tempProperties"in a){const e="properties"in a?a.properties().inputs[n]:null===(t=a.tempProperties)||void 0===t?void 0:t.inputs.child(n)
;return s.createElement($.StylePropertyContainer,{model:r,property:e},s.createElement(U.ColorWithThicknessSelect,{className:d()(i&&g.hasTooltip),color:e,disabled:o}))}return null}}var G=n(614793),Y=n(350324),Q=n(508550),X=n(886176),j=n(709430);const J=(0,h.bind)((function(e){const{value:t,onChange:n,input:o,tzName:i,hasTooltip:r}=e,{id:a,name:l,defval:c}=o,u=(0,s.useMemo)((()=>Number(null!=t?t:c)),[t,c]),p=(0,s.useMemo)((()=>(0,X.getChartTimezoneOffsetMs)(u,i)),[u,i]),h=(0,s.useMemo)((()=>{const e=new Date(u+p+g(u));return e.setSeconds(0),e}),[u,p]),m=(0,s.useMemo)((()=>(0,Q.twoDigitsFormat)(h.getHours())+":"+(0,Q.twoDigitsFormat)(h.getMinutes())),[h]);return s.createElement("div",{className:d()(j.container,r&&j.hasTooltip)},s.createElement("div",{className:j.datePickerWrapper},s.createElement(G.DatePicker,{InputComponent:Y.DateInput,initial:h,onPick:function(e){if(null===e)return;const t=new Date(h);t.setFullYear(e.getFullYear()),t.setMonth(e.getMonth()),t.setDate(e.getDate()),n(f(t),a,l)},revertInvalidData:!0})),s.createElement("div",{className:j.timePickerWrapper},s.createElement(x.TimeInput,{value:m,onChange:function(e){const[t,o]=e.split(":"),s=new Date(h);s.setHours(Number(t)),s.setMinutes(Number(o)),n(f(s),a,l)}})));function g(e){return 60*new Date(e).getTimezoneOffset()*1e3}function f(e){return e.valueOf()-p-g(u)}}));class ee extends s.PureComponent{render(){const{input:e,disabled:t,onChange:n,tzName:o,hasTooltip:i}=this.props;if((0,r.isStudyInputOptionsInfo)(e))return s.createElement(B,{input:e,disabled:t,onChange:n,hasTooltip:i});switch(e.type){case"integer":return s.createElement(a.IntegerInput,{input:e,disabled:t,onChange:n,hasTooltip:i});case"float":case"price":return s.createElement(l.FloatInput,{input:e,disabled:t,onChange:n,hasTooltip:i});case"bool":return s.createElement(c.BoolInput,{input:e,disabled:t,onChange:n,hasTooltip:i});case"text":return s.createElement(b,{input:e,disabled:t,onChange:n,hasTooltip:i});case"symbol":return s.createElement(_.SymbolInput,{input:e,disabled:t,onChange:n,hasTooltip:i});case"session":return s.createElement(S,{input:e,disabled:t,onChange:n,hasTooltip:i});case"source":return s.createElement(R,{input:e,disabled:t,onChange:n,hasTooltip:i});case"resolution":return s.createElement(Z,{input:e,disabled:t,onChange:n,hasTooltip:i});case"time":return s.createElement(J,{input:e,tzName:o,onChange:n,hasTooltip:i});case"color":return s.createElement(K,{input:e,disabled:t,onChange:n,hasTooltip:i});default:return null}}}var te=n(423112),ne=n(756639);class oe extends s.PureComponent{render(){const{label:e,children:t,input:r,disabled:a,onChange:l,labelAlign:c,grouped:u,tooltip:d,solutionId:p,offset:h}=this.props,m=Boolean(d);return s.createElement(C.PropertyTable.Row,null,s.createElement(C.PropertyTable.Cell,{"data-study-input-name":(null==r?void 0:r.id)&&`${r.id}-label`,placement:"first",verticalAlign:c,grouped:u,offset:h},void 0!==e?e:o.t((0,i.ensureDefined)(r).name,{context:"input"},n(932856))),s.createElement(C.PropertyTable.Cell,{
"data-study-input-name":(null==r?void 0:r.id)&&`${r.id}-input`,placement:"last",grouped:u},t||s.createElement(ee,{input:(0,i.ensureDefined)(r),onChange:l,disabled:a,hasTooltip:m}),m&&s.createElement(ne.IconGroupWrapper,null,d&&s.createElement(te.InputTooltip,{title:d}),!1)))}}},80831:(e,t,n)=>{"use strict";n.d(t,{InputsTabContent:()=>V});var o,s=n(50959),i=n(650151),r=n(609838),a=n(294859),l=n(47924),c=n(230789),u=n(497754),d=n.n(u),p=n(721731),h=n.n(p);const m=(0,c.makeSwitchGroupItem)(((o=class extends s.PureComponent{constructor(){super(...arguments),this._onChange=()=>{this.props.onChange&&this.props.onChange(this.props.value)}}render(){const e=u(this.props.className,h().radio,{[h().reverse]:Boolean(this.props.labelPositionReverse)}),t=u(h().label,{[h().disabled]:this.props.disabled}),n=u(h().box,{[h().noOutline]:-1===this.props.tabIndex});let o=null;return this.props.label&&(o=s.createElement("span",{className:t},this.props.label)),s.createElement("label",{className:e},s.createElement("span",{className:h().wrapper,title:this.props.title},s.createElement("input",{id:this.props.id,tabIndex:this.props.tabIndex,autoFocus:this.props.autoFocus,role:this.props.role,className:h().input,type:"radio",name:this.props.name,checked:this.props.checked,disabled:this.props.disabled,value:this.props.value,onChange:this._onChange,ref:this.props.reference,"aria-describedby":this.props["aria-describedby"],"aria-invalid":this.props["aria-invalid"],"data-name":this.props["data-name"]}),s.createElement("span",{className:n})),o)}}).defaultProps={value:"on"},o));var g=n(375751),f=n(587513),v=n(423112),b=n(756639),_=n(716359);function C(e){const{children:t,input:o,disabled:u,onChange:d,grouped:p,tooltip:h,solutionId:C}=e,y=(0,s.useContext)(a.PropertyContext),{values:x,setValue:E}=(0,i.ensureNotNull)(y),w=x[o.id],[S,T]=(0,s.useState)(w?"another-symbol":"main-symbol"),[N,D]=(0,s.useState)(w),I=Boolean(h);return(0,s.useEffect)((()=>{w&&D(w)}),[w]),s.createElement(c.SwitchGroup,{name:`symbol-source-${o.id}`,values:[S],onChange:function(e){T(e),"main-symbol"===e?(0,f.setter)(E)("",o.id,o.name):"another-symbol"===e&&N&&(0,f.setter)(E,d)(N,o.id,o.name)}},s.createElement(l.PropertyTable.Row,null,s.createElement(l.PropertyTable.Cell,{colSpan:2,placement:"first",grouped:p,"data-study-input-name":(null==o?void 0:o.id)&&`${o.id}-main-symbol`},s.createElement(m,{value:"main-symbol",className:_.checkbox,disabled:u,label:s.createElement("span",{className:_.label},r.t(null,{context:"input"},n(594849)))}))),s.createElement(l.PropertyTable.Row,null,s.createElement(l.PropertyTable.Cell,{placement:"first",grouped:p,"data-study-input-name":(null==o?void 0:o.id)&&`${o.id}-another-symbol-label`},s.createElement(m,{value:"another-symbol",className:_.checkbox,disabled:u,label:s.createElement("span",{className:_.label},r.t(null,{context:"input"},n(624716)))})),s.createElement(l.PropertyTable.Cell,{placement:"last",grouped:p,"data-study-input-name":(null==o?void 0:o.id)&&`${o.id}-another-symbol-input`},t||s.createElement(g.SymbolInput,{input:(0,
i.ensureDefined)(o),onChange:d,disabled:u||"main-symbol"===S,hasTooltip:I}),I&&s.createElement(b.IconGroupWrapper,null,h&&s.createElement(v.InputTooltip,{title:h}),!1))))}var y=n(562364);class x extends s.PureComponent{render(){const{label:e,input:t,tooltip:n,solutionId:o}=this.props,i=Boolean(n);return s.createElement(l.PropertyTable.Row,null,s.createElement(l.PropertyTable.Cell,{placement:"first",colSpan:2,"data-study-input-name":(null==t?void 0:t.id)&&`${t.id}-checkbox`},s.createElement(y.BoolInput,{label:e,input:t,hasTooltip:i}),i&&s.createElement(b.IconGroupWrapper,null,n&&s.createElement(v.InputTooltip,{title:n}),!1)))}}var E=n(193400),w=n(558213),S=n(34735),T=n(130949);class N extends s.PureComponent{constructor(){super(...arguments),this._onChange=e=>{const{input:{id:t,name:n},onChange:o}=this.props;o(e.currentTarget.value,t,n)}}render(){const{input:{defval:e},value:t,disabled:n,onBlur:o,onKeyDown:i}=this.props;return s.createElement(w.Textarea,{className:d()(_.input,_.textarea,S.InputClasses.FontSizeMedium),value:void 0===t?e:t,onChange:this._onChange,onBlur:o,onKeyDown:i,disabled:n,maxLength:4096})}}const D=(0,T.debounced)(N),I=(0,f.bind)(D);var P=n(272929);function k(e){const{input:t,label:n,tooltip:o,solutionId:i}=e,r=Boolean(o);return s.createElement(l.PropertyTable.Row,null,s.createElement(l.PropertyTable.Cell,{placement:"first",colSpan:2,className:P.wrap,"data-study-input-name":(null==t?void 0:t.id)&&`${t.id}-textarea`},s.createElement("div",{className:P.labelWrap},s.createElement("span",{className:d()(P.label,r&&P.hasTooltip)},n),r&&s.createElement(b.IconGroupWrapper,null,o&&s.createElement(v.InputTooltip,{title:o}),!1)),s.createElement(I,{input:t})))}function B(e){const{input:t,tooltip:o,solutionId:i}=e;return"symbol"===t.type&&t.optional?s.createElement(C,{input:t,tooltip:o,solutionId:i}):"bool"===t.type?s.createElement(x,{label:r.t(t.name,{context:"input"},n(932856)),input:t,tooltip:o,solutionId:i}):"text_area"===t.type?s.createElement(k,{label:r.t(t.name,{context:"input"},n(932856)),input:t,tooltip:o,solutionId:i}):s.createElement(E.InputRow,{labelAlign:function(e){switch(e){case"session":return"adaptive";case"time":return"topCenter";default:return}}(t.type),input:t,tooltip:o,solutionId:i})}var M=n(852830),F=n(282149);function O(e){const{content:t}=e;let n;return s.createElement(l.PropertyTable.InlineRowContext.Provider,{value:!0},s.createElement("div",{className:F.inlineRow},t.children.map(((e,o)=>(void 0!==e.tooltip&&(n=e.tooltip),s.createElement(B,{key:e.id,input:e,tooltip:o===t.children.length-1?n:void 0}))))))}var R=n(457540),A=n(229593);function L(e){const{content:t}=e;return(0,R.isGroup)(t)?(0,R.isInputInlines)(t)?s.createElement(O,{content:t}):s.createElement(s.Fragment,null,s.createElement("div",{className:A.titleWrap},s.createElement(M.GroupTitleSection,{title:r.t(t.id,{context:"input"},n(932856)),name:t.id})),t.children.map((e=>(0,R.isGroup)(e)?s.createElement(O,{key:e.id,content:e}):s.createElement(B,{key:e.id,input:e,tooltip:e.tooltip,solutionId:e.solutionId
}))),s.createElement("div",{className:A.groupFooter})):s.createElement(B,{input:t,tooltip:t.tooltip,solutionId:t.solutionId})}const W={offset:r.t(null,void 0,n(855450))};class V extends s.PureComponent{render(){const{reference:e,inputs:t,property:n,study:o,studyMetaInfo:r,model:a,onStudyInputChange:c,className:u}=this.props,{offset:d,offsets:p}=n;return s.createElement(l.PropertyTable,{reference:e,className:u},s.createElement(z,{study:o,model:a,property:n.inputs,inputs:t,onStudyInputChange:c}),d&&this._createOffsetSection(d,(0,i.ensureDefined)(r.offset)),p&&p.childNames().map((e=>{var t;const n=p.childs()[e];return this._createOffsetSection(n,(0,i.ensureDefined)(null===(t=r.offsets)||void 0===t?void 0:t[e]))})))}_createOffsetSection(e,t){const n=e.childs();return s.createElement(z,{key:`offset_${t.title}`,study:this.props.study,model:this.props.model,inputs:[q(n,t)],property:e})}}function z(e){const{study:t,model:n,inputs:o,property:i,onStudyInputChange:r}=e,l=o,c=(0,s.useMemo)((()=>(0,R.getInputGroups)(l)),[l]);return s.createElement(a.PropertyContainer,{property:i,study:t,model:n,onStudyInputChange:r},!1,!1,c.map((e=>s.createElement(s.Fragment,{key:e.id},s.createElement(L,{content:e}),!1))))}function q(e,t){return{id:"val",name:t.title||W.offset,defval:e.val.value(),type:"integer",min:t.min,max:t.max}}},562364:(e,t,n)=>{"use strict";n.d(t,{BoolInput:()=>u,BoolInputComponent:()=>c});var o=n(50959),s=n(302946),i=n(497754),r=n.n(i),a=n(587513),l=n(716359);class c extends o.PureComponent{constructor(){super(...arguments),this._onChange=()=>{const{input:{id:e,name:t},value:n,onChange:o}=this.props;o(!n,e,t)}}render(){const{input:{defval:e},value:t,disabled:n,label:i,hasTooltip:a}=this.props,c=void 0===t?e:t;return o.createElement(s.Checkbox,{className:r()(l.checkbox,a&&l.hasTooltip),disabled:n,checked:c,onChange:this._onChange,label:o.createElement("span",{className:l.label},i),labelAlignBaseline:!0})}}const u=(0,a.bind)(c)},130949:(e,t,n)=>{"use strict";n.d(t,{debounced:()=>i});var o=n(50959);const s={blur:0,commit:0,change:1/0};function i(e,t=s){return class extends o.PureComponent{constructor(e){super(e),this._onChange=(e,n,o)=>{const s=t.change;s?(clearTimeout(this._timeout),this.setState({value:e},(()=>{s!==1/0&&(this._timeout=setTimeout((()=>this._flush()),s))}))):this._flush(e)},this._onBlur=()=>{this._debounce(t.blur);const{onBlur:e}=this.props;e&&e()},this._onKeyDown=e=>{13===e.keyCode&&this._debounce(t.commit)},this.state={prevValue:e.value,value:e.value}}componentWillUnmount(){this._flush()}render(){const{value:t}=this.state;return o.createElement(e,{...this.props,value:t,onChange:this._onChange,onBlur:this._onBlur,onKeyDown:this._onKeyDown})}static getDerivedStateFromProps(e,t){return e.value===t.prevValue?t:{prevValue:e.value,value:e.value}}_debounce(e){e?(clearTimeout(this._timeout),e!==1/0&&(this._timeout=setTimeout((()=>this._flush()),e))):this.setState((e=>{this._flush(e.value)}))}_flush(e){const{input:{id:t,name:n},onChange:o}=this.props,{prevValue:s,value:i}=this.state;clearTimeout(this._timeout)
;const r=void 0!==e?e:i;void 0!==r&&r!==s&&o(r,t,n)}}}},802527:(e,t,n)=>{"use strict";n.d(t,{FloatInput:()=>p,FloatInputComponent:()=>d});var o=n(50959),s=n(497754),i=n.n(s),r=n(275277),a=n(587513),l=n(130949),c=n(716359);class u extends o.PureComponent{render(){const{hasTooltip:e}=this.props;return o.createElement(r.NumericInput,{...this.props,className:i()(c.input,e&&c.hasTooltip),stretch:!1})}}const d=(0,l.debounced)(u,{change:1/0,commit:0,blur:0}),p=(0,a.bind)(d)},517651:(e,t,n)=>{"use strict";n.d(t,{IntegerInput:()=>p,IntegerInputComponent:()=>d});var o=n(50959),s=n(497754),i=n.n(s),r=n(587513),a=n(130949),l=n(275277),c=n(716359);class u extends o.PureComponent{render(){const{hasTooltip:e}=this.props;return o.createElement(l.NumericInput,{...this.props,mode:"integer",className:i()(c.input,e&&c.hasTooltip),stretch:!1})}}const d=(0,a.debounced)(u,{change:1/0,commit:0,blur:0}),p=(0,r.bind)(d)},275277:(e,t,n)=>{"use strict";n.d(t,{NumericInput:()=>r});var o=n(50959),s=n(650151),i=n(587125);class r extends o.PureComponent{constructor(){super(...arguments),this._container=null,this._handleContainerRef=e=>this._container=e,this._onChange=(e,t)=>{const{input:{id:n,name:o},onChange:s,onBlur:i}=this.props;s(e,n,o),"step"===t&&i&&i()},this._onBlur=e=>{const{onBlur:t}=this.props;if(t){const n=(0,s.ensureNotNull)(this._container);n.contains(document.activeElement)||n.contains(e.relatedTarget)||t()}}}render(){const{input:{defval:e,min:t,max:n,step:s},value:r,disabled:a,onKeyDown:l,className:c,mode:u,stretch:d}=this.props;return o.createElement(i.NumberInput,{className:c,value:Number(void 0===r?e:r),min:t,max:n,step:s,mode:u,onBlur:this._onBlur,onValueChange:this._onChange,onKeyDown:l,disabled:a,containerReference:this._handleContainerRef,fontSizeStyle:"medium",roundByStep:!1,stretch:d})}}},375751:(e,t,n)=>{"use strict";n.d(t,{SymbolInput:()=>d,getInternalSymbolName:()=>c});var o=n(50959),s=n(650151),i=n(294859),r=n(587513),a=n(39290),l=n(193315);function c(e,t){const n=(0,a.createAdapter)(t).resolvedSymbolInfoBySymbol(e);return n&&(n.ticker||n.full_name)?n.ticker||n.full_name:e}function u(e,t){const n=(0,a.createAdapter)(t).resolvedSymbolInfoBySymbol(e);return null===n?e:n.name}const d=(0,r.bind)((function(e){const t=(0,o.useContext)(i.PropertyContext),{study:n}=(0,s.ensureNotNull)(t),{input:{defval:r},value:a}=e;return o.createElement(l.SymbolInputsButton,{...e,value:u(a||r||"",n),study:n})}))},687728:(e,t,n)=>{"use strict";n.d(t,{ColorWithThicknessSelect:()=>f});var o=n(50959),s=n(724377),i=n(609838),r=n(272047),a=n(589637),l=n(527053),c=n(552315),u=n(494182),d=n(32133);const p=new r.TranslatedString("change thickness",i.t(null,void 0,n(773281))),h=new r.TranslatedString("change color",i.t(null,void 0,n(731675))),m=new r.TranslatedString("change opacity",i.t(null,void 0,n(629426))),g=[1,2,3,4];class f extends o.PureComponent{constructor(){super(...arguments),this._trackEventLabel=null,this._getTransparencyValue=()=>{const{transparency:e}=this.props;return e?e.value():0},this._getOpacityValue=()=>{
const{color:e}=this.props,t=(0,u.getPropertyValue)(e);if(t)return(0,a.isHexColor)(t)?(0,a.transparencyToAlpha)(this._getTransparencyValue()):(0,s.parseRgba)(t)[3]},this._getColorValueInHex=()=>{const{color:e}=this.props,t=(0,u.getPropertyValue)(e);return t?(0,a.isHexColor)(t)?t:(0,s.rgbToHexString)((0,s.parseRgb)(t)):null},this._onThicknessChange=e=>{const{thickness:t}=this.props;void 0!==t&&this._setProperty(t,e,p)},this._onColorChange=e=>{const{color:t,isPaletteColor:n}=this.props,o=(0,u.getPropertyValue)(t);let i=0;o&&(i=(0,a.isHexColor)(o)?this._getTransparencyValue():(0,a.alphaToTransparency)((0,s.parseRgba)(o)[3])),this._setProperty(t,(0,a.generateColor)(String(e),i,!0),h),this._trackEventLabel="Plot color > "+(n?"Palette":"Single")},this._onOpacityChange=e=>{const{color:t}=this.props,n=(0,u.getPropertyValue)(t);this._setProperty(t,(0,a.generateColor)(n,(0,a.alphaToTransparency)(e),!0),m)},this._onPopupClose=()=>{this._trackEventLabel&&((0,d.trackEvent)("GUI","Study settings",this._trackEventLabel),this._trackEventLabel=null)}}componentWillUnmount(){this._onPopupClose()}render(){const{selectOpacity:e=!0,disabled:t,className:n}=this.props;return o.createElement(c.ColorSelect,{className:n,disabled:t,color:this._getColorValueInHex(),selectOpacity:e,opacity:this._getOpacityValue(),thickness:this._getThicknessValue(),thicknessItems:g,onColorChange:this._onColorChange,onOpacityChange:this._onOpacityChange,onThicknessChange:this._onThicknessChange,onPopupClose:this._onPopupClose})}_getThicknessValue(){const{thickness:e}=this.props;return e?(0,u.getPropertyValue)(e):void 0}_setProperty(e,t,n){const{setValue:o}=this.context;o(e,t,n)}}f.contextType=l.StylePropertyContext},47924:(e,t,n)=>{"use strict";n.d(t,{PropertyTable:()=>l});var o=n(50959),s=n(497754),i=n(800417),r=n(529725);const a=o.createContext(!1);class l extends o.PureComponent{render(){return o.createElement("div",{ref:this.props.reference,className:s(r.content,this.props.className)},this.props.children)}}var c,u,d;l.InlineRowContext=a,l.Row=function(e){const{children:t}=e;return(0,o.useContext)(a)?o.createElement("span",{className:r.inlineRow},t):o.createElement(o.Fragment,null,t)},function(e){e.Top="top",e.TopCenter="topCenter",e.Middle="middle",e.Adaptive="adaptive"}(c||(c={})),function(e){e.First="first",e.Last="last"}(u||(u={})),l.Cell=function(e){const t=(0,o.useContext)(a),n=s(r.cell,e.offset&&r.offset,e.grouped&&r.grouped,t&&r.inlineCell,"top"===e.verticalAlign&&r.top,"topCenter"===e.verticalAlign&&r.topCenter,"adaptive"===e.verticalAlign&&r.adaptive,e.checkableTitle&&r.checkableTitle,2===e.colSpan&&r.fill,"first"===e.placement&&2!==e.colSpan&&r.first,"last"===e.placement&&2!==e.colSpan&&r.last),l=(0,i.filterDataProps)(e);return o.createElement("div",{...l,className:n},o.createElement("div",{className:s(r.inner,e.className)},e.children))},l.Separator=function(e){return o.createElement(l.Row,null,o.createElement("div",{className:s(r.cell,r.separator,r.fill)}))},function(e){e[e.Small=0]="Small",e[e.Big=1]="Big"}(d||(d={})),l.GroupSeparator=function(e){
const t=e.size||0;return o.createElement(l.Row,null,o.createElement("div",{className:s(r.cell,r.groupSeparator,r.fill,1===t&&r.big)}))}},494182:(e,t,n)=>{"use strict";function o(e){return Array.isArray(e)?e[0].value():e.value()}n.d(t,{getPropertyValue:()=>o})},610600:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M13.5 7l1.65-1.65a.5.5 0 0 0 0-.7l-1.8-1.8a.5.5 0 0 0-.7 0L11 4.5M13.5 7L11 4.5M13.5 7l-8.35 8.35a.5.5 0 0 1-.36.15H2.5v-2.3a.5.5 0 0 1 .15-.35L11 4.5"/></svg>'},499084:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16Zm3.87-12.15c.36.2.49.66.28 1.02l-4 7a.75.75 0 0 1-1.18.16l-3-3a.75.75 0 1 1 1.06-1.06l2.3 2.3 3.52-6.14a.75.75 0 0 1 1.02-.28Z"/></svg>'},530162:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>'},527941:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM8 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 2c.49 0 1 .59 1 1v3.01c0 .42-.51.99-1 .99s-1-.57-1-.99V9c0-.41.51-1 1-1Z"/></svg>'},482353:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16Zm0-3a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM6 7.5a3 3 0 1 1 6 0c0 .96-.6 1.48-1.17 1.98-.55.48-1.08.95-1.08 1.77h-1.5c0-1.37.7-1.9 1.33-2.38.49-.38.92-.71.92-1.37C10.5 6.67 9.82 6 9 6s-1.5.67-1.5 1.5H6Z"/></svg>'}}]);