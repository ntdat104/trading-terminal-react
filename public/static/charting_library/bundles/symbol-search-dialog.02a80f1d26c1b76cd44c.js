(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[1754],{31658:e=>{e.exports={dialog:"dialog-LfNchNNG",tabletDialog:"tabletDialog-LfNchNNG",desktopDialog:"desktopDialog-LfNchNNG"}},520723:e=>{e.exports={button:"button-w6lVe_oI",hovered:"hovered-w6lVe_oI",disabled:"disabled-w6lVe_oI"}},912015:(e,t,o)=>{"use strict";o.d(t,{isPlatformMobile:()=>i});var l=o(69111);o(440891),o(601227);function i(){return!(0,l.isOnMobileAppPage)("any")&&(window.matchMedia("(min-width: 602px) and (min-height: 445px)").matches,!1)}},723698:(e,t,o)=>{"use strict";o.r(t),o.d(t,{Components:()=>k,showDefaultSearchDialog:()=>E,showSymbolSearchItemsDialog:()=>s.showSymbolSearchItemsDialog});var l=o(688401),i=o(972535),n=o(992835),a=o(284741),s=o(558323),r=o(240534),c=o(50959),d=o(650151),u=o(56871),h=o(113060),m=o(944080),g=o(497754),S=o.n(g),p=o(609838),v=o(800296),f=o(993544),b=o(398120),I=o(177042),y=o(435881);function w(e){const{isSelected:t,existInWatchlist:l,findInWatchlist:i,addToWatchlist:n,removeFromWatchlist:a}=e,{selectedAction:s}=(0,d.ensureNotNull)((0,c.useContext)(h.SymbolSearchWatchlistContext));return c.createElement(c.Fragment,null,l?c.createElement(c.Fragment,null,c.createElement(v.ListItemButton,{className:S()(y.action,y.removeAction,t&&2===s&&y.selected,"apply-common-tooltip"),onClick:a,icon:f,title:p.t(null,void 0,o(595888))}),c.createElement(v.ListItemButton,{className:S()(y.action,y.targetAction,t&&1===s&&y.selected,"apply-common-tooltip"),onClick:i,icon:I,title:p.t(null,void 0,o(23653))})):c.createElement(v.ListItemButton,{className:S()(y.action,y.addAction,t&&0===s&&y.selected,"apply-common-tooltip"),onClick:n,icon:b,title:p.t(null,void 0,o(77957))}))}var C=o(180185),D=o(32133),W=o(979359),A=o(190266);var T=o(533408),x=o(442092),N=o(31658);(0,o(912015).isPlatformMobile)();function E(e){new r.WatchedValue({});const t=(0,a.getSymbolSearchCompleteOverrideFunction)(),{defaultValue:o,showSpreadActions:i,source:c,onSearchComplete:d,trackResultsOptions:u,...h}=e,m={...h,showSpreadActions:null!=i?i:(0,n.canShowSpreadActions)(),onSymbolFiltersParamsChange:void 0,onSearchComplete:(e,o)=>{null==o||o.symbolType;t(e[0].symbol,e[0].result).then((e=>{l.linking.setSymbolAndLogInitiator(e.symbol,"symbol search"),null==d||d(e.symbol)}))},onEmptyResults:void 0};(0,s.showSymbolSearchItemsDialog)({...m,defaultValue:o})}const k={SymbolSearchWatchlistDialogContentItem:function(e){const{addToWatchlist:t,removeFromWatchlist:o,findInWatchlist:l,existInWatchlist:n,isSelected:a,fullSymbolName:s,...r}=e,{onClose:g,searchRef:S,searchSpreads:p}=(0,d.ensureNotNull)((0,c.useContext)(m.SymbolSearchItemsDialogContext)),{setSelectedAction:v,isSpreadOrMultipleMode:f,addAfter:b,clearTargetSymbol:I,highlighted:y,highlight:T}=(0,d.ensureNotNull)((0,c.useContext)(h.SymbolSearchWatchlistContext)),x=f(p,S);return(0,c.useLayoutEffect)((()=>{a&&v(void 0!==n?n?2:0:null)}),[a,n]),c.createElement(u.SymbolSearchDialogContentItem,{...r,fullSymbolName:s,onClick:x?e.onClick:function(l){if(void 0===s)return;if(void 0===n)return void(0,
d.ensureDefined)(e.onClick)(l);n?(o(W.WATCHLIST_WIDGET_ID,s),E("watchlist remove click",l),b===s&&I()):((0,A.runOrSignInWithPromo)("watchList",{source:"add symbol to watchlist"},(()=>{t(W.WATCHLIST_WIDGET_ID,[s],b),e.id&&T(e.id)})),E("watchlist add click",l));N(l)},isHighlighted:y===e.id,isSelected:a,actions:void 0===n||x?void 0:c.createElement(w,{isSelected:a,existInWatchlist:n,addToWatchlist:function(o){if(o.stopPropagation(),void 0===s)return;(0,A.runOrSignInWithPromo)("watchList",{source:"add symbol to watchlist"},(()=>{t(W.WATCHLIST_WIDGET_ID,[s],b),e.id&&T(e.id)})),N(o),E("watchlist add button",o)},removeFromWatchlist:function(e){if(e.stopPropagation(),void 0===s)return;o(W.WATCHLIST_WIDGET_ID,s),N(e),E("watchlist remove button",e),b===s&&I()},findInWatchlist:function(e){if(e.stopPropagation(),void 0===s)return;l(W.WATCHLIST_WIDGET_ID,s),g(),E("watchlist goto button")}})});function N(e){var t;e&&(0,C.modifiersFromEvent)(e)===C.Modifiers.Shift?g():i.mobiletouch||null===(t=S.current)||void 0===t||t.select()}function E(e,t){let o=e;t&&(0,C.modifiersFromEvent)(t)===C.Modifiers.Shift&&(o+=" shift"),(0,D.trackEvent)("GUI","SS",o)}},SymbolSearchWatchlistDialog:function(e){const{addToWatchlist:t,removeFromWatchlist:o,findInWatchlist:l,...i}=e,{feedItems:n,searchRef:a,searchSpreads:s,selectedIndex:r,onSubmit:u,setSelectedIndex:g,onClose:p,isMobile:v,isTablet:f,mode:b,setMode:I,symbolSearchState:y}=(0,d.ensureNotNull)((0,c.useContext)(m.SymbolSearchItemsDialogContext)),{selectedAction:w,setSelectedAction:D,isSpreadOrMultipleMode:E,addAfter:k,clearTargetSymbol:M,highlight:O}=(0,d.ensureNotNull)((0,c.useContext)(h.SymbolSearchWatchlistContext)),_=n[r],L="exchange"===b;return c.createElement(T.AdaptivePopupDialog,{...i,className:S()(N.dialog,!v&&(f?N.tabletDialog:N.desktopDialog)),dataName:"watchlist-symbol-search-dialog",onKeyDown:function(e){var t;if(e.target&&e.target!==a.current)return;const o=(0,C.hashFromEvent)(e);switch(o){case 13:return E(s,a)?void u(!0):(_?F(!1):u(!1),void(null===(t=a.current)||void 0===t||t.select()));case 13+C.Modifiers.Shift:return E(s,a)?void u(!0):void(_?F(!0):u(!0));case 27:return e.preventDefault(),L?void I("symbolSearch"):void p()}switch((0,x.mapKeyCodeToDirection)(o)){case"blockPrev":if(e.preventDefault(),0===r||"good"!==y)return;if(-1===r)return void g(0);g(r-1);break;case"blockNext":if(e.preventDefault(),r===n.length-1||"good"!==y)return;g(r+1);break;case"inlinePrev":if(!_)return;1===w&&(e.preventDefault(),D(2));break;case"inlineNext":if(!_)return;2===w&&(e.preventDefault(),D(1))}},backdrop:!0,draggable:!1});function F(e){if(!_||void 0===_.fullSymbolName)return;const{fullSymbolName:i}=_;switch(w){case 0:(0,A.runOrSignInWithPromo)("watchList",{source:"add symbol to watchlist"},(()=>{t(W.WATCHLIST_WIDGET_ID,[i],k),_.id&&O(_.id)}));break;case 1:return l(W.WATCHLIST_WIDGET_ID,i),void p();case 2:o(W.WATCHLIST_WIDGET_ID,i),k===i&&M()}e&&p()}}}},558323:(e,t,o)=>{"use strict";o.d(t,{showSymbolSearchItemsDialog:()=>r});var l=o(50959),i=o(753327),n=o(63192),a=o(798154),s=o(651674);function r(e){
const{initialMode:t="symbolSearch",autofocus:o=!0,defaultValue:r,showSpreadActions:c,selectSearchOnInit:d,onSearchComplete:u,dialogTitle:h,placeholder:m,fullscreen:g,initialScreen:S,wrapper:p,dialog:v,contentItem:f,onClose:b,onOpen:I,footer:y,symbolTypes:w,searchInput:C,emptyState:D,hideMarkedListFlag:W,dialogWidth:A="auto",manager:T,shouldReturnFocus:x,onSymbolFiltersParamsChange:N,onEmptyResults:E,customSearchSymbols:k}=e;if(n.dialogsOpenerManager.isOpened("SymbolSearch")||n.dialogsOpenerManager.isOpened("ChangeIntervalDialog"))return;const M=document.createElement("div"),O=l.createElement(i.SlotContext.Provider,{value:null!=T?T:null},l.createElement(a.SymbolSearchItemsDialog,{onClose:L,initialMode:t,defaultValue:r,showSpreadActions:c,hideMarkedListFlag:W,selectSearchOnInit:d,onSearchComplete:u,dialogTitle:h,placeholder:m,fullscreen:g,initialScreen:S,wrapper:p,dialog:v,contentItem:f,footer:y,symbolTypes:w,searchInput:C,emptyState:D,autofocus:o,dialogWidth:A,shouldReturnFocus:x,onSymbolFiltersParamsChange:N,onEmptyResults:E,customSearchSymbols:k})),_=(0,s.createReactRoot)(O,M);function L(){_.unmount(),n.dialogsOpenerManager.setAsClosed("SymbolSearch"),b&&b()}return n.dialogsOpenerManager.setAsOpened("SymbolSearch"),I&&I(),{close:L}}},113060:(e,t,o)=>{"use strict";o.d(t,{SymbolSearchWatchlistContext:()=>n});var l,i=o(50959);!function(e){e[e.Add=0]="Add",e[e.Find=1]="Find",e[e.Remove=2]="Remove"}(l||(l={}));const n=i.createContext(null)},63192:(e,t,o)=>{"use strict";o.d(t,{DialogsOpenerManager:()=>l,dialogsOpenerManager:()=>i});class l{constructor(){this._storage=new Map}setAsOpened(e,t){this._storage.set(e,t)}setAsClosed(e){this._storage.delete(e)}isOpened(e){return this._storage.has(e)}getDialogPayload(e){return this._storage.get(e)}}const i=new l},190266:(e,t,o)=>{"use strict";o.d(t,{runOrSignIn:()=>l,runOrSignInWithPromo:()=>i});function l(e,t){e()}function i(e,t,o){o()}},800296:(e,t,o)=>{"use strict";o.d(t,{ListItemButton:()=>r});var l=o(50959),i=o(497754),n=o.n(i),a=o(72571),s=o(520723);function r(e){const{className:t,disabled:o,...i}=e;return l.createElement(a.Icon,{className:n()(s.button,o&&s.disabled,t),...i})}},602948:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M3.92 7.83 9 12.29l5.08-4.46-1-1.13L9 10.29l-4.09-3.6-.99 1.14Z"/></svg>'},398120:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M13.9 14.1V22h1.2v-7.9H23v-1.2h-7.9V5h-1.2v7.9H6v1.2h7.9z"/></svg>'},177042:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M14 9.5a.5.5 0 0 0 1 0V7.02A6.5 6.5 0 0 1 20.98 13H18.5a.5.5 0 0 0 0 1h2.48A6.5 6.5 0 0 1 15 19.98V17.5a.5.5 0 0 0-1 0v2.48A6.5 6.5 0 0 1 8.02 14h2.48a.5.5 0 0 0 0-1H8.02A6.5 6.5 0 0 1 14 7.02V9.5zm1-3.48V4.5a.5.5 0 0 0-1 0v1.52A7.5 7.5 0 0 0 7.02 13H5.5a.5.5 0 0 0 0 1h1.52A7.5 7.5 0 0 0 14 20.98v1.52a.5.5 0 0 0 1 0v-1.52A7.5 7.5 0 0 0 21.98 14h1.52a.5.5 0 0 0 0-1h-1.52A7.5 7.5 0 0 0 15 6.02z"/></svg>'}}]);