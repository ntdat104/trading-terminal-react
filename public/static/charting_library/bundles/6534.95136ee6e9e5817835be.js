(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[6534],{669658:e=>{e.exports={"default-drawer-min-top-distance":"100px",wrap:"wrap-_HnK0UIN",positionBottom:"positionBottom-_HnK0UIN",backdrop:"backdrop-_HnK0UIN",drawer:"drawer-_HnK0UIN",positionLeft:"positionLeft-_HnK0UIN"}},862794:e=>{e.exports={icon:"icon-WB2y0EnP",dropped:"dropped-WB2y0EnP"}},163694:(e,t,o)=>{"use strict";o.d(t,{DrawerContext:()=>s,DrawerManager:()=>i});var r=o(50959),n=o(285089);class i extends r.PureComponent{constructor(e){super(e),this._isBodyFixed=!1,this._addDrawer=e=>{this.setState((t=>({stack:[...t.stack,e]})))},this._removeDrawer=e=>{this.setState((t=>({stack:t.stack.filter((t=>t!==e))})))},this.state={stack:[]}}componentDidUpdate(e,t){!t.stack.length&&this.state.stack.length&&((0,n.setFixedBodyState)(!0),this._isBodyFixed=!0),t.stack.length&&!this.state.stack.length&&this._isBodyFixed&&((0,n.setFixedBodyState)(!1),this._isBodyFixed=!1)}componentWillUnmount(){this.state.stack.length&&this._isBodyFixed&&(0,n.setFixedBodyState)(!1)}render(){return r.createElement(s.Provider,{value:{addDrawer:this._addDrawer,removeDrawer:this._removeDrawer,currentDrawer:this.state.stack.length?this.state.stack[this.state.stack.length-1]:null}},this.props.children)}}const s=r.createContext(null)},759339:(e,t,o)=>{"use strict";o.d(t,{Drawer:()=>u});var r=o(50959),n=o(650151),i=o(497754),s=o(924910),a=o(813113),l=o(163694),c=o(28466),d=o(742554),p=o(669658);var h;function u(e){const{position:t="Bottom",onClose:o,children:d,reference:h,className:u,theme:v=p}=e,f=(0,n.ensureNotNull)((0,r.useContext)(l.DrawerContext)),[g]=(0,r.useState)((()=>(0,s.randomHash)())),w=(0,r.useRef)(null),D=(0,r.useContext)(c.CloseDelegateContext);return(0,r.useLayoutEffect)((()=>((0,n.ensureNotNull)(w.current).focus({preventScroll:!0}),D.subscribe(f,o),f.addDrawer(g),()=>{f.removeDrawer(g),D.unsubscribe(f,o)})),[]),r.createElement(a.Portal,null,r.createElement("div",{ref:h,className:i(p.wrap,p[`position${t}`])},g===f.currentDrawer&&r.createElement("div",{className:p.backdrop,onClick:o}),r.createElement(m,{className:i(v.drawer,p[`position${t}`],u),ref:w,"data-name":e["data-name"]},d)))}!function(e){e.Left="Left",e.Bottom="Bottom"}(h||(h={}));const m=(0,r.forwardRef)(((e,t)=>{const{className:o,...n}=e;return r.createElement(d.TouchScrollContainer,{className:i(p.drawer,o),tabIndex:-1,ref:t,...n})}))},515783:(e,t,o)=>{"use strict";o.d(t,{ToolWidgetCaret:()=>l});var r=o(50959),n=o(497754),i=o(72571),s=o(862794),a=o(100578);function l(e){const{dropped:t,className:o}=e;return r.createElement(i.Icon,{className:n(o,s.icon,{[s.dropped]:t}),icon:a})}},742554:(e,t,o)=>{"use strict";o.d(t,{TouchScrollContainer:()=>c});var r=o(50959),n=o(259142),i=o(650151),s=o(601227);const a=CSS.supports("overscroll-behavior","none");let l=0;const c=(0,r.forwardRef)(((e,t)=>{const{children:o,...i}=e,c=(0,r.useRef)(null);return(0,r.useImperativeHandle)(t,(()=>c.current)),(0,r.useLayoutEffect)((()=>{if(s.CheckMobile.iOS())return l++,
null!==c.current&&(a?1===l&&(document.body.style.overscrollBehavior="none"):(0,n.disableBodyScroll)(c.current,{allowTouchMove:d(c)})),()=>{l--,null!==c.current&&(a?0===l&&(document.body.style.overscrollBehavior=""):(0,n.enableBodyScroll)(c.current))}}),[]),r.createElement("div",{ref:c,...i},o)}));function d(e){return t=>{const o=(0,i.ensureNotNull)(e.current),r=document.activeElement;return!o.contains(t)||null!==r&&o.contains(r)&&r.contains(t)}}},638177:e=>{e.exports={button:"button-GwQQdU8S",hover:"hover-GwQQdU8S",clicked:"clicked-GwQQdU8S",isInteractive:"isInteractive-GwQQdU8S",accessible:"accessible-GwQQdU8S",isGrouped:"isGrouped-GwQQdU8S",isActive:"isActive-GwQQdU8S",isOpened:"isOpened-GwQQdU8S",isDisabled:"isDisabled-GwQQdU8S",text:"text-GwQQdU8S",icon:"icon-GwQQdU8S",endIcon:"endIcon-GwQQdU8S"}},194878:e=>{e.exports={button:"button-merBkM5y",hover:"hover-merBkM5y",clicked:"clicked-merBkM5y",accessible:"accessible-merBkM5y",arrow:"arrow-merBkM5y",arrowWrap:"arrowWrap-merBkM5y",isOpened:"isOpened-merBkM5y"}},162458:(e,t,o)=>{"use strict";o.d(t,{HorizontalAttachEdge:()=>n,HorizontalDropDirection:()=>s,VerticalAttachEdge:()=>r,VerticalDropDirection:()=>i,getPopupPositioner:()=>c});var r,n,i,s,a=o(650151);!function(e){e[e.Top=0]="Top",e[e.Bottom=1]="Bottom",e[e.AutoStrict=2]="AutoStrict"}(r||(r={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(n||(n={})),function(e){e[e.FromTopToBottom=0]="FromTopToBottom",e[e.FromBottomToTop=1]="FromBottomToTop"}(i||(i={})),function(e){e[e.FromLeftToRight=0]="FromLeftToRight",e[e.FromRightToLeft=1]="FromRightToLeft"}(s||(s={}));const l={verticalAttachEdge:r.Bottom,horizontalAttachEdge:n.Left,verticalDropDirection:i.FromTopToBottom,horizontalDropDirection:s.FromLeftToRight,verticalMargin:0,horizontalMargin:0,matchButtonAndListboxWidths:!1};function c(e,t){return o=>{var c,d;const{contentWidth:p,contentHeight:h,availableHeight:u}=o,m=(0,a.ensureNotNull)(e).getBoundingClientRect(),{horizontalAttachEdge:v=l.horizontalAttachEdge,horizontalDropDirection:f=l.horizontalDropDirection,horizontalMargin:g=l.horizontalMargin,verticalMargin:w=l.verticalMargin,matchButtonAndListboxWidths:D=l.matchButtonAndListboxWidths}=t;let b=null!==(c=t.verticalAttachEdge)&&void 0!==c?c:l.verticalAttachEdge,_=null!==(d=t.verticalDropDirection)&&void 0!==d?d:l.verticalDropDirection;b===r.AutoStrict&&(u<m.y+m.height+w+h?(b=r.Top,_=i.FromBottomToTop):(b=r.Bottom,_=i.FromTopToBottom));const k=b===r.Top?-1*w:w,B=v===n.Right?m.right:m.left,E=b===r.Top?m.top:m.bottom,C={x:B-(f===s.FromRightToLeft?p:0)+g,y:E-(_===i.FromBottomToTop?h:0)+k};return D&&(C.overrideWidth=m.width),C}}},155352:(e,t,o)=>{"use strict";o.d(t,{DEFAULT_TOOL_WIDGET_BUTTON_THEME:()=>a,ToolWidgetButton:()=>l});var r=o(50959),n=o(497754),i=o(72571),s=o(638177);const a=s,l=r.forwardRef(((e,t)=>{
const{tag:o="div",icon:a,endIcon:l,isActive:c,isOpened:d,isDisabled:p,isGrouped:h,isHovered:u,isClicked:m,onClick:v,text:f,textBeforeIcon:g,title:w,theme:D=s,className:b,forceInteractive:_,inactive:k,"data-name":B,"data-tooltip":E,...C}=e,T=n(b,D.button,(w||E)&&"apply-common-tooltip",{[D.isActive]:c,[D.isOpened]:d,[D.isInteractive]:(_||Boolean(v))&&!p&&!k,[D.isDisabled]:Boolean(p||k),[D.isGrouped]:h,[D.hover]:u,[D.clicked]:m}),y=a&&("string"==typeof a?r.createElement(i.Icon,{className:D.icon,icon:a}):r.cloneElement(a,{className:n(D.icon,a.props.className)}));return"button"===o?r.createElement("button",{...C,ref:t,type:"button",className:n(T,D.accessible),disabled:p&&!k,onClick:v,title:w,"data-name":B,"data-tooltip":E},g&&f&&r.createElement("div",{className:n("js-button-text",D.text)},f),y,!g&&f&&r.createElement("div",{className:n("js-button-text",D.text)},f)):r.createElement("div",{...C,ref:t,"data-role":"button",className:T,onClick:p?void 0:v,title:w,"data-name":B,"data-tooltip":E},g&&f&&r.createElement("div",{className:n("js-button-text",D.text)},f),y,!g&&f&&r.createElement("div",{className:n("js-button-text",D.text)},f),l&&r.createElement(i.Icon,{icon:l,className:s.endIcon}))}))},679458:(e,t,o)=>{"use strict";o.d(t,{DEFAULT_TOOL_WIDGET_MENU_THEME:()=>f,ToolWidgetMenu:()=>w});var r=o(50959),n=o(497754),i=o(930202),s=o(624216),a=o(515783),l=o(800417),c=o(163694),d=o(759339),p=o(162458),h=o(930052),u=o(440891),m=o(111706),v=o(194878);const f=v;var g;!function(e){e[e.Vertical=2]="Vertical",e[e.Horizontal=0]="Horizontal"}(g||(g={}));class w extends r.PureComponent{constructor(e){super(e),this._wrapperRef=null,this._controller=r.createRef(),this._onPopupCloseOnClick=e=>{"keyboard"===e.detail.clickType&&this.focus()},this._handleMenuFocus=e=>{var t,o;e.relatedTarget===this._wrapperRef&&this.setState((e=>({...e,isOpenedByButton:!0}))),null===(o=(t=this.props).onMenuFocus)||void 0===o||o.call(t,e)},this._handleWrapperRef=e=>{this._wrapperRef=e,this.props.reference&&this.props.reference(e)},this._handleOpen=()=>{var e,t,o;"div"!==this.props.tag&&(this.setState((e=>({...e,isOpenedByButton:!1}))),null===(t=null===(e=this.props.menuReference)||void 0===e?void 0:e.current)||void 0===t||t.addEventListener("popup-menu-close-event",this._onPopupCloseOnClick),null===(o=this._controller.current)||void 0===o||o.focus())},this._handleClick=e=>{(u.enabled("skip_event_target_check")||e.target instanceof Node)&&e.currentTarget.contains(e.target)&&(this._handleToggleDropdown(void 0,(0,m.isKeyboardClick)(e)),this.props.onClick&&this.props.onClick(e,!this.state.isOpened))},this._handleToggleDropdown=(e,t=!1)=>{const{onClose:o,onOpen:r}=this.props,{isOpened:n}=this.state,i="boolean"==typeof e?e:!n;this.setState({isOpened:i,shouldReturnFocus:!!i&&t}),i&&r&&r(),!i&&o&&o()},this._handleClose=()=>{this.close()},this._handleKeyDown=e=>{var t;const{orientation:o="horizontal"}=this.props;if(e.defaultPrevented)return;if(!(e.target instanceof Node))return;const r=(0,i.hashFromEvent)(e);if(e.currentTarget.contains(e.target))switch(r){case 40:
if("div"===this.props.tag||"horizontal"!==o)return;if(this.state.isOpened)return;e.preventDefault(),this._handleToggleDropdown(!0,!0);break;case 27:if(!this.state.isOpened||!this.props.closeOnEsc)return;e.preventDefault(),e.stopPropagation(),this._handleToggleDropdown(!1)}else{if("div"===this.props.tag)return;switch(r){case 27:{e.preventDefault();const{shouldReturnFocus:o,isOpenedByButton:r}=this.state;this._handleToggleDropdown(!1),o&&r&&(null===(t=this._wrapperRef)||void 0===t||t.focus());break}}}},this.state={isOpened:!1,shouldReturnFocus:!1,isOpenedByButton:!1}}render(){const{tag:e="div",id:t,arrow:o,content:i,isDisabled:s,isDrawer:c,isShowTooltip:d,title:p,className:u,hotKey:m,theme:v,drawerBreakpoint:f,tabIndex:g,isClicked:w}=this.props,{isOpened:b}=this.state,_=n(u,v.button,{"apply-common-tooltip":d||!s,[v.isDisabled]:s,[v.isOpened]:b,[v.clicked]:w}),k=D(i)?i({isOpened:b}):i;return"button"===e?r.createElement("button",{type:"button",id:t,className:n(_,v.accessible),disabled:s,onClick:this._handleClick,title:p,"data-tooltip-hotkey":m,ref:this._handleWrapperRef,onKeyDown:this._handleKeyDown,tabIndex:g,...(0,l.filterDataProps)(this.props),...(0,l.filterAriaProps)(this.props)},k,o&&r.createElement("div",{className:v.arrow},r.createElement("div",{className:v.arrowWrap},r.createElement(a.ToolWidgetCaret,{dropped:b}))),this.state.isOpened&&(f?r.createElement(h.MatchMedia,{rule:f},(e=>this._renderContent(e))):this._renderContent(c))):r.createElement("div",{id:t,className:_,onClick:s?void 0:this._handleClick,title:p,"data-tooltip-hotkey":m,ref:this._handleWrapperRef,"data-role":"button",tabIndex:g,onKeyDown:this._handleKeyDown,...(0,l.filterDataProps)(this.props)},k,o&&r.createElement("div",{className:v.arrow},r.createElement("div",{className:v.arrowWrap},r.createElement(a.ToolWidgetCaret,{dropped:b}))),this.state.isOpened&&this._renderContent(c))}close(){var e,t;null===(t=null===(e=this.props.menuReference)||void 0===e?void 0:e.current)||void 0===t||t.removeEventListener("popup-menu-close-event",this._onPopupCloseOnClick),this._handleToggleDropdown(!1)}focus(){var e;null===(e=this._wrapperRef)||void 0===e||e.focus()}update(){null!==this._controller.current&&this._controller.current.update()}_renderContent(e){const{menuDataName:t,minWidth:o,menuClassName:n,maxHeight:i,drawerPosition:a="Bottom",children:l}=this.props,{isOpened:h}=this.state,u={horizontalMargin:this.props.horizontalMargin||0,verticalMargin:this.props.verticalMargin||2,verticalAttachEdge:this.props.verticalAttachEdge,horizontalAttachEdge:this.props.horizontalAttachEdge,verticalDropDirection:this.props.verticalDropDirection,horizontalDropDirection:this.props.horizontalDropDirection,matchButtonAndListboxWidths:this.props.matchButtonAndListboxWidths},m=Boolean(h&&e&&a),v=D(l)?l({isDrawer:m}):l;return m?r.createElement(c.DrawerManager,null,r.createElement(d.Drawer,{reference:this.props.drawerReference,onClose:this._handleClose,position:a,"data-name":t},v)):r.createElement(s.PopupMenu,{reference:this.props.menuReference,controller:this._controller,
closeOnClickOutside:this.props.closeOnClickOutside,doNotCloseOn:this,isOpened:h,minWidth:o,onClose:this._handleClose,position:(0,p.getPopupPositioner)(this._wrapperRef,u),className:n,maxHeight:i,"data-name":t,tabIndex:"div"!==this.props.tag?-1:void 0,onOpen:this._handleOpen,onKeyDown:this.props.onMenuKeyDown,onFocus:this._handleMenuFocus},v)}}function D(e){return"function"==typeof e}w.defaultProps={arrow:!0,closeOnClickOutside:!0,theme:v}},100578:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 8" width="16" height="8"><path fill="currentColor" d="M0 1.475l7.396 6.04.596.485.593-.49L16 1.39 14.807 0 7.393 6.122 8.58 6.12 1.186.08z"/></svg>'}}]);