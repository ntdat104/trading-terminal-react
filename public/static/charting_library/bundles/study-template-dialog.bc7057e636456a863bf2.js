(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[6631],{174786:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});const s=function(){}},36136:e=>{e.exports={"nav-button":"nav-button-znwuaSC1",link:"link-znwuaSC1",background:"background-znwuaSC1",icon:"icon-znwuaSC1","flip-icon":"flip-icon-znwuaSC1","size-large":"size-large-znwuaSC1","preserve-paddings":"preserve-paddings-znwuaSC1","size-medium":"size-medium-znwuaSC1","size-small":"size-small-znwuaSC1","size-xsmall":"size-xsmall-znwuaSC1","size-xxsmall":"size-xxsmall-znwuaSC1","visually-hidden":"visually-hidden-znwuaSC1"}},268976:e=>{e.exports={button:"button-D4RPB3ZC",content:"content-D4RPB3ZC",iconOnly:"iconOnly-D4RPB3ZC",link:"link-D4RPB3ZC",brand:"brand-D4RPB3ZC",primary:"primary-D4RPB3ZC",secondary:"secondary-D4RPB3ZC",gray:"gray-D4RPB3ZC",green:"green-D4RPB3ZC",red:"red-D4RPB3ZC",black:"black-D4RPB3ZC","black-friday":"black-friday-D4RPB3ZC","cyber-monday":"cyber-monday-D4RPB3ZC",xsmall:"xsmall-D4RPB3ZC",startIconWrap:"startIconWrap-D4RPB3ZC",endIconWrap:"endIconWrap-D4RPB3ZC",withStartIcon:"withStartIcon-D4RPB3ZC",withEndIcon:"withEndIcon-D4RPB3ZC",small:"small-D4RPB3ZC",medium:"medium-D4RPB3ZC",large:"large-D4RPB3ZC",xlarge:"xlarge-D4RPB3ZC",animated:"animated-D4RPB3ZC",stretch:"stretch-D4RPB3ZC",grouped:"grouped-D4RPB3ZC",adjustPosition:"adjustPosition-D4RPB3ZC",firstRow:"firstRow-D4RPB3ZC",firstCol:"firstCol-D4RPB3ZC","no-corner-top-left":"no-corner-top-left-D4RPB3ZC","no-corner-top-right":"no-corner-top-right-D4RPB3ZC","no-corner-bottom-right":"no-corner-bottom-right-D4RPB3ZC","no-corner-bottom-left":"no-corner-bottom-left-D4RPB3ZC",textWrap:"textWrap-D4RPB3ZC",multilineContent:"multilineContent-D4RPB3ZC",secondaryText:"secondaryText-D4RPB3ZC",primaryText:"primaryText-D4RPB3ZC"}},957723:e=>{e.exports={wrapper:"wrapper-GZajBGIm",input:"input-GZajBGIm",view:"view-GZajBGIm",danger:"danger-GZajBGIm"}},431542:e=>{e.exports={box:"box-ywH2tsV_",noOutline:"noOutline-ywH2tsV_",disabled:"disabled-ywH2tsV_","intent-danger":"intent-danger-ywH2tsV_",checked:"checked-ywH2tsV_",check:"check-ywH2tsV_",icon:"icon-ywH2tsV_",dot:"dot-ywH2tsV_",disableActiveStyles:"disableActiveStyles-ywH2tsV_"}},822306:e=>{e.exports={checkbox:"checkbox-vyj6oJxw",reverse:"reverse-vyj6oJxw",label:"label-vyj6oJxw",baseline:"baseline-vyj6oJxw"}},849844:e=>{e.exports={loader:"loader-UL6iwcBa",static:"static-UL6iwcBa",item:"item-UL6iwcBa","tv-button-loader":"tv-button-loader-UL6iwcBa",medium:"medium-UL6iwcBa",small:"small-UL6iwcBa",black:"black-UL6iwcBa",white:"white-UL6iwcBa",gray:"gray-UL6iwcBa",primary:"primary-UL6iwcBa"}},460903:e=>{e.exports={"small-height-breakpoint":"screen and (max-height: 360px)",footer:"footer-PhMf7PhQ",submitButton:"submitButton-PhMf7PhQ",buttons:"buttons-PhMf7PhQ"}},253330:e=>{e.exports={"tablet-normal-breakpoint":"screen and (max-width: 768px)","small-height-breakpoint":"screen and (max-height: 360px)","tablet-small-breakpoint":"screen and (max-width: 430px)"}},808473:e=>{e.exports={dialog:"dialog-b8SxMnzX",wrapper:"wrapper-b8SxMnzX",
separator:"separator-b8SxMnzX",bounded:"bounded-b8SxMnzX"}},780822:e=>{e.exports={"small-height-breakpoint":"screen and (max-height: 360px)",container:"container-BZKENkhT",unsetAlign:"unsetAlign-BZKENkhT",title:"title-BZKENkhT",subtitle:"subtitle-BZKENkhT",textWrap:"textWrap-BZKENkhT",ellipsis:"ellipsis-BZKENkhT",close:"close-BZKENkhT",icon:"icon-BZKENkhT"}},547625:e=>{e.exports={separator:"separator-Pf4rIzEt"}},862794:e=>{e.exports={icon:"icon-WB2y0EnP",dropped:"dropped-WB2y0EnP"}},389986:(e,t,n)=>{"use strict";n.d(t,{CloseButton:()=>d});var s=n(50959),o=n(270762),a=n(117105),r=n(315130),i=n(238822),l=n(663346),c=n(534983);function u(e="large"){switch(e){case"large":return a;case"medium":default:return r;case"small":return i;case"xsmall":return l;case"xxsmall":return c}}const d=s.forwardRef(((e,t)=>s.createElement(o.NavButton,{...e,ref:t,icon:u(e.size)})))},270762:(e,t,n)=>{"use strict";n.d(t,{NavButton:()=>c});var s=n(50959),o=n(497754),a=n(72571),r=(n(15378),n(36136));function i(e){const{size:t="large",preservePaddings:n,isLink:s,flipIconOnRtl:a,className:i}=e;return o(r["nav-button"],r[`size-${t}`],n&&r["preserve-paddings"],a&&r["flip-icon"],s&&r.link,i)}function l(e){const{children:t,icon:n}=e;return s.createElement(s.Fragment,null,s.createElement("span",{className:r.background}),s.createElement(a.Icon,{icon:n,className:r.icon,"aria-hidden":!0}),t&&s.createElement("span",{className:r["visually-hidden"]},t))}const c=(0,s.forwardRef)(((e,t)=>{const{icon:n,type:o="button",preservePaddings:a,flipIconOnRtl:r,size:c,"aria-label":u,...d}=e;return s.createElement("button",{...d,className:i({...e,children:u}),ref:t,type:o},s.createElement(l,{icon:n},u))}));c.displayName="NavButton";var u=n(591365),d=n(273388);(0,s.forwardRef)(((e,t)=>{const{icon:n,renderComponent:o,"aria-label":a,...r}=e,c=null!=o?o:u.CustomComponentDefaultLink;return s.createElement(c,{...r,className:i({...e,children:a,isLink:!0}),reference:(0,d.isomorphicRef)(t)},s.createElement(l,{icon:n},a))})).displayName="NavAnchorButton"},171529:(e,t,n)=>{"use strict";n.d(t,{SquareButton:()=>g});var s=n(50959),o=n(497754),a=n(331774),r=n(72571),i=n(268976),l=n.n(i);const c="apply-overflow-tooltip apply-overflow-tooltip--check-children-recursively apply-overflow-tooltip--allow-text apply-common-tooltip";function u(e){const{color:t="brand",size:n="medium",variant:s="primary",stretch:r=!1,icon:i,startIcon:u,endIcon:d,iconOnly:h=!1,className:m,isGrouped:p,cellState:b,disablePositionAdjustment:g=!1,primaryText:f,secondaryText:v,isAnchor:C=!1}=e,x=function(e){let t="";return 0!==e&&(1&e&&(t=o(t,l()["no-corner-top-left"])),2&e&&(t=o(t,l()["no-corner-top-right"])),4&e&&(t=o(t,l()["no-corner-bottom-right"])),8&e&&(t=o(t,l()["no-corner-bottom-left"]))),t}((0,a.getGroupCellRemoveRoundBorders)(b));return o(m,l().button,l()[n],l()[t],l()[s],r&&l().stretch,(i||u)&&l().withStartIcon,d&&l().withEndIcon,h&&l().iconOnly,x,p&&l().grouped,p&&!g&&l().adjustPosition,p&&b.isTop&&l().firstRow,p&&b.isLeft&&l().firstCol,f&&v&&l().multilineContent,C&&l().link,c)}function d(e){
const{startIcon:t,icon:n,iconOnly:a,children:i,endIcon:u,primaryText:d,secondaryText:h}=e,m=null!=t?t:n,p=!(t||n||u||a)&&!i&&d&&h;return s.createElement(s.Fragment,null,m&&s.createElement(r.Icon,{icon:m,className:l().startIconWrap}),i&&s.createElement("span",{className:l().content},i),u&&!a&&s.createElement(r.Icon,{icon:u,className:l().endIconWrap}),p&&function(e){return e.primaryText&&e.secondaryText&&s.createElement("div",{className:o(l().textWrap,c)},s.createElement("span",{className:l().primaryText}," ",e.primaryText," "),"string"==typeof e.secondaryText?s.createElement("span",{className:l().secondaryText}," ",e.secondaryText," "):s.createElement("span",{className:l().secondaryText},s.createElement("span",null,e.secondaryText.firstLine),s.createElement("span",null,e.secondaryText.secondLine)))}(e))}var h=n(601198),m=n(380327),p=n(800417);function b(e){const{className:t,color:n,variant:s,size:o,stretch:a,animated:r,icon:i,iconOnly:l,startIcon:c,endIcon:u,primaryText:d,secondaryText:h,...m}=e;return{...m,...(0,p.filterDataProps)(e),...(0,p.filterAriaProps)(e)}}function g(e){const{reference:t,tooltipText:n,...o}=e,{isGrouped:a,cellState:r,disablePositionAdjustment:i}=(0,s.useContext)(m.ControlGroupContext),l=u({...o,isGrouped:a,cellState:r,disablePositionAdjustment:i});return s.createElement("button",{...b(o),className:l,ref:t,"data-overflow-tooltip-text":null!=n?n:e.primaryText?[e.primaryText,e.secondaryText].join(" "):(0,h.getTextForTooltip)(e.children)},s.createElement(d,{...o}))}n(15378)},15378:(e,t,n)=>{"use strict";var s,o,a,r;!function(e){e.Primary="primary",e.QuietPrimary="quiet-primary",e.Secondary="secondary",e.Ghost="ghost"}(s||(s={})),function(e){e.XXSmall="xxsmall",e.XSmall="xsmall",e.Small="small",e.Medium="medium",e.Large="large",e.XLarge="xlarge",e.XXLarge="xxlarge"}(o||(o={})),function(e){e.Brand="brand",e.Gray="gray",e.LightGray="light-gray",e.Green="green",e.Red="red",e.Black="black",e.Gradient="gradient",e.BlackFriday="black-friday",e.CyberMonday="cyber-monday"}(a||(a={})),function(e){e.Semibold18px="semibold18px",e.Semibold16px="semibold16px",e.Semibold14px="semibold14px",e.Medium16px="medium16px",e.Regular16px="regular16px",e.Regular14px="regular14px"}(r||(r={}))},408323:(e,t,n)=>{"use strict";n.d(t,{CheckboxInput:()=>c});var s=n(50959),o=n(497754),a=n(800417),r=n(611031),i=n(957723),l=n.n(i);function c(e){const t=o(l().wrapper,e.className);return s.createElement("span",{className:t,title:e.title,style:e.style},s.createElement("input",{id:e.id,tabIndex:e.tabIndex,className:o(e.intent&&l()[e.intent],l().input),type:"checkbox",name:e.name,checked:e.checked,disabled:e.disabled,value:e.value,autoFocus:e.autoFocus,role:e.role,onChange:function(){var t;null===(t=e.onChange)||void 0===t||t.call(e,e.value)},ref:e.reference,"aria-required":e["aria-required"],"aria-describedby":e["aria-describedby"],"aria-invalid":e["aria-invalid"],...(0,a.filterDataProps)(e)}),s.createElement(r.CheckboxView,{className:l().view,indeterminate:e.indeterminate,checked:e.checked,disabled:e.disabled,intent:e.intent,
tabIndex:e.tabIndex}))}},611031:(e,t,n)=>{"use strict";n.d(t,{CheckboxView:()=>c});var s=n(50959),o=n(497754),a=n(72571),r=n(465890),i=n(431542),l=n.n(i);function c(e){const{indeterminate:t,checked:n,tabIndex:i,className:c,disabled:u,disableActiveStyles:d,intent:h,hideIcon:m,...p}=e,b=t||!n||m?"":r,g=o(l().box,l()[`intent-${h}`],!t&&l().check,!!t&&l().dot,-1===i&&l().noOutline,c,n&&l().checked,u&&l().disabled,d&&l().disableActiveStyles);return s.createElement("span",{className:g,...p},s.createElement(a.Icon,{icon:b,className:l().icon}))}},302946:(e,t,n)=>{"use strict";n.d(t,{Checkbox:()=>c});var s=n(50959),o=n(497754),a=n(230789),r=n(408323),i=n(822306),l=n.n(i);class c extends s.PureComponent{render(){const{inputClassName:e,labelClassName:t,...n}=this.props,a=o(this.props.className,l().checkbox,{[l().reverse]:Boolean(this.props.labelPositionReverse),[l().baseline]:Boolean(this.props.labelAlignBaseline)}),i=o(l().label,t,{[l().disabled]:this.props.disabled});let c=null;return this.props.label&&(c=s.createElement("span",{className:i,title:this.props.title},this.props.label)),s.createElement("label",{className:a},s.createElement(r.CheckboxInput,{...n,className:e}),c)}}c.defaultProps={value:"on"};(0,a.makeSwitchGroupItem)(c);n(611031)},409245:(e,t,n)=>{"use strict";function s(e){const{reference:t,...n}=e;return{...n,ref:t}}n.d(t,{renameRef:()=>s})},591365:(e,t,n)=>{"use strict";n.d(t,{CustomComponentDefaultLink:()=>a});var s=n(50959),o=n(409245);function a(e){return s.createElement("a",{...(0,o.renameRef)(e)})}s.PureComponent},718736:(e,t,n)=>{"use strict";n.d(t,{useFunctionalRefObject:()=>a});var s=n(50959),o=n(855393);function a(e){const t=(0,s.useMemo)((()=>function(e){const t=n=>{e(n),t.current=n};return t.current=null,t}((e=>{i.current(e)}))),[]),n=(0,s.useRef)(null),a=t=>{if(null===t)return r(n.current,t),void(n.current=null);n.current!==e&&(n.current=e,r(n.current,t))},i=(0,s.useRef)(a);return i.current=a,(0,o.useIsomorphicLayoutEffect)((()=>{if(null!==t.current)return i.current(t.current),()=>i.current(null)}),[e]),t}function r(e,t){null!==e&&("function"==typeof e?e(t):e.current=t)}},234404:(e,t,n)=>{"use strict";n.d(t,{Loader:()=>l});var s,o=n(50959),a=n(497754),r=n(849844),i=n.n(r);function l(e){const{className:t,size:n="medium",staticPosition:s,color:r="black"}=e,l=a(i().item,i()[r],i()[n]);return o.createElement("span",{className:a(i().loader,s&&i().static,t)},o.createElement("span",{className:l}),o.createElement("span",{className:l}),o.createElement("span",{className:l}))}!function(e){e.Medium="medium",e.Small="small"}(s||(s={}))},230789:(e,t,n)=>{"use strict";n.d(t,{SwitchGroup:()=>r,makeSwitchGroupItem:()=>i});var s=n(50959),o=n(174786);const a=(0,s.createContext)({getName:()=>"",getValues:()=>[],getOnChange:()=>o.default,subscribe:o.default,unsubscribe:o.default});class r extends s.PureComponent{constructor(e){super(e),this._subscriptions=new Set,this._getName=()=>this.props.name,this._getValues=()=>this.props.values,this._getOnChange=()=>this.props.onChange,this._subscribe=e=>{this._subscriptions.add(e)
},this._unsubscribe=e=>{this._subscriptions.delete(e)},this.state={switchGroupContext:{getName:this._getName,getValues:this._getValues,getOnChange:this._getOnChange,subscribe:this._subscribe,unsubscribe:this._unsubscribe}}}render(){return s.createElement(a.Provider,{value:this.state.switchGroupContext},this.props.children)}componentDidUpdate(e){this._notify(this._getUpdates(this.props.values,e.values))}_notify(e){this._subscriptions.forEach((t=>t(e)))}_getUpdates(e,t){return[...t,...e].filter((n=>t.includes(n)?!e.includes(n):e.includes(n)))}}function i(e){var t;return t=class extends s.PureComponent{constructor(){super(...arguments),this._onChange=e=>{this.context.getOnChange()(e)},this._onUpdate=e=>{e.includes(this.props.value)&&this.forceUpdate()}}componentDidMount(){this.context.subscribe(this._onUpdate)}render(){return s.createElement(e,{...this.props,name:this._getName(),onChange:this._onChange,checked:this._isChecked()})}componentWillUnmount(){this.context.unsubscribe(this._onUpdate)}_getName(){return this.context.getName()}_isChecked(){return this.context.getValues().includes(this.props.value)}},t.contextType=a,t}},601198:(e,t,n)=>{"use strict";n.d(t,{getTextForTooltip:()=>r});var s=n(50959);const o=e=>(0,s.isValidElement)(e)&&Boolean(e.props.children),a=e=>null==e||"boolean"==typeof e||"{}"===JSON.stringify(e)?"":e.toString()+" ",r=e=>Array.isArray(e)||(0,s.isValidElement)(e)?s.Children.toArray(e).reduce(((e,t)=>{let n="";return n=(0,s.isValidElement)(t)&&o(t)?r(t.props.children):(0,s.isValidElement)(t)&&!o(t)?"":a(t),e.concat(n)}),"").trim():a(e)},976669:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AdaptiveConfirmDialog:()=>m,DialogCloseAction:()=>s});var s,o=n(50959),a=n(497754),r=n.n(a),i=n(805184),l=n(650151),c=n(609838),u=n(180185),d=n(533408),h=n(460903);!function(e){e.Submit="submit",e.Cancel="cancel",e.None="none"}(s||(s={}));class m extends o.PureComponent{constructor(){super(...arguments),this._dialogRef=o.createRef(),this._handleClose=()=>{const{defaultActionOnClose:e,onSubmit:t,onCancel:n,onClose:s}=this.props;switch(e){case"submit":t();break;case"cancel":n()}s()},this._handleCancel=()=>{this.props.onCancel(),this.props.onClose()},this._handleKeyDown=e=>{const{onSubmit:t,submitButtonDisabled:n,submitOnEnterKey:s}=this.props;13===(0,u.hashFromEvent)(e)&&s&&(e.preventDefault(),n||t())}}render(){const{render:e,onClose:t,onSubmit:n,onCancel:s,footerLeftRenderer:a,submitButtonText:r,submitButtonDisabled:i,defaultActionOnClose:l,submitOnEnterKey:c,...u}=this.props;return o.createElement(d.AdaptivePopupDialog,{...u,ref:this._dialogRef,onKeyDown:this._handleKeyDown,render:this._renderChildren(),onClose:this._handleClose})}focus(){(0,l.ensureNotNull)(this._dialogRef.current).focus()}_renderChildren(){return e=>{const{render:t,footerLeftRenderer:s,additionalButtons:a,submitButtonText:l,submitButtonDisabled:u,onSubmit:d,cancelButtonText:m,showCancelButton:p=!0,showSubmitButton:b=!0,submitButtonClassName:g,cancelButtonClassName:f,buttonsWrapperClassName:v}=this.props
;return o.createElement(o.Fragment,null,t(e),o.createElement("div",{className:h.footer},s&&s(e.isSmallWidth),o.createElement("div",{className:r()(h.buttons,v)},a,p&&o.createElement(i.Button,{className:f,name:"cancel",appearance:"stroke",onClick:this._handleCancel},null!=m?m:c.t(null,void 0,n(904543))),b&&o.createElement("span",{className:h.submitButton},o.createElement(i.Button,{className:g,disabled:u,name:"submit",onClick:d,"data-name":"submit-button"},null!=l?l:c.t(null,void 0,n(819295)))))))}}}m.defaultProps={defaultActionOnClose:"submit",submitOnEnterKey:!0}},996038:(e,t,n)=>{"use strict";n.d(t,{DialogBreakpoints:()=>o});var s=n(253330);const o={SmallHeight:s["small-height-breakpoint"],TabletSmall:s["tablet-small-breakpoint"],TabletNormal:s["tablet-normal-breakpoint"]}},533408:(e,t,n)=>{"use strict";n.d(t,{AdaptivePopupDialog:()=>E});var s=n(50959),o=n(650151),a=n(497754),r=n.n(a),i=n(180185),l=n(431520),c=n(698043),u=n(59216),d=n(494707),h=n(996038),m=n(930052),p=n(910549);var b=n(206594),g=n(559410),f=n(609838),v=n(389986),C=n(190410),x=n(780822);function w(e){const{title:t,titleTextWrap:o=!1,subtitle:a,showCloseIcon:i=!0,onClose:l,onCloseButtonKeyDown:c,renderBefore:u,renderAfter:d,draggable:h,className:m,unsetAlign:p,closeAriaLabel:b=f.t(null,void 0,n(47742)),closeButtonReference:g}=e,[w,y]=(0,s.useState)(!1);return s.createElement(C.DialogHeaderContext.Provider,{value:{setHideClose:y}},s.createElement("div",{className:r()(x.container,m,(a||p)&&x.unsetAlign)},u,s.createElement("div",{"data-dragg-area":h,className:x.title},s.createElement("div",{className:r()(o?x.textWrap:x.ellipsis)},t),a&&s.createElement("div",{className:r()(x.ellipsis,x.subtitle)},a)),d,i&&!w&&s.createElement(v.CloseButton,{className:x.close,"data-name":"close","aria-label":b,onClick:l,onKeyDown:c,ref:g,size:"medium",preservePaddings:!0})))}var y=n(273388),_=n(800417),S=n(440891),B=n(808473);const D={vertical:20},N={vertical:0};class E extends s.PureComponent{constructor(){super(...arguments),this._controller=null,this._reference=null,this._orientationMediaQuery=null,this._embedResizerOverridesEnabled=S.enabled("embed_resizer_overrides"),this._renderChildren=(e,t)=>(this._controller=e,this.props.render({requestResize:this._requestResize,centerAndFit:this._centerAndFit,isSmallWidth:t})),this._handleReference=e=>this._reference=e,this._handleCloseBtnClick=()=>{this.props.onKeyboardClose&&this.props.onKeyboardClose(),this._handleClose()},this._handleClose=()=>{this.props.onClose()},this._handleOpen=()=>{void 0!==this.props.onOpen&&this.props.isOpened&&this.props.onOpen(this.props.fullScreen||window.matchMedia(h.DialogBreakpoints.TabletSmall).matches)},this._handleKeyDown=e=>{if(!e.defaultPrevented){if(this.props.onKeyDown&&this.props.onKeyDown(e),27===(0,i.hashFromEvent)(e)){if(e.defaultPrevented)return;if(this.props.forceCloseOnEsc&&this.props.forceCloseOnEsc())return this.props.onKeyboardClose&&this.props.onKeyboardClose(),void this._handleClose();const{activeElement:n}=document;if(null!==n){if(e.preventDefault(),
"true"===(t=n).getAttribute("data-haspopup")&&"true"!==t.getAttribute("data-expanded"))return void this._handleClose();const s=this._reference;if(null!==s&&(0,c.isTextEditingField)(n))return void s.focus();if(null==s?void 0:s.contains(n))return this.props.onKeyboardClose&&this.props.onKeyboardClose(),void this._handleClose()}}var t,n;(function(e){if("function"==typeof e)return e();return Boolean(e)})(this.props.disableTabNavigationContainment)||(n=e,[9,i.Modifiers.Shift+9].includes((0,i.hashFromEvent)(n))&&n.stopPropagation())}},this._requestResize=()=>{null!==this._controller&&this._controller.recalculateBounds()},this._centerAndFit=()=>{null!==this._controller&&this._controller.centerAndFit()},this._calculatePositionWithOffsets=(e,t)=>{const n=(0,o.ensureDefined)(this.props.fullScreenViewOffsets).value();return{top:n.top,left:(0,l.isRtl)()?-n.right:n.left,width:t.clientWidth-n.left-n.right,height:t.clientHeight-n.top-n.bottom}}}componentDidMount(){this.props.ignoreClosePopupsAndDialog||g.subscribe(b.CLOSE_POPUPS_AND_DIALOGS_COMMAND,this._handleClose,null),this._handleOpen(),void 0!==this.props.onOpen&&(this._orientationMediaQuery=window.matchMedia("(orientation: portrait)"),this._orientationMediaQuery.addEventListener("change",this._handleOpen)),this.props.fullScreenViewOffsets&&this.props.fullScreen&&this.props.fullScreenViewOffsets.subscribe(this._requestResize)}componentWillUnmount(){this.props.ignoreClosePopupsAndDialog||g.unsubscribe(b.CLOSE_POPUPS_AND_DIALOGS_COMMAND,this._handleClose,null),null!==this._orientationMediaQuery&&this._orientationMediaQuery.removeEventListener("change",this._handleOpen),this.props.fullScreenViewOffsets&&this.props.fullScreen&&this.props.fullScreenViewOffsets.unsubscribe(this._requestResize)}focus(){(0,o.ensureNotNull)(this._reference).focus()}getElement(){return this._reference}contains(e){var t,n;return null!==(n=null===(t=this._reference)||void 0===t?void 0:t.contains(e))&&void 0!==n&&n}render(){const{className:e,wrapperClassName:t,headerClassName:n,isOpened:o,title:a,titleTextWrap:i,dataName:l,onClickOutside:c,additionalElementPos:b,additionalHeaderElement:g,backdrop:f,shouldForceFocus:v=!0,shouldReturnFocus:C,onForceFocus:x,showSeparator:S,subtitle:E,draggable:k=!0,fullScreen:P=!1,showCloseIcon:T=!0,rounded:R=!0,isAnimationEnabled:O,growPoint:I,dialogTooltip:L,unsetHeaderAlign:A,onDragStart:M,dataDialogName:Z,closeAriaLabel:z,containerAriaLabel:F,reference:H,containerTabIndex:W,closeButtonReference:K,onCloseButtonKeyDown:G,shadowed:U,fullScreenViewOffsets:V,fixedBody:q,onClick:j}=this.props,X="after"!==b?g:void 0,Q="after"===b?g:void 0,J="string"==typeof a?a:Z||"",$=(0,_.filterDataProps)(this.props),Y=(0,y.mergeRefs)([this._handleReference,H]);return s.createElement(m.MatchMedia,{rule:h.DialogBreakpoints.SmallHeight},(b=>s.createElement(m.MatchMedia,{rule:h.DialogBreakpoints.TabletSmall},(h=>s.createElement(u.PopupDialog,{rounded:!(h||P)&&R,className:r()(B.dialog,P&&V&&B.bounded,e),isOpened:o,reference:Y,onKeyDown:this._handleKeyDown,onClickOutside:c,onClickBackdrop:c,
fullscreen:h||P,guard:b?N:D,boundByScreen:h||P,shouldForceFocus:v,onForceFocus:x,shouldReturnFocus:C,backdrop:f,draggable:k,isAnimationEnabled:O,growPoint:I,name:this.props.dataName,dialogTooltip:L,onDragStart:M,containerAriaLabel:F,containerTabIndex:W,calculateDialogPosition:P&&V?this._calculatePositionWithOffsets:void 0,shadowed:U,fixedBody:q,onClick:j,...$},s.createElement("div",{className:r()(B.wrapper,t),"data-name":l,"data-dialog-name":J},void 0!==a&&s.createElement(w,{draggable:k&&!(h||P),onClose:this._handleCloseBtnClick,renderAfter:Q,renderBefore:X,subtitle:E,title:a,titleTextWrap:i,showCloseIcon:T,className:n,unsetAlign:A,closeAriaLabel:z,closeButtonReference:K,onCloseButtonKeyDown:G}),S&&s.createElement(d.Separator,{className:B.separator}),s.createElement(p.PopupContext.Consumer,null,(e=>this._renderChildren(e,h||P)))))))))}}},190410:(e,t,n)=>{"use strict";n.d(t,{DialogHeaderContext:()=>s});const s=n(50959).createContext({setHideClose:()=>{}})},930052:(e,t,n)=>{"use strict";n.d(t,{MatchMedia:()=>o});var s=n(50959);class o extends s.PureComponent{constructor(e){super(e),this._handleChange=()=>{this.forceUpdate()},this.state={query:window.matchMedia(this.props.rule)}}componentDidMount(){this._subscribe(this.state.query)}componentDidUpdate(e,t){this.state.query!==t.query&&(this._unsubscribe(t.query),this._subscribe(this.state.query))}componentWillUnmount(){this._unsubscribe(this.state.query)}render(){return this.props.children(this.state.query.matches)}static getDerivedStateFromProps(e,t){return e.rule!==t.query.media?{query:window.matchMedia(e.rule)}:null}_subscribe(e){e.addEventListener("change",this._handleChange)}_unsubscribe(e){e.removeEventListener("change",this._handleChange)}}},494707:(e,t,n)=>{"use strict";n.d(t,{Separator:()=>r});var s=n(50959),o=n(497754),a=n(547625);function r(e){return s.createElement("div",{className:o(a.separator,e.className)})}},753327:(e,t,n)=>{"use strict";n.d(t,{Slot:()=>s.Slot,SlotContext:()=>s.SlotContext});var s=n(682925)},515783:(e,t,n)=>{"use strict";n.d(t,{ToolWidgetCaret:()=>l});var s=n(50959),o=n(497754),a=n(72571),r=n(862794),i=n(100578);function l(e){const{dropped:t,className:n}=e;return s.createElement(a.Icon,{className:o(n,r.icon,{[r.dropped]:t}),icon:i})}},77024:e=>{e.exports={loading:"loading-BPaLXf0z"}},538472:e=>{e.exports={container:"container-CD9TBN7D",withSuggestions:"withSuggestions-CD9TBN7D",title:"title-CD9TBN7D",autocomplete:"autocomplete-CD9TBN7D",saveSymbol:"saveSymbol-CD9TBN7D",saveInterval:"saveInterval-CD9TBN7D",indicators:"indicators-CD9TBN7D",hintLabel:"hintLabel-CD9TBN7D",hintMark:"hintMark-CD9TBN7D",hidden:"hidden-CD9TBN7D",labelWrap:"labelWrap-CD9TBN7D",label:"label-CD9TBN7D",accessibleLabel:"accessibleLabel-CD9TBN7D"}},69505:(e,t,n)=>{"use strict";n.r(t),n.d(t,{StudyTemplateSaver:()=>K});var s=n(650151),o=n(609838),a=n(50959),r=(n(68212),n(497754)),i=n(302946),l=n(73007),c=n(72571),u=n(976669),d=n(753327),h=n(234404),m=n(77024);function p(e){const{isLoading:t}=e;return a.createElement("span",{className:t?m.loading:void 0
},o.t(null,void 0,n(664e3)),t&&a.createElement(h.Loader,{color:"white"}))}class b extends a.PureComponent{constructor(e){super(e),this._dialogRef=a.createRef(),this._manager=null,this._handleSubmit=()=>{this.setState({isLoading:!0}),this.props.onSubmit(this)},this.state={isLoading:!1}}render(){const{isOpened:e,saveDisabled:t,title:n,onClose:s}=this.props;return a.createElement(u.AdaptiveConfirmDialog,{ref:this._dialogRef,onClose:s,onSubmit:this._handleSubmit,onCancel:s,onClickOutside:s,isOpened:e,title:n,dataName:"save-rename-dialog",render:this._renderDialogBody(),defaultActionOnClose:"none",submitButtonText:a.createElement(p,{isLoading:this.state.isLoading}),submitButtonDisabled:t})}focus(){(0,s.ensureNotNull)(this._dialogRef.current).focus()}manager(){return this._manager}submit(){this.props.onSubmit(this)}close(){this.props.onClose()}dropLoading(){this.setState({isLoading:!1})}_renderDialogBody(){return()=>a.createElement(d.SlotContext.Consumer,null,(e=>(this._manager=e,this.props.children)))}}var g=n(78943),f=n(785508),v=n(538472),C=n(601227),x=n(744471),w=n(718736);const y=o.t(null,void 0,n(59233)),_=o.t(null,void 0,n(906081)),S=o.t(null,void 0,n(357149)),B=o.t(null,void 0,n(218698)),D=[v.hintMark,"apply-common-tooltip"];function N(e){const{title:t,saveSymbolHintText:n,saveIntervalHintText:o,indicatorsText:c,source:u,onClose:d,onSubmit:h}=e,[m,p]=(0,a.useState)(""),[f,C]=(0,a.useState)(!1),[x,w]=(0,a.useState)(!1),[D,N]=(0,a.useState)(!1),k=(0,a.useRef)(null),P=(0,a.useRef)(null);return(0,a.useEffect)((()=>{(0,s.ensureNotNull)(P.current).focus()}),[]),a.createElement(b,{ref:k,isOpened:!0,saveDisabled:!m,title:t,onClose:d,onSubmit:function(e){h({title:m,saveSymbol:f,saveInterval:x},e)}},a.createElement("div",{className:r(v.container,D&&v.withSuggestions)},a.createElement("div",{className:v.title},y),a.createElement("div",{className:v.autocomplete},a.createElement(l.Autocomplete,{maxLength:64,value:m,onChange:p,source:u,allowUserDefinedValues:!0,preventOnFocusOpen:!0,noEmptyText:!0,preventSearchOnEmptyQuery:!0,filter:g.autocompleteFilter,setupHTMLInput:function(e){P.current=e},onSuggestionsOpen:function(){N(!0)},onSuggestionsClose:function(){N(!1)}})),a.createElement("div",{className:v.saveSymbol},a.createElement(i.Checkbox,{label:a.createElement(E,{title:S,hint:n}),onChange:function(){C(!f)},checked:f})),a.createElement("div",{className:v.saveInterval},a.createElement(i.Checkbox,{label:a.createElement(E,{title:B,hint:o}),onChange:function(){w(!x)},checked:x})),a.createElement("div",{className:v.title},_),a.createElement("div",{className:r(v.indicators,D&&v.withSuggestions)},c)))}function E(e){const{title:t,hint:n}=e,o=(0,w.useFunctionalRefObject)(null);return a.createElement("div",{className:v.labelWrap},a.createElement("span",{className:v.label},t),a.createElement("button",{type:"button",ref:o,"aria-label":n,"data-tooltip":n,className:r(v.hintLabel,"apply-common-tooltip",v.accessibleLabel),title:n,onFocus:()=>(0,x.showOnElement)((0,s.ensureNotNull)(o.current)),onBlur:()=>(0,x.hide)()},a.createElement(c.Icon,{
className:r(D),icon:f})))}C.CheckMobile.any()&&D.push(v.hidden);var k=n(559410),P=n(206594),T=n(651674);class R{constructor(e){this._container=document.createElement("div"),this._rootInstance=null,this.close=()=>{this.unmount(),this._onClose&&this._onClose()},this.unmount=()=>{var e;k.unsubscribe(P.CLOSE_POPUPS_AND_DIALOGS_COMMAND,this.unmount,null),null===(e=this._rootInstance)||void 0===e||e.unmount(),this._rootInstance=null},this._title=e.title,this._saveSymbolHintText=e.saveSymbolHintText,this._saveIntervalHintText=e.saveIntervalHintText,this._indicatorsText=e.indicatorsText,this._source=e.source,this._onSubmit=e.onSubmit,this._onClose=e.onClose,k.subscribe(P.CLOSE_POPUPS_AND_DIALOGS_COMMAND,this.unmount,null)}destroy(){this.unmount()}show(){this._mount()}_mount(){const e=a.createElement(N,{title:this._title,saveSymbolHintText:this._saveSymbolHintText,saveIntervalHintText:this._saveIntervalHintText,indicatorsText:this._indicatorsText,source:this._source,onClose:this.close,onSubmit:this._onSubmit});this._rootInstance?this._rootInstance.render(e):this._rootInstance=(0,T.createReactRoot)(e,this._container)}}var O=n(301341),I=n(153055),L=n(536424),A=n(677299),M=n(903003);const Z=o.t(null,void 0,n(451405)),z=o.t(null,void 0,n(513860)),F=o.t(null,void 0,n(763035)),H=o.t(null,void 0,n(856542));function W(e,t,n){const s=()=>{O.backend.invalidateStudyTemplatesList(),O.backend.getStudyTemplatesList().then(t)};O.backend.saveStudyTemplate(e).then(s)}class K{constructor(e){this._dialog=null,this._onSave=e=>{this._options.onSave(e),this._close()},this._showSaveDialog=async()=>{const e=this._controller.model().mainSeries().symbol(),t=this._controller.model().mainSeries().interval(),n=await this._getActualTemplateList();await this._showTemplateSaveRenameDialog(n,e,t)},this._close=()=>{this._dialog&&(this._dialog.destroy(),this._dialog=null)},this._options=e,this._controller=e.controller}show(){(0,A.runOrSigninWithFeature)(this._showSaveDialog,{feature:"customIndicators",source:"Study templates save as",sourceMeta:"Chart"})}_doSave(e,t,n){const{title:s,saveSymbol:o,saveInterval:a}=t;if(!s)return;const r=n.manager()||void 0,i=(0,M.getStudyTemplateSaveData)(s,this._controller.model(),o,a);if(e.find((e=>e.name===s))){const e=e=>{e?W(i,this._onSave):(n.focus(),n.dropLoading())};(function(e,t){return new Promise((n=>(0,I.showConfirm)({text:H.format({templateName:e}),onConfirm:({dialogClose:e})=>{n(!0),e()},onClose:()=>n(!1)},t)))})(s,r).then(e)}else{W(i,this._onSave)}}_getActualTemplateList(){return O.backend.invalidateStudyTemplatesList(),O.backend.getStudyTemplatesList()}_showTemplateSaveRenameDialog(e,t,n){const s=(0,M.getStudyTemplateMetaInfo)(this._controller.model());(this._dialog=new R({source:e.map((e=>e.name)),title:Z,saveSymbolHintText:z.format({symbol:t}),saveIntervalHintText:F.format({interval:(0,L.translatedIntervalString)(n)}),indicatorsText:(0,M.getStudyTemplateDescString)(s.indicators),onSubmit:(t,n)=>this._doSave(e,t,n),onClose:this._close})).show()}}},78943:(e,t,n)=>{"use strict";function s(e,t){
return Boolean(""===e||e&&-1!==t.toLowerCase().indexOf(e.toLowerCase()))}n.d(t,{autocompleteFilter:()=>s})},465890:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 9" width="11" height="9" fill="none"><path stroke="currentColor" stroke-width="2" d="M0.999878 4L3.99988 7L9.99988 1"/></svg>'},117105:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path stroke="currentColor" stroke-width="1.2" d="m1.5 1.5 21 21m0-21-21 21"/></svg>'},315130:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path stroke="currentColor" stroke-width="1.2" d="m1.5 1.5 15 15m0-15-15 15"/></svg>'},238822:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14"><path stroke="currentColor" stroke-width="1.2" d="m1.5 1.5 11 11m0-11-11 11"/></svg>'},663346:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" width="12" height="12"><path stroke="currentColor" stroke-width="1.2" d="m1.5 1.5 9 9m0-9-9 9"/></svg>'},534983:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10" width="10" height="10"><path stroke="currentColor" stroke-width="1.2" d="m1.5 1.5 7 7m0-7-7 7"/></svg>'},100578:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 8" width="16" height="8"><path fill="currentColor" d="M0 1.475l7.396 6.04.596.485.593-.49L16 1.39 14.807 0 7.393 6.122 8.58 6.12 1.186.08z"/></svg>'}}]);