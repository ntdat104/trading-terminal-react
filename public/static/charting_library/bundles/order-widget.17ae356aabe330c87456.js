(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[7502],{792049:e=>{e.exports={badge:"badge-PlSmolIm",free:"free-PlSmolIm",content:"content-PlSmolIm","size-xsmall":"size-xsmall-PlSmolIm","size-small":"size-small-PlSmolIm","size-medium":"size-medium-PlSmolIm","size-large":"size-large-PlSmolIm","size-xlarge":"size-xlarge-PlSmolIm"}},159579:e=>{e.exports={priceLabel:"priceLabel-mpa2WWtU",list:"list-mpa2WWtU",item:"item-mpa2WWtU",selected:"selected-mpa2WWtU",input:"input-mpa2WWtU",wait:"wait-mpa2WWtU"}},793663:e=>{e.exports={absolutePriceDropdownItem:"absolutePriceDropdownItem-QDwbzjCO",price:"price-QDwbzjCO",labelsGroup:"labelsGroup-QDwbzjCO"}},509820:e=>{e.exports={container:"container-JQC67cD9",leverageButton:"leverageButton-JQC67cD9",disabledLeverageButton:"disabledLeverageButton-JQC67cD9"}},926463:e=>{e.exports={dialog:"dialog-mAVKt9Z3",dialogBody:"dialogBody-mAVKt9Z3"}},612107:e=>{e.exports={orderInfo:"orderInfo-ZCVq_FIR",title:"title-ZCVq_FIR",contentWrapper:"contentWrapper-ZCVq_FIR",right:"right-ZCVq_FIR"}},863618:e=>{e.exports={panelContainer:"panelContainer-qPQHH_hi",orderPanel:"orderPanel-qPQHH_hi"}},36456:e=>{e.exports={scrollWrapper:"scrollWrapper-XYi0nst9",content:"content-XYi0nst9",separator:"separator-XYi0nst9",controls:"controls-XYi0nst9",informer:"informer-XYi0nst9"}},340439:e=>{e.exports={controlGroup:"controlGroup-HcMnXcBP",absolutePriceControl:"absolutePriceControl-HcMnXcBP",withRelative:"withRelative-HcMnXcBP",relativePriceControl:"relativePriceControl-HcMnXcBP"}},849108:e=>{e.exports={"min-order-ticket-height":"320px","min-order-info-height":"50px",orderWidget:"orderWidget-F15FKlrH",header:"header-F15FKlrH",side:"side-F15FKlrH",doneButton:"doneButton-F15FKlrH",customField:"customField-F15FKlrH",duration:"duration-F15FKlrH",customFieldsWrapper:"customFieldsWrapper-F15FKlrH",separator:"separator-F15FKlrH",resizeHandler:"resizeHandler-F15FKlrH",orderTicket:"orderTicket-F15FKlrH",orderInfoAndSeparator:"orderInfoAndSeparator-F15FKlrH",topWrapper:"topWrapper-F15FKlrH",centerBlock:"centerBlock-F15FKlrH","brackets-wrapper":"brackets-wrapper-F15FKlrH",brackets:"brackets-F15FKlrH",quantityWrapper:"quantityWrapper-F15FKlrH",leverage:"leverage-F15FKlrH",screenWithKeyholeIcon:"screenWithKeyholeIcon-F15FKlrH",sadScreenIcon:"sadScreenIcon-F15FKlrH",emptyStateBlockWrapper:"emptyStateBlockWrapper-F15FKlrH",scrollWrapper:"scrollWrapper-F15FKlrH"}},441518:e=>{e.exports={priceLabel:"priceLabel-s5LgTmXf",ask:"ask-s5LgTmXf",bid:"bid-s5LgTmXf",last:"last-s5LgTmXf"}},172594:e=>{e.exports={progressBarContainer:"progressBarContainer-Zcxs1Uvi",marginsContainer:"marginsContainer-Zcxs1Uvi",margin:"margin-Zcxs1Uvi",title:"title-Zcxs1Uvi",price:"price-Zcxs1Uvi",usedMargin:"usedMargin-Zcxs1Uvi",progressBar:"progressBar-Zcxs1Uvi",track:"track-Zcxs1Uvi",progress:"progress-Zcxs1Uvi",fullFilled:"fullFilled-Zcxs1Uvi",marginOverflow:"marginOverflow-Zcxs1Uvi",wait:"wait-Zcxs1Uvi"}},744071:e=>{e.exports={calculator:"calculator-vLRZh3q9",calculatorWithInput:"calculatorWithInput-vLRZh3q9",input:"input-vLRZh3q9",
buttonsWrapper:"buttonsWrapper-vLRZh3q9",buttonWithOperation:"buttonWithOperation-vLRZh3q9",buttonIcon:"buttonIcon-vLRZh3q9"}},833855:e=>{e.exports={menuBox:"menuBox-rm7KgfIT"}},885620:e=>{e.exports={wrapper:"wrapper-IWgXIGoE",label:"label-IWgXIGoE",wait:"wait-IWgXIGoE",title:"title-IWgXIGoE",popupMenuItem:"popupMenuItem-IWgXIGoE",value:"value-IWgXIGoE"}},950506:e=>{e.exports={wrapper:"wrapper-Gt0vOpyz",control:"control-Gt0vOpyz",label:"label-Gt0vOpyz",units:"units-Gt0vOpyz",single:"single-Gt0vOpyz",calculatorIcon:"calculatorIcon-Gt0vOpyz",isOpened:"isOpened-Gt0vOpyz",risk:"risk-Gt0vOpyz",wait:"wait-Gt0vOpyz"}},733343:e=>{e.exports={pipsLabel:"pipsLabel-oAJwOoJe",openButton:"openButton-oAJwOoJe",iconWrapper:"iconWrapper-oAJwOoJe",openIcon:"openIcon-oAJwOoJe",wait:"wait-oAJwOoJe",opened:"opened-oAJwOoJe",list:"list-oAJwOoJe",item:"item-oAJwOoJe",selected:"selected-oAJwOoJe",input:"input-oAJwOoJe"}},767599:e=>{e.exports={relativePriceDropdownItem:"relativePriceDropdownItem-L1mdgTgI",price:"price-L1mdgTgI"}},766015:e=>{e.exports={restrictions:"restrictions-kbYnGQgu",restriction:"restriction-kbYnGQgu",hardToBorrow:"hardToBorrow-kbYnGQgu",halted:"halted-kbYnGQgu"}},5700:e=>{e.exports={restrictions:"restrictions-B5GOsH7j",smallPaddings:"smallPaddings-B5GOsH7j",sideControl:"sideControl-B5GOsH7j",section:"section-B5GOsH7j",active:"active-B5GOsH7j",sell:"sell-B5GOsH7j",buy:"buy-B5GOsH7j",title:"title-B5GOsH7j",typeSide:"typeSide-B5GOsH7j",value:"value-B5GOsH7j",valueNoData:"valueNoData-B5GOsH7j",spread:"spread-B5GOsH7j",isLongValue:"isLongValue-B5GOsH7j",disable:"disable-B5GOsH7j"}},156855:e=>{e.exports={tabsContainer:"tabsContainer-zC5M0yfs"}},49368:e=>{e.exports={wrap:"wrap-ne5qGlZh",icon:"icon-ne5qGlZh",text:"text-ne5qGlZh",disabled:"disabled-ne5qGlZh"}},691504:e=>{e.exports={scrollWrap:"scrollWrap-FaOvTD2r"}},567734:e=>{e.exports={container:"container-Tv7LSjUz",overlayScrollWrap:"overlayScrollWrap-Tv7LSjUz",wrapper:"wrapper-Tv7LSjUz"}},660591:e=>{e.exports={wrap:"wrap-vSb6C0Bj","wrap--horizontal":"wrap--horizontal-vSb6C0Bj",bar:"bar-vSb6C0Bj",barInner:"barInner-vSb6C0Bj","barInner--horizontal":"barInner--horizontal-vSb6C0Bj","bar--horizontal":"bar--horizontal-vSb6C0Bj"}},805184:(e,t,r)=>{"use strict";var s,o,n;function i(e="default"){switch(e){case"default":return"primary";case"stroke":return"secondary"}}function a(e="primary"){switch(e){case"primary":return"brand";case"success":return"green";case"default":return"gray";case"danger":return"red"}}function l(e="m"){switch(e){case"s":return"xsmall";case"m":return"small";case"l":return"large"}}r.d(t,{Button:()=>d}),function(e){e.Primary="primary",e.Success="success",e.Default="default",e.Danger="danger"}(s||(s={})),function(e){e.Small="s",e.Medium="m",e.Large="l"}(o||(o={})),function(e){e.Default="default",e.Stroke="stroke"}(n||(n={}));var c=r(50959),u=r(171529);function p(e){const{intent:t,size:r,appearance:s,useFullWidth:o,icon:n,...c}=e;return{...c,color:a(t),size:l(r),variant:i(s),stretch:o,startIcon:n}}function d(e){return c.createElement(u.SquareButton,{...p(e)})}},
252130:(e,t,r)=>{"use strict";r.d(t,{useIsMounted:()=>o});var s=r(50959);const o=()=>{const e=(0,s.useRef)(!1);return(0,s.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},129018:(e,t,r)=>{"use strict";r.d(t,{QuantityCalculator:()=>P});var s=r(50959),o=r(960521),n=r(624216),i=r(510618),a=r(493173),l=r(567704),c=r(497754),u=r.n(c),p=r(609838),d=r(180185),h=r(72571),m=r(380327),v=r(729354),f=r(600297),g=r(218666),b=r(96634),C=r(115589),y=r(672197),E=r(744071);const _={isGrouped:!1,cellState:{isTop:!1,isRight:!1,isBottom:!1,isLeft:!1}};function S(e){const{min:t,max:o,step:n,uiStep:i,reference:a,withInput:l,valueInput:c,onChangeValueInput:S,onClick:w,onClose:k,onInputClick:P}=e,O=(0,s.useRef)(null),M={min:t,max:o,step:n,uiStep:i};function N(e,t){var r;null===(r=O.current)||void 0===r||r.blur(),w(e,t)}return s.createElement("div",{className:u()(E.calculator,l&&E.calculatorWithInput),tabIndex:-1,ref:a,onKeyDown:e=>{13===(0,d.hashFromEvent)(e)&&k()}},l&&s.createElement(v.QuantityInput,{id:"calculator-input",qty:c,quantityMetainfo:M,className:E.input,customTitle:p.t(null,void 0,r(598721)),onValueChange:S,onClick:P,inputReference:e=>O.current=e}),s.createElement(m.ControlGroupContext.Provider,{value:_},s.createElement("div",{className:E.buttonsWrapper},s.createElement(f.Button,{value:-n,buttonType:f.ButtonType.IncDec,icon:s.createElement(h.Icon,{className:E.buttonIcon,icon:b}),onClick:N,className:E.buttonWithOperation}),s.createElement(f.Button,{value:n,buttonType:f.ButtonType.IncDec,icon:s.createElement(h.Icon,{className:E.buttonIcon,icon:g}),onClick:N,className:E.buttonWithOperation}),s.createElement(f.Button,{value:1,buttonType:f.ButtonType.PlusValue,onClick:N}),s.createElement(f.Button,{value:5,buttonType:f.ButtonType.PlusValue,onClick:N}),s.createElement(f.Button,{value:25,buttonType:f.ButtonType.PlusValue,onClick:N}),s.createElement(f.Button,{value:100,buttonType:f.ButtonType.PlusValue,onClick:N}),s.createElement(f.Button,{value:500,buttonType:f.ButtonType.PlusValue,onClick:N}),s.createElement(f.Button,{value:1e3,buttonType:f.ButtonType.PlusValue,onClick:N}),s.createElement(f.Button,{value:0,buttonType:f.ButtonType.Clear,icon:s.createElement(h.Icon,{className:E.buttonIcon,icon:C}),onClick:N}),s.createElement(f.Button,{value:t||n,buttonType:f.ButtonType.Default,icon:s.createElement(h.Icon,{className:E.buttonIcon,icon:y}),onClick:N}))))}var w=r(833855);const k=(0,a.mergeThemes)(i.DEFAULT_MENU_THEME,{menuBox:w.menuBox});class P extends s.PureComponent{constructor(e){super(e),this._setCalcRef=e=>{this.props.calcReference&&this.props.calcReference(e)},this._calculatorStepHandler=(e,t)=>{const{min:r,max:s,uiStep:n,trackEventTarget:i,trackEvent:a}=this.props;if(void 0!==a&&void 0!==i&&a(i,"Calculator Button",(0,l.prepareCalculatorEventText)(e,t)),t===f.ButtonType.Clear||t===f.ButtonType.Default)return this._updateValueByCalc(e);const c=this.props.valueGetter();if(null===c)return;let u=Number((0,o.Big)(c).plus(e));if((u<r||s<u)&&t!==f.ButtonType.IncDec)return this._updateValueByCalc(c);if(t===f.ButtonType.IncDec){
if(u=this._calcByStep(c,e,r,n),s<u)return this._updateValueByCalc(s);if(u<r)return this._updateValueByCalc(r)}return this._updateValueByCalc(u)},this._updateValueByCalc=e=>{var t,r;this._handlerValueInput(e),this.props.onValueChange(e,!0),void 0!==this.props.errorHandler&&this.props.errorHandler(!1),this.props.calculatorUsedStat&&this.props.calculatorUsedStat(),null===(r=(t=this.props).onFocus)||void 0===r||r.call(t)},this._onInputClick=()=>{const{trackEventTarget:e,trackEvent:t}=this.props;void 0!==t&&void 0!==e&&t(e,"Calculator Input","Quantity input field")},this.state={valueInput:e.valueGetter()},this._handlerValueInput=this._handlerValueInput.bind(this)}render(){const{min:e,max:t,step:r,uiStep:o,withInput:i,targetEl:a,position:l,onClose:c,onClickOutside:u,onKeyboardClose:p}=this.props;return s.createElement(n.PopupMenu,{isOpened:!0,onClose:c,onClickOutside:u,onKeyboardClose:p,position:l,doNotCloseOn:a,theme:k},s.createElement(S,{min:e,max:t,step:r,uiStep:o,withInput:i,reference:this._setCalcRef,valueInput:this.state.valueInput,onChangeValueInput:this._updateValueByCalc,onClick:this._calculatorStepHandler,onClose:c,onInputClick:this._onInputClick}))}_calcByStep(e,t,r,s){const n=Math.sign(t),i=Math.abs(null!=s?s:t),a=new o.Big(e),l=a.minus(r).mod(t);let c=a.plus(n*i);return l.eq(0)||(c=c.plus((n>0?0:1)*i).minus(l)),c.toNumber()}_handlerValueInput(e){this.setState({valueInput:e})}}},27950:(e,t,r)=>{"use strict";r.d(t,{EditButton:()=>l});var s=r(50959),o=r(497754),n=r(72571),i=r(610600),a=r(49368);function l(e){const{value:t,onClick:r,className:l,startSlot:c,disabled:u=!1}=e;return s.createElement("div",{className:o(a.wrap,u&&a.disabled,l),onClick:r,"data-name":"edit-button"},s.createElement("div",{className:o(a.text,"apply-overflow-tooltip")},void 0!==c&&c,s.createElement("span",null,t)),s.createElement(n.Icon,{icon:i,className:a.icon}))}},73288:(e,t,r)=>{"use strict";r.d(t,{OverlayScrollContainer:()=>f});var s=r(50959),o=r(497754),n=r.n(o),i=r(431520),a=r(650151),l=r(822960);const c=r(660591);var u;!function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal",e[e.HorizontalRtl=2]="HorizontalRtl"}(u||(u={}));const p={0:{isHorizontal:!1,isNegative:!1,sizePropName:"height",minSizePropName:"minHeight",startPointPropName:"top",currentMousePointPropName:"clientY",progressBarTransform:"translateY"},1:{isHorizontal:!0,isNegative:!1,sizePropName:"width",minSizePropName:"minWidth",startPointPropName:"left",currentMousePointPropName:"clientX",progressBarTransform:"translateX"},2:{isHorizontal:!0,isNegative:!0,sizePropName:"width",minSizePropName:"minWidth",startPointPropName:"right",currentMousePointPropName:"clientX",progressBarTransform:"translateX"}},d=40;function h(e){const{size:t,scrollSize:r,clientSize:o,scrollProgress:i,onScrollProgressChange:u,scrollMode:h,theme:m=c,onDragStart:v,onDragEnd:f,minBarSize:g=d}=e,b=(0,s.useRef)(null),C=(0,s.useRef)(null),[y,E]=(0,s.useState)(!1),_=(0,
s.useRef)(0),{isHorizontal:S,isNegative:w,sizePropName:k,minSizePropName:P,startPointPropName:O,currentMousePointPropName:M,progressBarTransform:N}=p[h];(0,s.useEffect)((()=>{const e=(0,a.ensureNotNull)(b.current).ownerDocument;return y?(v&&v(),e&&(e.addEventListener("mousemove",W),e.addEventListener("mouseup",R))):f&&f(),()=>{e&&(e.removeEventListener("mousemove",W),e.removeEventListener("mouseup",R))}}),[y]);const I=t/r||0,B=o*I||0,D=Math.max(B,g),x=(t-D)/(t-B),T=r-t,F=w?-T:0,H=w?0:T,L=z((0,l.clamp)(i,F,H))||0;return s.createElement("div",{ref:b,className:n()(m.wrap,S&&m["wrap--horizontal"]),style:{[k]:t},onMouseDown:function(e){if(e.isDefaultPrevented())return;e.preventDefault();const t=V(e.nativeEvent,(0,a.ensureNotNull)(b.current)),r=Math.sign(t),s=(0,a.ensureNotNull)(C.current).getBoundingClientRect();_.current=r*s[k]/2;let o=Math.abs(t)-Math.abs(_.current);const n=z(T);o<0?(o=0,_.current=t):o>n&&(o=n,_.current=t-r*n);u(A(r*o)),E(!0)}},s.createElement("div",{ref:C,className:n()(m.bar,S&&m["bar--horizontal"]),style:{[P]:g,[k]:D,transform:`${N}(${L}px)`},onMouseDown:function(e){e.preventDefault(),_.current=V(e.nativeEvent,(0,a.ensureNotNull)(C.current)),E(!0)}},s.createElement("div",{className:n()(m.barInner,S&&m["barInner--horizontal"])})));function W(e){const t=V(e,(0,a.ensureNotNull)(b.current))-_.current;u(A(t))}function R(){E(!1)}function V(e,t){const r=t.getBoundingClientRect()[O];return e[M]-r}function z(e){return e*I*x}function A(e){return e/I/x}}var m=r(522224),v=r(691504);function f(e){const{reference:t,className:r,containerHeight:n=0,containerWidth:a=0,contentHeight:l=0,contentWidth:c=0,scrollPosTop:u=0,scrollPosLeft:p=0,onVerticalChange:d,onHorizontalChange:f,visible:g}=e,[b,C]=(0,m.useHover)(),[y,E]=(0,s.useState)(!1),_=n<l,S=a<c,w=_&&S?8:0;return s.createElement("div",{...C,ref:t,className:o(r,v.scrollWrap),style:{visibility:g||b||y?"visible":"hidden"}},_&&s.createElement(h,{size:n-w,scrollSize:l-w,clientSize:n-w,scrollProgress:u,onScrollProgressChange:function(e){d&&d(e)},onDragStart:k,onDragEnd:P,scrollMode:0}),S&&s.createElement(h,{size:a-w,scrollSize:c-w,clientSize:a-w,scrollProgress:p,onScrollProgressChange:function(e){f&&f(e)},onDragStart:k,onDragEnd:P,scrollMode:(0,i.isRtl)()?2:1}));function k(){E(!0)}function P(){E(!1)}}},109955:(e,t,r)=>{"use strict";r.d(t,{OverlayScrollWrapper:()=>c});var s=r(50959),o=r(497754),n=r.n(o),i=r(73288),a=r(139043),l=r(567734);function c(e){const{children:t,className:r,wrapperClassName:o,reference:c,hasCustomTouchScrollAnimation:u,scrollContainerRef:p,isForceVisible:d,...h}=e,[m,v,f,g]=(0,a.useOverlayScroll)(p,u);return(0,s.useImperativeHandle)(c,(()=>({updateScrollState:g}))),s.createElement("div",{...h,...v,className:n()(l.container,r)},s.createElement(i.OverlayScrollContainer,{...m,visible:null!=d?d:m.visible,className:l.overlayScrollWrap}),s.createElement("div",{className:n()(l.wrapper,o),ref:f,onScroll:g},t))}},892412:(e,t,r)=>{"use strict";r.d(t,{useDisclosure:()=>s.useDisclosure});var s=r(772069)},737402:(e,t,r)=>{"use strict";r.d(t,{
useSafeMatchMedia:()=>s.useSafeMatchMedia});var s=r(671129)},139043:(e,t,r)=>{"use strict";r.d(t,{useOverlayScroll:()=>l});var s=r(50959),o=r(650151),n=r(522224),i=r(601227);const a={onMouseOver:()=>{},onMouseOut:()=>{}};function l(e,t=i.CheckMobile.any()){const r=(0,s.useRef)(null),l=e||(0,s.useRef)(null),[c,u]=(0,n.useHover)(),[p,d]=(0,s.useState)({reference:r,containerHeight:0,containerWidth:0,contentHeight:0,contentWidth:0,scrollPosTop:0,scrollPosLeft:0,onVerticalChange:function(e){d((t=>({...t,scrollPosTop:e}))),(0,o.ensureNotNull)(l.current).scrollTop=e},onHorizontalChange:function(e){d((t=>({...t,scrollPosLeft:e}))),(0,o.ensureNotNull)(l.current).scrollLeft=e},visible:c}),h=(0,s.useCallback)((()=>{if(!l.current)return;const{clientHeight:e,scrollHeight:t,scrollTop:s,clientWidth:o,scrollWidth:n,scrollLeft:i}=l.current,a=r.current?r.current.offsetTop:0;d((r=>({...r,containerHeight:e-a,contentHeight:t-a,scrollPosTop:s,containerWidth:o,contentWidth:n,scrollPosLeft:i})))}),[]);function m(){d((e=>({...e,scrollPosTop:(0,o.ensureNotNull)(l.current).scrollTop,scrollPosLeft:(0,o.ensureNotNull)(l.current).scrollLeft})))}return(0,s.useEffect)((()=>{c&&h(),d((e=>({...e,visible:c})))}),[c]),(0,s.useEffect)((()=>{const e=l.current;return e&&e.addEventListener("scroll",m),()=>{e&&e.removeEventListener("scroll",m)}}),[l]),[p,t?a:u,l,h]}},327871:(e,t,r)=>{"use strict";r.d(t,{KeyCode:()=>s,makeKeyboardListener:()=>i});var s,o=r(50959);!function(e){e[e.Enter=13]="Enter",e[e.Space=32]="Space",e[e.Backspace=8]="Backspace",e[e.DownArrow=40]="DownArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.LeftArrow=37]="LeftArrow",e[e.Escape=27]="Escape",e[e.Tab=9]="Tab"}(s||(s={}));class n{constructor(){this._handlers=new Map}registerHandlers(e){Object.keys(e).forEach((t=>{const r=parseInt(t);let s=e[r];if(Array.isArray(s)||(s=[s]),this._handlers.has(r)){const e=this._handlers.get(r);e&&s.forEach((t=>e.add(t)))}else this._handlers.set(r,new Set(s))}))}unregisterHandlers(e){Object.keys(e).forEach((t=>{const r=parseInt(t);let s=e[r];if(Array.isArray(s)||(s=[s]),this._handlers.has(r)){const e=this._handlers.get(r);e&&s.forEach((t=>e.delete(t)))}}))}deleteAllHandlers(){this._handlers=new Map}registerHandler(e,t){if(this._handlers.has(e)){const r=this._handlers.get(e);r&&r.add(t)}else this._handlers.set(e,new Set([t]))}unregisterHandler(e,t){if(this._handlers.has(e)){const r=this._handlers.get(e);r&&r.delete(t)}}listen(e){if(this._handlers.has(e.keyCode)){const t=this._handlers.get(e.keyCode);t&&t.forEach((t=>t(e)))}}}function i(e){var t,r,s;return(s=class extends o.PureComponent{constructor(e){super(e),this._keyboardListener=new n,this._listener=this._keyboardListener.listen.bind(this._keyboardListener)}componentDidMount(){this._registerHandlers(this.props.keyboardEventHandlers)}componentDidUpdate(e){e.keyboardEventHandlers!==this.props.keyboardEventHandlers&&this._registerHandlers(this.props.keyboardEventHandlers)}render(){const{keyboardEventHandlers:t,...r}=this.props;return o.createElement(e,{...r,onKeyDown:this._listener})}
_registerHandlers(e){e&&(this._keyboardListener.deleteAllHandlers(),this._keyboardListener.registerHandlers(e))}}).displayName=`KeyboardListener(${null!==(r=null!==(t=e.displayName)&&void 0!==t?t:e.name)&&void 0!==r?r:"Component"})`,s}},496876:(e,t,r)=>{"use strict";r.r(t),r.d(t,{closeOrderDialog:()=>er,mountOrderPanel:()=>rr,showOrderDialog:()=>Jt,showOrderDrawer:()=>tr,unmountOrderPanel:()=>sr});var s,o=r(50959),n=r(632227),i=r(497754),a=r.n(i),l=r(870122),c=r(586639),u=r(601227),p=r(171529),d=r(273388),h=r(650151),m=r(662941),v=r(661851),f=r(180185),g=r(609838),b=r(440891),C=r(937778),y=r(148296),E=r(363111);!function(e){e.XSmall="xsmall",e.Small="small",e.Medium="medium",e.Large="large",e.XLarge="xlarge"}(s||(s={}));var _=r(792049),S=r.n(_);function w(e){const{size:t=s.Medium,className:r,isPaidBadge:o}=e;return a()(S().badge,!o&&S().free,t&&S()[`size-${t}`],r)}function k(e){const{children:t,contentClassName:r}=e;return o.createElement("span",{className:a()(S().content,r)},t)}function P(e){const{size:t=s.Medium,children:r,className:n,contentClassName:i,...a}=e;return o.createElement("span",{...a,className:w({size:t,className:n})},o.createElement(k,{contentClassName:i},r))}var O=r(599016),M=r(766015);function N(e){return e===O.RestrictionType.HardToBorrow?M.hardToBorrow:e===O.RestrictionType.Halted?M.halted:null}function I(e){return o.createElement("div",{className:M.restrictions},e.restrictionTypes.map(((e,t)=>o.createElement(P,{key:t,size:s.XSmall,className:a()(M.restriction,N(e))},e))))}var B=r(5700);const D=g.t(null,void 0,r(168222)),x=g.t(null,void 0,r(169961)),T=g.t(null,void 0,r(883629));class F extends o.PureComponent{constructor(e){super(e),this._isLongValue=!1,this._maxDigitsNumber=7,this._createClickHandler=e=>()=>this.props.onSideChanged(e),this._isLongValue=Boolean(this.props.quotes.spread&&this.props.quotes.spread.toString().length>this._maxDigitsNumber||this.props.quotes.ask&&this.props.quotes.ask.toString().length>this._maxDigitsNumber)}render(){const e=i(B.sideControl,[E.OrderPanelStatus.Editing,E.OrderPanelStatus.Preview].includes(this.props.status)&&B.disable),t=i(B.section,B.sell,this.props.status!==E.OrderPanelStatus.Wait&&-1===this.props.side&&B.active),r=i(B.section,B.buy,this.props.status!==E.OrderPanelStatus.Wait&&1===this.props.side&&B.active),s=this.props.quotes.bid?o.createElement("div",null,this.props.quotes.bid):o.createElement("div",{className:B.valueNoData},T),n=this.props.quotes.ask?o.createElement("div",null,this.props.quotes.ask):o.createElement("div",{className:B.valueNoData},T);return o.createElement(o.Fragment,null,0!==this.props.restrictionTypes.length&&o.createElement("div",{className:i(B.restrictions,B.smallPaddings)},o.createElement(I,{restrictionTypes:this.props.restrictionTypes})),o.createElement("div",{className:e},o.createElement("div",{className:t,onClick:this._createClickHandler(-1),tabIndex:-1,"data-name":"side-control-sell"},o.createElement("div",{className:B.title},o.createElement("span",{className:this.props.currencyForCrypto&&B.typeSide
},D),this.props.currencyForCrypto&&o.createElement("span",null,this.props.currencyForCrypto)),o.createElement("div",{className:B.value},s)),o.createElement("div",{className:r,onClick:this._createClickHandler(1),tabIndex:-1,"data-name":"side-control-buy"},o.createElement("div",{className:B.title},o.createElement("span",{className:this.props.currencyForCrypto&&B.typeSide},x),this.props.currencyForCrypto&&o.createElement("span",{className:B.typeSide},this.props.currencyForCrypto)),o.createElement("div",{className:B.value},n)),this.props.quotes.spread&&o.createElement("div",{className:i(B.spread,this._isLongValue&&B.isLongValue),"data-name":"side-control-spread"},this.props.quotes.spread)))}}var H=r(763281);function L(e){const{model:t,disabled:r}=e,{orderPanelStatus:s}=(0,o.useContext)(H.WidgetContext),n=(0,v.useObservable)(t.value$,t.getValue()),i=(0,v.useObservable)(t.formattedQuotes$,t.getFormattedQuotes()),a=(0,v.useObservable)(t.restrictionTypes$,t.getRestrictionTypes());return o.createElement(F,{quotes:i,side:n,status:s,restrictionTypes:a,currencyForCrypto:t.baseCurrency,onSideChanged:e=>{r||(t.setValue(e),t.onControlFocused.fire())}})}var W=r(918460),R=r(805184),V=r(564245),z=r(975228),A=r(109955);function K(e){const{scrollContainerRef:t,...r}=e,s=(0,z.useAccurateHover)(t);return o.createElement(A.OverlayScrollWrapper,{...r,scrollContainerRef:t,isForceVisible:s})}var Z=r(36456);const $={cancel:g.t(null,void 0,r(904543)),sendOrder:g.t(null,void 0,r(224602))};function q(e){if(!Array.isArray(e))return o.createElement("div",{key:e},e);const t=[];for(const r of e)"string"!=typeof r?void 0!==r.url&&t.push(o.createElement("a",{key:r.url,href:r.url,target:"_blank"},r.text)):t.push(r);const r=t.map((e=>"string"==typeof e?e:e.key)).join("");return o.createElement("div",{key:r},t)}function G(e){const{model:t,side:r,isMobile:s,loading$:n,shouldShowActionButton:i,...a}=e,l=(0,o.useRef)(null),c=(0,o.useRef)(null),u=(0,v.useObservable)(n,!1);(0,o.useEffect)((()=>{var e;return null===(e=l.current)||void 0===e?void 0:e.focus()}),[u]);const p=0!==t.errors.length;return o.createElement(o.Fragment,null,s?o.createElement(U,{...a,ref:c,model:t,hasErrors:p}):o.createElement(K,{className:Z.scrollWrapper,scrollContainerRef:c},o.createElement(U,{...a,ref:c,model:t,hasErrors:p})),i&&o.createElement("div",{className:Z.controls},o.createElement(R.Button,{useFullWidth:!0,size:"l",intent:-1===r?"danger":"primary",onClick:t.onPlaceClick,reference:l,disabled:p||u},$.sendOrder),o.createElement(R.Button,{useFullWidth:!0,size:"l",intent:"default",appearance:"stroke",onClick:t.onCancelClick},$.cancel)))}const U=(0,o.forwardRef)(((e,t)=>{const{model:r,hasErrors:s,isPopupMode:n,requestResize:i}=e,a=(0,v.useObservable)(r.infoTableQuotesData$,{rows:[]}),l=r.infoTableCustomData(),c=r.infoTableOrderData();return(0,o.useEffect)((()=>{n&&(null==i||i())}),[n,a.rows.length]),o.createElement("div",{className:Z.content,ref:t},s&&o.createElement(W.Informer,{className:Z.informer,informerIntent:"danger",content:r.errors.map(q)
}),0!==r.warnings.length&&o.createElement(W.Informer,{className:Z.informer,informerIntent:"warning",content:r.warnings.map(q)}),o.createElement(V.InfoTable,{rows:a.rows,header:a.header}),o.createElement("div",{className:Z.separator}),o.createElement(V.InfoTable,{rows:c.rows,header:c.header}),0!==l.length&&o.createElement(o.Fragment,null,o.createElement("div",{className:Z.separator}),l.map(((e,t)=>o.createElement(V.InfoTable,{key:`custom-${t}`,rows:e.rows,header:e.header})))))}));var Q=r(254226),j=r(156855);const X=g.t(null,void 0,r(490138)),Y=g.t(null,void 0,r(790258)),J=g.t(null,void 0,r(898251)),ee=g.t(null,void 0,r(978369));var te;!function(e){e.Market="Market",e.Limit="Limit",e.Stop="Stop",e.StopLimit="StopLimit"}(te||(te={}));const re={Market:2,Limit:1,Stop:3,StopLimit:4};function se(e){const{orderType:t,setOrderType:r,disabled:s,supportMarketOrders:n,supportLimitOrders:i,supportStopOrders:a,supportStopLimitOrders:l}=e,c=(0,o.useMemo)((()=>function(e){const{supportMarketOrders:t,supportLimitOrders:r,supportStopOrders:s,supportStopLimitOrders:o}=e,n=[];return t&&n.push({id:"Market",label:X}),r&&n.push({id:"Limit",label:Y}),s&&n.push({id:"Stop",label:J}),o&&n.push({id:"StopLimit",label:ee}),n}({supportMarketOrders:n,supportLimitOrders:i,supportStopOrders:a,supportStopLimitOrders:l})),[n,i,a,l]),u=(0,o.useCallback)((e=>re[e.id]===t),[t]);return o.createElement("div",{className:j.tabsContainer,tabIndex:-1},o.createElement(Q.UnderlineButtonTabs,{id:"order-type-tabs",items:c,isActive:u,onActivate:e=>r(re[e.id]),size:"xsmall",disabled:s,overflowBehaviour:"none",stretchTabs:!0,equalTabSize:!0}))}var oe=r(788865),ne=r(380327),ie=r(587125),ae=r(72571),le=r(162458),ce=r(738036),ue=r(129018),pe=r(972535),de=r(914987),he=r(950506);class me extends o.PureComponent{constructor(e){super(e),this._control=null,this._input=null,this._calc=null,this._getCurrentValue=()=>this.props.value||0,this._getDropdownPosition=()=>(0,le.getPopupPositioner)(this._control,{horizontalAttachEdge:le.HorizontalAttachEdge.Right,horizontalDropDirection:le.HorizontalDropDirection.FromRightToLeft}),this._handleCalculatorFocus=()=>{pe.mobiletouch||null===this._input||this._input.focus()},this._setRef=e=>{this._control=e},this._setCalcRef=e=>{this._calc=e},this._setInputRef=e=>{this._input=e},this._onKeyDown=e=>{!this.state.isOpened||13!==e.keyCode&&27!==e.keyCode||(e.stopPropagation(),this.setState({isOpened:!1})),Object.values(E.CalculatorDecKeyCodes).includes(e.keyCode)||Object.values(E.CalculatorIncKeyCodes).includes(e.keyCode)||this.setState({isOpened:!1}),this.props.onKeyDown&&this.props.onKeyDown(e)},this._onClickOutside=e=>{this._calc&&!this._calc.contains(e.target)&&this.setState({isOpened:!1})},this._updateValue=e=>{this.props.onValueChange(e)},this._toggle=()=>{this.setState((e=>({isOpened:!e.isOpened})))},this._setInputFocus=e=>{null!==e&&(e.focus(),e.setSelectionRange(e.value.length,e.value.length))},this.state={isOpened:!1}}componentDidMount(){5===this.props.focus&&this._setInputFocus(this._input)}render(){
const{min:e,max:t,step:r,uiStep:s,errorHandler:n,...a}=this.props,l=o.createElement(ae.Icon,{icon:de,className:i(he.calculatorIcon,this.state.isOpened&&he.isOpened),onClick:this._toggle});return o.createElement(ce.OutsideEvent,{click:!0,mouseDown:!0,touchStart:!0,handler:this._onClickOutside},(i=>o.createElement("span",{ref:i},o.createElement(ie.NumberInput,{...a,value:this.props.value||0,alwaysUpdateValueFromProps:!0,shouldApplyValueOnBlur:!1,containerReference:this._setRef,inputReference:this._setInputRef,button:l,onValueChange:this._updateValue,onKeyDown:this._onKeyDown,errorHandler:n,min:e,max:t,step:r,uiStep:s,controlDecKeyCodes:this.state.isOpened?[E.CalculatorDecKeyCodes.Minus,E.CalculatorDecKeyCodes.NumMinus,E.CalculatorDecKeyCodes.FirefoxMinus]:void 0,controlIncKeyCodes:this.state.isOpened?[E.CalculatorIncKeyCodes.Plus,E.CalculatorIncKeyCodes.NumPlus,E.CalculatorIncKeyCodes.FirefoxPlus]:void 0}),this.state.isOpened&&o.createElement(ue.QuantityCalculator,{...a,min:e,max:t,step:r,uiStep:s,valueGetter:this._getCurrentValue,position:this._getDropdownPosition(),targetEl:this._control,calcReference:this._setCalcRef,onClose:this._toggle,onFocus:this._handleCalculatorFocus,errorHandler:n,trackEventTarget:"Order Ticket"}))))}}function ve(e){const{control:t,focus:r,min:s,max:n,step:a,uiStep:l,type:c,error:u,errorMessage:p,errorHandler:d,label:h,className:m,status:f,trackEvent:g,highlight:b,highlightRemoveRoundBorder:C,intent:y,fontSizeStyle:_}=e,S=(0,v.useObservable)(t.value$,t.getValue()),w=()=>{e.onFocus&&e.onFocus(c)},k={value:S||0,step:a,uiStep:l,className:i(he.input,f===E.OrderPanelStatus.Wait&&he.wait),error:u,errorMessage:p,errorHandler:d,onFocus:w,useFormatter:!1,onValueChange:e=>{w(),t.setValue(e),t.onModifiedCallback()},calculatorUsedStat:()=>t.calculatorUsedStat(),highlight:b,highlightRemoveRoundBorder:C,intent:y,fontSizeStyle:_},P=n||9e15,O=0===c?o.createElement(me,{...k,focus:r,min:void 0===s?a:s,max:P,trackEvent:g}):o.createElement(ie.NumberInput,{...k,step:.01,min:s,max:P});return o.createElement("div",{className:i(m,he.control)},o.createElement("div",{className:he.label}," ",h," "),O)}const fe=g.t(null,void 0,r(663886)),ge=g.t(null,void 0,r(715432)),be=g.t(null,void 0,r(833526));class Ce extends o.PureComponent{constructor(e){super(e),this._subscriptions=[],this._onFocus=e=>{e!==this.props.model.getFocusedControl()&&this.props.model.setFocusedControl(e),this.props.model.onControlFocused.fire()},this._errorHandler=e=>{this.props.model.setControlError(e)},this._callback=()=>this.forceUpdate()}componentDidMount(){this._subscribeToModel(this.props.model)}componentWillUnmount(){this._unsubscribeFromModel()}render(){var e;const t=this.context,{model:r,symbolHasLotSize:s,status:n,trackEvent:a,focus:l}=this.props,c=r.getError(),u={errorHandler:this._errorHandler,error:c,status:n,onFocus:this._onFocus,trackEvent:a,fontSizeStyle:"medium"},p=Boolean(c&&c.res),d=c&&c.msg,h=r.showRiskControlsAndInfo&&r.stopLossAvailable()&&(t.showPercentRiskInQty||t.showCurrencyRiskInQty)
;return o.createElement(o.Fragment,null,o.createElement(ne.ControlGroupContext.Provider,{value:this._getGroupContextValue(!0,!h)},o.createElement(ve,{...u,...this._generateHighlightProps(0),control:r.quantity,max:r.qty.max,min:r.qty.min,step:r.qty.step,uiStep:r.qty.uiStep,type:0,label:null!==(e=r.units)&&void 0!==e?e:s?be:ge,className:i(!h&&he.single,he.units),focus:l,error:p&&this._isSelectedControl(0),errorMessage:d})),h&&o.createElement("div",{className:he.risk},r.riskInCurrency&&t.showCurrencyRiskInQty&&o.createElement(ne.ControlGroupContext.Provider,{value:this._getGroupContextValue(!1,!t.showPercentRiskInQty)},o.createElement(ve,{...u,...this._generateHighlightProps(1),control:r.riskInCurrency,step:r.riskStep,type:1,label:r.currency+" "+fe,error:p&&this._isSelectedControl(1),errorMessage:d})),r.riskInPercent&&t.showPercentRiskInQty&&o.createElement(ne.ControlGroupContext.Provider,{value:this._getGroupContextValue(!1,!0)},o.createElement(ve,{...u,...this._generateHighlightProps(2),control:r.riskInPercent,step:r.riskStep,type:2,label:"% "+fe,error:p&&this._isSelectedControl(2),errorMessage:d}))))}_generateHighlightProps(e){const t=this.props.model.getError(),r=this.props.model.stopLossAvailable()?this._isSelectedControl(e):void 0;return{highlight:(this.context.showCurrencyRiskInQty||this.context.showPercentRiskInQty)&&(0===e?r:this._isSelectedControl(e)),intent:Boolean(t&&t.res)&&this._isSelectedControl(e)?"danger":void 0}}_isSelectedControl(e){return this.props.status!==E.OrderPanelStatus.Wait&&this.props.model.getFocusedControl()===e}_subscribeToModel(e){this._subscriptions=[e.focusedControl$.subscribe(this._callback),e.stopLossAvailable$.subscribe(this._callback),e.error$.subscribe(this._callback)]}_unsubscribeFromModel(){this._subscriptions.forEach((e=>e.unsubscribe()))}_getGroupContextValue(e,t){return{isGrouped:!0,disablePositionAdjustment:!0,cellState:{isTop:!0,isRight:t,isBottom:!0,isLeft:e}}}}Ce.contextType=H.SettingsContext;var ye=r(493455),Ee=r(960521),_e=r(624216),Se=r(192063),we=r(364228),ke=r(885620);const Pe=[1,5,10,25,50,75,100];function Oe(e){const{control:t,controlType:r,error:s,side:n,focusedControl:a,setFocusedControl:l}=e,c=(0,o.useRef)(null),u=(0,o.useRef)(null),p=(0,v.useObservable)(t.value$,t.getValue()),d=(0,v.useObservable)(e.balanceValue$,null),[m,g]=(0,o.useState)(!1),[b,C]=(0,o.useState)(0),y=Boolean(s&&s.res),_=s&&s.msg;return(0,o.useEffect)((()=>{var t;5===e.initialFocus&&null!==(t=u.current)&&(t.focus(),t.setSelectionRange(t.value.length,t.value.length))}),[]),o.createElement(o.Fragment,null,o.createElement(ie.NumberInput,{...function(e){const t={};k(e)&&(t.highlight=!0);Boolean(s&&s.res)&&k(e)&&(t.intent="danger");return t}(r),value:p,onBlur:e.forceRoundByStep?function(){if(null!==p&&void 0!==e.step){const t=new Ee.Big(p),r=t.mod(e.step);if(!r.eq(0)){S(t.minus(r).toNumber())}}}:void 0,onValueChange:S,min:e.min,step:e.step,useFormatter:!1,errorMessage:_,errorHandler:e.setControlError,error:y&&k(r),inputReference:function(e){u.current=e},innerLabel:m?void 0:o.createElement("span",{
className:ke.label},e.label),onFocus:()=>(l(r),void e.onControlFocused.fire()),className:i(ke.input,e.status===E.OrderPanelStatus.Wait&&ke.wait),button:w()?o.createElement(we.CaretButton,{isDropped:m,onClick:function(){g(!m)}}):o.createElement(o.Fragment,null),containerReference:function(e){c.current=e},alwaysUpdateValueFromProps:e.forceRoundByStep,fontSizeStyle:e.fontSizeStyle}),w()&&null!==d&&o.createElement(_e.PopupMenu,{position:function(){const e=(0,h.ensureNotNull)(c.current).getBoundingClientRect();return C(e.width),{x:e.left,y:e.top+e.height+1}},onClose:P,isOpened:m,doNotCloseOn:c.current,onKeyDown:function(e){if(27===(0,f.hashFromEvent)(e))m&&(e.preventDefault(),P())},minWidth:b},Pe.map((r=>{const s=function(e){return(0,Ee.Big)((0,h.ensureNotNull)(d)).mul(.01).mul(e).toNumber()}(r),n=o.createElement(o.Fragment,null,r+"%  ",o.createElement("span",{className:ke.value},"("+e.formatter.format(s)+" "+e.label+")"));return o.createElement(Se.PopupMenuItem,{key:r.toString(),className:ke.popupMenuItem,label:n,onClick:()=>t.setValue(s)})}))));function S(r){t.setValue(r),e.onModifiedCallback()}function w(){return null!==d&&d>0&&(-1===n?3===r:4===r)}function k(t){return e.status!==E.OrderPanelStatus.Wait&&a===t}function P(){g(!1),(0,h.ensureNotNull)(c.current).focus()}}function Me(e){const{model:t,className:s,status:n}=e,a=(0,v.useObservable)(t.quoteCurrencyUiParams$),l=(0,v.useObservable)(t.error$,t.getError()),c=(0,v.useObservable)(t.focusedControl$,t.getFocusedControl()),u={side:(0,v.useObservable)(t.side$,t.getSide()),status:n,formatter:t.formatter,error:l,focusedControl:c,setFocusedControl:t.setFocusedControl,onControlFocused:t.onControlFocused,setControlError:t.setControlError,fontSizeStyle:"medium"};return o.createElement(o.Fragment,null,o.createElement("div",{className:ke.title},g.t(null,void 0,r(715432))),o.createElement(ye.ControlGroup,{cols:1,rows:2,className:i(s,ke.wrapper)},o.createElement(Oe,{...u,control:t.quantity,onModifiedCallback:t.quantity.onModifiedCallback,label:t.info.baseCurrency,controlType:3,balanceValue$:t.baseCurrencyCryptoBalanceValue$,initialFocus:e.focus,forceRoundByStep:!0,step:t.info.qty.step,min:t.info.qty.min}),o.createElement(Oe,{...u,control:t.quoteCurrencyQuantity,onModifiedCallback:t.quoteCurrencyQuantity.onModifiedCallback,label:t.info.quoteCurrency,controlType:4,balanceValue$:t.quoteCurrencyCryptoBalanceValue$,step:null==a?void 0:a.step,min:null==a?void 0:a.min})))}var Ne,Ie=r(391431),Be=r(327871),De=r(101614),xe=r(441518);function Te(e){const t=i(xe.priceLabel,xe[e.modifier.toLowerCase()]);return o.createElement("span",{className:i(t)},e.modifier)}!function(e){e.Ask="Ask",e.Bid="Bid",e.Last="Last"}(Ne||(Ne={}));var Fe=r(793663);function He(e){const t=e.price===e.ask,r=e.price===e.bid,s=e.price===e.last,n=(t||r)&&e.ask===e.bid;let i,a;return e.displayPriceLabel&&(n&&1===e.side?i=o.createElement(Te,{modifier:"Ask"}):n&&-1===e.side?i=o.createElement(Te,{modifier:"Bid"}):t?i=o.createElement(Te,{modifier:"Ask"}):r&&(i=o.createElement(Te,{modifier:"Bid"})),a=o.createElement("div",{
className:Fe.labelsGroup},i,s&&o.createElement(Te,{modifier:"Last"}))),o.createElement("div",{className:Fe.absolutePriceDropdownItem},o.createElement("div",{className:Fe.price},e.price),a)}var Le,We=r(794087),Re=r(958198);function Ve(e,t){return e.findIndex((e=>e.priceIndex===t))}function ze(e,t,r){const s=function(){0;return"phone"!==Re.mediaState.device&&"phone-vertical"!==Re.mediaState.device?6:4}(),o=[Ae(e,t,r)];for(let n=1;n<=s;n++)o.push(Ae(e-n,t,r)),o.unshift(Ae(e+n,t,r));return o}function Ae(e,t,r){return{priceIndex:e,displayPrice:t.format(r(e))}}!function(e){e[e.Up=1]="Up",e[e.Down=-1]="Down"}(Le||(Le={}));var Ke=r(159579);const Ze=(0,Be.makeKeyboardListener)(We.InputWithError);class $e extends o.PureComponent{constructor(e){super(e),this._priceControl=null,this._priceInput=null,this._dropdown=null,this._setDropdownRef=e=>{this._dropdown=e},this._setInitialFocus=()=>{!pe.mobiletouch&&this._priceInput&&(1===this.props.priceType&&1===this.props.focus||2===this.props.priceType&&2===this.props.focus)&&(this._priceInput.setSelectionRange(this.props.displayPrice.length,this.props.displayPrice.length),this._priceInput.focus())},this._onCaretButtonFocus=()=>{var e;null===(e=this._priceInput)||void 0===e||e.focus()},this._onFocus=e=>{this.props.onControlFocused&&this.props.onControlFocused(0)},this._onOutsideClick=e=>{if(document.activeElement===this._priceInput&&this.props.status!==E.OrderPanelStatus.Wait&&!this.props.error){const e=this.props.priceFormatter.parse(this.props.displayPrice);if(e.res){const t=this.props.priceFormatter.format(e.value>=0?e.value:Math.abs(e.value));this._onPriceSelected(t)}}this.state.isOpened&&this._dropdown&&!this._dropdown.contains(e.target)&&this._closeDropdown()},this._onInputChange=e=>{const t=e.target.value;this._onModifiedCallback(),this._onPriceSelected(t)},this._onTouchStart=e=>{this._swipeState.y=e.touches[0].clientY},this._onTouchMove=e=>{var t;if(e.changedTouches&&e.changedTouches.length&&null!==this._swipeState.y){const r=e.changedTouches[0].clientY-this._swipeState.y,s=null!==(t=this._swipeState.prevDiff)&&void 0!==t?t:0;if(Math.abs(r-s)<10)return;this._swipeState.direction=r>s?"up":"down",this._swipeState.prevDiff=r,"up"===this._swipeState.direction?this._prependPriceOnDropdown():"down"===this._swipeState.direction&&this._appendPriceOnDropdown()}},this._onTouchEnd=e=>{this._resetSwipeState()},this._onDropdownWheelNoPassive=e=>{e.preventDefault(),e.stopPropagation(),e.deltaY<0?this._prependPriceOnDropdown():this._appendPriceOnDropdown()},this._onInputMouseWheel=e=>{e.preventDefault(),e.stopPropagation(),this.props.isSelected&&(this._onModifiedCallback(),e.deltaY<0?this._changeValueByStep(1):this._changeValueByStep(-1))},this._onSelect=(e,t)=>{this.setState({selected:e},(()=>{this._onModifiedCallback(),this._closeDropdown(),this._onPriceSelected(t.displayPrice)}))},this._onNavigate=()=>{const e=this.state.command&&"prev"===this.state.command.name,t=this.state.command&&"next"===this.state.command.name;e?this._changeValueByStep(1):t&&this._changeValueByStep(-1)},
this._onMouseOver=()=>{this.setState({mouseOver:!0})},this._onMouseOut=()=>{this.setState({mouseOver:!1})},this._onCaretButtonClick=e=>{var t;e.stopPropagation(),this.state.isOpened?this._closeDropdown():(this._openDropdown(),pe.mobiletouch||null===(t=this._priceInput)||void 0===t||t.setSelectionRange(this.props.displayPrice.length,this.props.displayPrice.length))},this._setPriceInput=e=>{this._priceInput=e},this._setPriceControl=e=>{this._priceControl=e},this._scrollPriceByArrow=e=>{e.preventDefault(),this._onModifiedCallback();const t=e.keyCode===Be.KeyCode.UpArrow?1:-1;this._changeValueByStep(t)},this._selectPrev=e=>{e.preventDefault(),this._onModifiedCallback(),this.setState({command:{name:"prev"}})},this._selectNext=e=>{e.preventDefault(),this._onModifiedCallback(),this.setState({command:{name:"next"}})},this._openDropdown=()=>{this.setState({isOpened:!0,keyboardEventHandlers:this._getKeyboardEventHandlers("open")})},this._closeDropdownWithStopPropagation=e=>{e&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()),this._closeDropdown()},this._closeDropdown=()=>{const e=ze(this.props.priceIndex,this.props.priceFormatter,this.props.indexToPrice);this.setState({isOpened:!1,keyboardEventHandlers:this._getKeyboardEventHandlers("close"),priceList:e,selected:Ve(e,this.props.priceIndex)})};const t=ze(e.priceIndex,e.priceFormatter,e.indexToPrice);this.state={priceList:t,selected:Ve(t,e.priceIndex),isOpened:!1,mouseOver:!1,keyboardEventHandlers:this._getKeyboardEventHandlers("close")},this._resetSwipeState()}componentDidMount(){this._setInitialFocus()}render(){const e=i(Ke.absolutePriceControl,this.props.className),t=o.createElement("span",{className:Ke.priceLabel},this.props.priceLabel),r=o.createElement(we.CaretButton,{isDropped:this.state.isOpened,onFocus:this._onCaretButtonFocus,onClick:this._onCaretButtonClick});return o.createElement(ce.OutsideEvent,{mouseDown:!0,touchStart:!0,handler:this._onOutsideClick},(s=>o.createElement("span",{className:e,ref:s},t,o.createElement(Ze,{className:i(Ke.input,this.props.status===E.OrderPanelStatus.Wait&&Ke.wait),containerReference:this._setPriceControl,inputReference:this._setPriceInput,keyboardEventHandlers:this.state.keyboardEventHandlers,value:this.props.displayPrice,warning:this.props.warning,error:this.props.error,errorMessage:this.props.errorMessage,onChange:this._onInputChange,onFocus:this._onFocus,onBlur:this.props.onBlur,onMouseOver:this._onMouseOver,onMouseOut:this._onMouseOut,onWheelNoPassive:this._onInputMouseWheel,highlight:this.props.highlight,highlightRemoveRoundBorder:this.props.highlightRemoveRoundBorder,fontSizeStyle:this.props.fontSizeStyle,button:r,intent:this.props.intent}),o.createElement(De.DropdownList,{anchor:"bottom",root:"document",reference:this._setDropdownRef,className:Ke.list,command:this.state.command,isOpened:this.state.isOpened,items:this._makeListItems(),itemsClassName:Ke.item,width:this._getDropdownWidth(),selected:this.state.selected,selectedClassName:Ke.selected,target:null!==this._priceControl?this._priceControl:void 0,
attachmentOffsetY:3,inheritWidthFromTarget:!1,shouldScrollIfNotVisible:!1,onSelect:this._onSelect,onNavigate:this._onNavigate,onDropdownTouchStart:this._onTouchStart,onDropdownTouchMove:this._onTouchMove,onDropdownTouchEnd:this._onTouchEnd,onDropdownWheelNoPassive:this._onDropdownWheelNoPassive}))))}componentDidUpdate(e,t){if(this.props.priceIndex===e.priceIndex)return;const r=ze(this.props.priceIndex,this.props.priceFormatter,this.props.indexToPrice);this.setState({priceList:r,selected:Ve(r,this.props.priceIndex)})}_onPriceSelected(e){const t=this.props.priceFormatter.parse(e);t.res?this.props.errorHandler(!1):this.props.errorHandler(!0,t.error),this.props.onPriceSelected(e)}_resetSwipeState(){this._swipeState={direction:null,y:null,prevDiff:null}}_getKeyboardEventHandlers(e){return"close"===e?{[Be.KeyCode.UpArrow]:this._scrollPriceByArrow,[Be.KeyCode.DownArrow]:this._scrollPriceByArrow}:{[Be.KeyCode.Enter]:this._closeDropdownWithStopPropagation,[Be.KeyCode.Escape]:this._closeDropdownWithStopPropagation,[Be.KeyCode.UpArrow]:this._selectPrev,[Be.KeyCode.DownArrow]:this._selectNext}}_makeListItems(){return this.state.priceList.map((e=>({...e,elem:o.createElement(He,{price:e.displayPrice,ask:this.props.priceFormatter.format(this.props.ask),bid:this.props.priceFormatter.format(this.props.bid),last:this.props.priceFormatter.format(this.props.last),side:this.props.side,displayPriceLabel:!0})})))}_prependPriceOnDropdown(){const e=[Ae(this.state.priceList[0].priceIndex+1,this.props.priceFormatter,this.props.indexToPrice)].concat(this.state.priceList.slice(0,-1));this.setState({priceList:e,selected:Ve(e,this.props.priceIndex)})}_appendPriceOnDropdown(){const e=this.state.priceList.length-1,t=Ae(this.state.priceList[e].priceIndex-1,this.props.priceFormatter,this.props.indexToPrice),r=this.state.priceList.slice(1).concat(t);this.setState({priceList:r,selected:Ve(r,this.props.priceIndex)})}_changeValueByStep(e){const t=this.props.priceIndex+e,r=this.props.indexToPrice(t);this._onPriceSelected((0,Ie.formatValue)(r,this.props.priceFormatter))}_getDropdownWidth(){if(this.state.isOpened&&null!==this._priceControl&&(this.context.mode===E.OrderEditorDisplayMode.Popup||this.state.priceList[0].displayPrice.length<=7)){return parseFloat(window.getComputedStyle(this._priceControl,null).getPropertyValue("width"))+2}}_onModifiedCallback(){this.props.onModifiedCallback&&this.props.onModifiedCallback()}}$e.contextType=H.WidgetContext,$e.defaultProps={className:"",inputClassName:""};var qe,Ge=r(743003);function Ue(e,t){return e.findIndex((e=>e.displayValue===t))}!function(e){e[e.Up=1]="Up",e[e.Down=-1]="Down"}(qe||(qe={}));const Qe=/^[-+]?[0-9]*\.?[0-9]+$/;function je(e,t){const r=(0,Ge.capitalizeFirstLetter)(e);return t>0?`${r} + ${Math.abs(t)}`:t<0?`${r} - ${Math.abs(t)}`:`${r}`}function Xe(e){return String(e)}function Ye(e,t){const r=e.offset;return s=e.base,o=function(e,t){return(Math.abs(e)>=1?e:0)+(1===t?1:-1)}(r,t),{displayValue:je(s,o),base:s,offset:o};var s,o}function Je(e,t,r){const s=[],o=[],n={displayValue:je(t,e),base:t,offset:e}
;for(let e=0;e<r;e++)s.unshift(Ye(0===e?n:s[0],1)),o.push(Ye(0===e?n:o[e-1],-1));return[...s,n,...o]}function et(){return"phone"!==Re.mediaState.device&&"phone-vertical"!==Re.mediaState.device?6:4}var tt=r(767599);function rt(e){return o.createElement("div",{className:tt.relativePriceDropdownItem},o.createElement("div",{className:tt.price},e.price))}var st=r(733343);const ot=(0,Be.makeKeyboardListener)(We.InputWithError),nt=g.t(null,{context:"price"},r(820163)),it=g.t(null,void 0,r(366123));class at extends o.PureComponent{constructor(e){super(e),this._priceInput=null,this._priceControl=null,this._dropdown=null,this._setDropdownRef=e=>{this._dropdown=e},this._onMouseOver=e=>{this.setState({mouseOver:!0})},this._onMouseOut=()=>{this.setState({mouseOver:!1})},this._onOutsideClick=e=>{var t;this.state.isOpened&&this._dropdown&&!this._dropdown.contains(e.target)&&(this._closeDropdown(),null===(t=this._priceInput)||void 0===t||t.blur())},this._onCaretButtonFocus=()=>{var e;null===(e=this._priceInput)||void 0===e||e.focus()},this._onFocus=()=>{this.setState({isEditing:!0,displayValue:this.state.displayValue===je(this.props.base,this.props.offset)?Xe(this.props.offset):this.state.displayValue},(()=>{var e,t;pe.mobiletouch||null===this._priceInput||(e=this._priceInput,t=this.state.displayValue.length,e.setSelectionRange&&(e.focus(),e.setSelectionRange(0,t),e.select()))})),this.props.onControlFocused&&this.props.onControlFocused(1)},this._onBlur=()=>{this.props.error||this.setState({isEditing:!1,displayValue:je(this.props.base,this.props.offset)},(()=>{this._trackExitEditingModeEvent(this.props.offset)}))},this._onInputChange=e=>{this._onModifiedCallback();const t=e.currentTarget.value;var r;r=t,Qe.test(r)?this.setState({displayValue:t},(()=>{this._onPriceOffsetSelected(Number(t))})):(this.setState({displayValue:t}),this.props.errorHandler(!0,it))},this._onTouchStart=e=>{this._swipeState.y=e.touches[0].clientY},this._onTouchMove=e=>{var t;if(e.changedTouches&&e.changedTouches.length&&null!==this._swipeState.y){const r=e.changedTouches[0].clientY-this._swipeState.y,s=null!==(t=this._swipeState.prevDiff)&&void 0!==t?t:0;if(Math.abs(r-s)<10)return;this._swipeState.direction=r>s?"up":"down",this._swipeState.prevDiff=r,"up"===this._swipeState.direction?this._prependPriceOnTouchMove():"down"===this._swipeState.direction&&this._appendPriceOnTouchMove()}},this._onTouchEnd=e=>{this._resetSwipeState()},this._onDropdownWheelNoPassive=e=>{e.preventDefault(),e.stopPropagation(),e.deltaY<0?this._prependPriceOnWheel():this._appendPriceOnWheel()},this._onInputMouseWheel=e=>{e.preventDefault(),e.stopPropagation(),this.props.isSelected&&(this._onModifiedCallback(),e.deltaY<0?this._changeValueByStep(1):this._changeValueByStep(-1))},this._onSelect=(e,t)=>{this.setState({displayValue:t.text,selected:e},(()=>{this._onModifiedCallback(),this._closeDropdown(),this._onPriceOffsetSelected()}))},this._onNavigate=(e,t)=>{const r=this.state.command&&"prev"===this.state.command.name,s=this.state.command&&"next"===this.state.command.name
;r?this._changeValueByStep(1):s&&this._changeValueByStep(-1)},this._onCaretButtonClick=e=>{e.preventDefault(),e.stopPropagation(),this.state.isOpened?this._closeDropdown():(this._openDropdown(),!pe.mobiletouch&&this._priceInput&&this._priceInput.setSelectionRange(this.state.displayValue.length,this.state.displayValue.length))},this._switchEditingMode=e=>{var t;e.preventDefault();const r=Number(this.state.displayValue);if(Number.isInteger(r)||this.props.error)null===(t=this._priceInput)||void 0===t||t.blur();else{const e=Math.round(r),t=Je(e,this.props.base,et()),s=Ue(t,je(this.props.base,e));this.setState({displayValue:String(e),prices:t,selected:s,isEditing:!1},(()=>{var e;this._onPriceOffsetSelected(),null===(e=this._priceInput)||void 0===e||e.blur()}))}},this._setPriceInput=e=>{this._priceInput=e},this._setPriceControl=e=>{this._priceControl=e},this._scrollPriceByArrow=e=>{e.preventDefault(),this._onModifiedCallback();const t=e.keyCode===Be.KeyCode.UpArrow?1:-1;this._changeValueByStep(t)},this._selectPrev=e=>{e.preventDefault(),this._onModifiedCallback(),this.setState({command:{name:"prev"}})},this._selectNext=e=>{e.preventDefault(),this._onModifiedCallback(),this.setState({command:{name:"next"}})},this._openDropdown=()=>{this.setState({isOpened:!0,keyboardEventHandlers:this._getKeyboardEventHandlers("open")})},this._closeDropdownOnKeyDown=e=>{var t;e.preventDefault(),this._closeDropdown(),null===(t=this._priceInput)||void 0===t||t.blur()},this._closeDropdown=()=>{const e=je(this.props.base,this.props.offset),t=Je(this.props.offset,this.props.base,et()),r=Ue(t,e);this.setState({isOpened:!1,keyboardEventHandlers:this._getKeyboardEventHandlers("close"),prices:t,selected:r})},this._trackExitEditingModeEvent=e=>{this.props.trackEvent&&this.props.trackEvent("Order Ticket","Relative Price - Exit Editing Mode",String(e))};const t=je(e.base,e.offset),r=Je(e.offset,e.base,et()),s=Ue(r,t);this.state={displayValue:t,prices:r,selected:s,isOpened:!1,isEditing:!1,mouseOver:!1,keyboardEventHandlers:this._getKeyboardEventHandlers("close")},this._resetSwipeState()}render(){const e=o.createElement(we.CaretButton,{isDropped:this.state.isOpened,onFocus:this._onCaretButtonFocus,onClick:this._onCaretButtonClick});return o.createElement(ce.OutsideEvent,{mouseDown:!0,touchStart:!0,handler:this._onOutsideClick},(t=>o.createElement("span",{className:this.props.className,ref:t},o.createElement("span",{className:st.pipsLabel},nt),o.createElement(ot,{className:i(st.input,this.props.status===E.OrderPanelStatus.Wait&&st.wait),keyboardEventHandlers:this.state.keyboardEventHandlers,value:this.state.displayValue,error:this.props.error,errorMessage:this.props.errorMessage,button:e,containerReference:this._setPriceControl,inputReference:this._setPriceInput,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onInputChange,onWheelNoPassive:this._onInputMouseWheel,onMouseOver:this._onMouseOver,onMouseOut:this._onMouseOut,noReadonlyStyles:!0,highlight:this.props.highlight,highlightRemoveRoundBorder:this.props.highlightRemoveRoundBorder,
fontSizeStyle:this.props.fontSizeStyle,intent:this.props.intent}),o.createElement(De.DropdownList,{anchor:"bottom",root:"document",reference:this._setDropdownRef,className:st.list,command:this.state.command,isOpened:this.state.isOpened,items:this._makeListItems(),itemsClassName:st.item,selected:this.state.selected,selectedClassName:st.selected,target:null!==this._priceControl?this._priceControl:void 0,attachmentOffsetY:3,inheritWidthFromTarget:!0,shouldScrollIfNotVisible:!1,onSelect:this._onSelect,onNavigate:this._onNavigate,onDropdownTouchStart:this._onTouchStart,onDropdownTouchMove:this._onTouchMove,onDropdownTouchEnd:this._onTouchEnd,onDropdownWheelNoPassive:this._onDropdownWheelNoPassive}))))}componentDidUpdate(e){if(this.props.offset!==e.offset||this.props.base!==e.base){const e=je(this.props.base,this.props.offset),t=Je(this.props.offset,this.props.base,et()),r=Ue(t,e);this.setState({prices:t,selected:r})}this.state.isEditing&&this.props.isSelected||this.props.offset===e.offset&&this.props.base===e.base&&this.props.error===e.error||this.setState({displayValue:je(this.props.base,this.props.offset),isEditing:!1})}_onPriceOffsetSelected(e){const t=void 0!==e?e:this.state.prices[this.state.selected].offset;this.props.errorHandler(!1),this.props.onPriceOffsetSelected(t)}_onModifiedCallback(){this.props.onModifiedCallback&&this.props.onModifiedCallback()}_resetSwipeState(){this._swipeState={direction:null,y:null,prevDiff:null}}_getKeyboardEventHandlers(e){return"close"===e?{[Be.KeyCode.UpArrow]:this._scrollPriceByArrow,[Be.KeyCode.DownArrow]:this._scrollPriceByArrow,[Be.KeyCode.Enter]:this._switchEditingMode}:{[Be.KeyCode.Enter]:this._closeDropdownOnKeyDown,[Be.KeyCode.Escape]:this._closeDropdownOnKeyDown,[Be.KeyCode.UpArrow]:this._selectPrev,[Be.KeyCode.DownArrow]:this._selectNext}}_makeListItems(){return this.state.prices.map(((e,t)=>({base:e.base,offset:e.offset,text:e.displayValue,elem:o.createElement(rt,{price:e.displayValue})})))}_prependPriceOnWheel(){const e=Ye(this.state.prices[0],1);this.setState((t=>({prices:[e].concat(t.prices.slice(0,-1)),selected:0===t.selected?1:t.selected+1})))}_appendPriceOnWheel(){const e=this.state.prices.length-1,t=Ye(this.state.prices[e],-1);this.setState((r=>({prices:r.prices.slice(1).concat(t),selected:r.selected===e?e-1:r.selected-1})))}_prependPriceOnTouchMove(){const e=this.state.prices[0],t=[];t.unshift(Ye(e,1)),this.setState((e=>({prices:t.concat(e.prices.slice(0,this.state.prices.length-1)),selected:0===e.selected?1:e.selected+1})))}_appendPriceOnTouchMove(){const e=this.state.prices.length-1,t=this.state.prices[e],r=[];r.push(Ye(t,-1)),this.setState((t=>({prices:t.prices.slice(1).concat(r),selected:t.selected===e?e-1:t.selected-1})))}_changeValueByStep(e){const t=this.props.offset+e,r=this.state.isEditing?Xe(t):je(this.props.base,t);this.setState({displayValue:r},(()=>{this._onPriceOffsetSelected(t)}))}}var lt=r(340439);function ct(e){const{model:t,priceType:r,focus:s,priceLabel:n,trackEvent:a}=e,l=(0,o.useContext)(H.SettingsContext),{orderPanelStatus:c}=(0,
o.useContext)(H.WidgetContext),u=(0,v.useObservable)(t.priceControlData$,t.getPriceControlData()),p=(0,v.useObservable)(t.focusedControl$,t.getFocusedControl()),d=(0,v.useObservable)(t.error$,t.getError()),h=(0,v.useObservable)(t.quotes$,{ask:0,bid:0,trade:0}),m=(0,v.useObservable)(t.side$),f="medium",g=l.showRelativePriceControl&&!t.isRelativePriceControlHidden,b=d.msg,C=c!==E.OrderPanelStatus.Wait&&d.res&&"warning"===d.severity,y=S(0),_=S(1);return o.createElement(ye.ControlGroup,{cols:g?2:1,rows:1,className:lt.controlGroup},o.createElement($e,{...w(0),className:i(lt.absolutePriceControl,g&&lt.withRelative),priceType:r,isSelected:y,status:c,priceIndex:u?u.index:0,displayPrice:u?u.absolutePrice:"",ask:(0,Ie.getAsk)(h),bid:(0,Ie.getBid)(h),last:(0,Ie.getLast)(h),side:m,priceFormatter:t.formatter,warning:C,error:d.res&&"error"===d.severity&&y,errorMessage:b,errorHandler:k,onControlFocused:P,onPriceSelected:t.setAbsolutePrice,trackEvent:a,onModifiedCallback:t.modifiedAbsolutePriceControlStat,focus:s,fontSizeStyle:f,priceLabel:n,indexToPrice:t.indexToPrice}),g&&o.createElement(at,{...w(1),isSelected:_,offset:u?u.offset:0,base:u?u.base:"",className:lt.relativePriceControl,status:c,error:d.res&&"error"===d.severity&&_,errorMessage:b,errorHandler:k,fontSizeStyle:f,onControlFocused:P,onPriceOffsetSelected:t.setPriceOffset,trackEvent:a,onModifiedCallback:t.modifiedRelativePriceControlStat}));function S(e){return c!==E.OrderPanelStatus.Wait&&p===e}function w(e){const t={};return g&&S(e)&&(t.highlight=!0),d.res&&"error"===d.severity&&S(e)&&(t.intent="danger"),t}function k(e,r){t.setControlError(e,r)}function P(e){e!==t.getFocusedControl()&&(t.setFocusedControl(e),t.setControlError(!1)),t.onControlFocused.fire()}}function ut(e){const{model:t,trackEvent:s,focus:n}=e,i=(0,v.useObservable)(t.orderType$),a=4===i;return o.createElement(o.Fragment,null,3===i||a?o.createElement(ct,{key:t.stopPriceModel.id,model:t.stopPriceModel,priceType:t.stopPriceModel.priceType,trackEvent:s,focus:n,priceLabel:a?g.t(null,void 0,r(475299)):g.t(null,void 0,r(7953))}):null,1===i||a?o.createElement(ct,{key:t.limitPriceModel.id,model:t.limitPriceModel,priceType:t.limitPriceModel.priceType,trackEvent:s,focus:n,priceLabel:a?g.t(null,void 0,r(277646)):g.t(null,void 0,r(7953))}):null)}var pt=r(570446),dt=r(657947);class ht extends o.PureComponent{constructor(e){super(e),this._orderTypeSubscription=null,this.onDurationChanged=e=>{this.props.model.currentDuration.setValue(e),this.props.model.onModifiedCallback()},this._onControlFocused=()=>{this.props.model.onControlFocused.fire()},this._callback=()=>this.forceUpdate()}componentDidMount(){this.props.model.currentDuration.subscribe(this._callback),this._orderTypeSubscription=this.props.model.orderType$.subscribe(this._callback)}componentWillUnmount(){var e;this.props.model.currentDuration.unsubscribe(this._callback),null===(e=this._orderTypeSubscription)||void 0===e||e.unsubscribe()}render(){const e=this.props.model.currentDuration.value();return null===e?null:o.createElement(dt.DurationControl,{
currentDuration:e,durationMetaInfoList:this._getDurationMetaInfoList(),onDurationChanged:this.onDurationChanged,onClose:this.props.onClose,onControlFocused:this._onControlFocused,onError:this.props.model.setError,showErrorMessages:!0})}_getDurationMetaInfoList(){const e=this.props.model.getOrderType(),t=this.props.model.durationMetaInfoList;return(0,Ie.filterDurationsByOrderType)(t,e)}}var mt=r(649719);const vt=o.lazy((async()=>({default:(await Promise.all([r.e(9722),r.e(5862),r.e(6112)]).then(r.bind(r,322642))).LeverageDialog}))),ft=(0,mt.withDialogLazyLoad)(vt);var gt=r(27950),bt=r(509820);function Ct(e){const{leverage:t,onClick:s,onControlFocused:n,blocked:i,forceDisabled:l=!1,onBlockedClick:c}=e,u=void 0===t;let p=g.t(null,{replace:{value:String(t)}},r(452386));return u&&(p=g.t(null,void 0,r(701544))),i&&(p=g.t(null,void 0,r(329776))),o.createElement("div",{className:bt.container,onClick:function(){if(i)return n.fire(),void c()}},o.createElement(gt.EditButton,{disabled:u||l||i,value:p,startSlot:u||i?void 0:"x",onClick:function(){s(),n.fire()},className:a()(bt.leverageButton,l&&bt.disabledLeverageButton)}))}function yt(e){const{model:t}=e,r=(0,v.useObservable)(t.leverageInfo$,t.leverageInfo()),s=(0,v.useObservable)(t.blocked$,t.getBlocked()),n=t.leveragePreviewResult(),[i,a]=(0,o.useState)(!1),[l,c]=(0,o.useState)(null==r?void 0:r.leverage);return(0,o.useEffect)((()=>{c(null==r?void 0:r.leverage)}),[r]),o.createElement(o.Fragment,null,o.createElement(Ct,{onClick:u,leverage:l,forceDisabled:i,blocked:s,onControlFocused:t.onControlFocused,onBlockedClick:t.onBlockedClick}),null!==r&&i&&void 0!==l&&o.createElement(ft,{symbol:t.symbol,displaySymbol:t.displaySymbol,leverage:l,brokerName:t.brokerName,orderType:t.orderType,side:t.side,isOpen:i,onClose:u,onLeverageSet:t.setLeverage,onLeveragePreview:t.previewLeverage,title:r.title,min:r.min,max:r.max,step:r.step,customFields:t.customFields,infos:null==n?void 0:n.infos,warnings:null==n?void 0:n.warnings,errors:null==n?void 0:n.errors,onSetLeverageValueInOrderWidget:function(e){c(e)}}));function u(){i||t.getLeverageInfo({symbol:t.symbol,orderType:t.orderType,side:t.side,customFields:t.customFields}),a((e=>!e))}}var Et=r(567704),_t=r(172594);class St extends o.PureComponent{constructor(e){super(e)}render(){const e={width:`${this.props.progress}%`},t=i(_t.progress,100===this.props.progress&&_t.fullFilled,this.props.usedMargin>this.props.availableMargin&&_t.marginOverflow);return o.createElement("div",{className:i(_t.progressBarContainer,this.props.wait&&_t.wait)},o.createElement("div",{className:_t.marginsContainer},o.createElement("div",{className:i(_t.margin,_t.usedMargin)},o.createElement("div",{className:_t.title},g.t(null,void 0,r(214775))),o.createElement("span",{className:_t.price},(0,Et.formatInfoValue)(this.props.usedMargin))),o.createElement("div",{className:i(_t.margin),"data-name":"availableMargin"},o.createElement("span",{className:_t.price},(0,Et.formatInfoValue)(this.props.availableMargin)))),o.createElement("div",{className:_t.progressBar
},o.createElement("div",{className:_t.track},o.createElement("div",{className:t,style:e}))))}}var wt=r(612107);function kt(e){const{model:t,infoTableData:r}=e,{orderPanelStatus:s}=(0,o.useContext)(H.WidgetContext),n=(0,v.useObservable)(t.usedMargin$,0),i=(0,v.useObservable)(t.availableMargin$,0);return o.createElement("div",{className:wt.orderInfo},o.createElement("div",{className:wt.title},t.title()),o.createElement("div",{className:wt.contentWrapper},t.hasMarginMeter()&&o.createElement(St,{usedMargin:n,availableMargin:i,progress:(0,Et.calculatedMarginRatio)(n,i),wait:s===E.OrderPanelStatus.Wait}),o.createElement(V.InfoTable,{rows:r.rows,header:r.header,disabled:s===E.OrderPanelStatus.Wait})))}var Pt=r(41899),Ot=r(853177),Mt=r(556013),Nt=r(97518),It=r(849108);const Bt=(0,C.getLogger)("Trading.OrderPanel"),Dt=g.t(null,void 0,r(645207)),xt=(g.t(null,void 0,r(731685)),g.t(null,void 0,r(711986)),g.t(null,void 0,r(733895)),g.t(null,void 0,r(470877)),g.t(null,void 0,r(877309)),parseInt(It["min-order-ticket-height"])),Tt=parseInt(It["min-order-info-height"]);function Ft(){document.activeElement instanceof HTMLElement?document.activeElement.blur():Bt.logWarn("Failed to deselect: active element is not HTMLElement")}const Ht=(0,o.forwardRef)(((e,t)=>{const{model:r,focus:s,trackEvent:n,orderPanelStatus:i,orderType:a,setOrderType:l,isNoQuotes:c,orderWidgetRef:p,isMobile:h,isPopupMode:m,requestResize:v,shouldShowActionButton:f}=e;(0,o.useEffect)((()=>{m&&(null==v||v())}),[a,m]);const g=i===E.OrderPanelStatus.Wait||u.CheckMobile.any()?void 0:s,b=function(e,t){return Boolean(2!==t&&(!e.existingOrder||e.existingOrder&&e.supportModifyOrderPrice))}(r,a),C=function(e,t){const r=2!==t||e.supportMarketBrackets();return Boolean(e.supportBrackets()&&r)}(r,a)||function(e){return Boolean(e.supportCryptoBrackets)}(r),y=function(e){return Boolean(e.durationModel&&(!e.existingOrder||e.existingOrder&&e.supportModifyDuration)&&e.durationModel.isDurationsAvailable())}(r),_=function(e){return Boolean(e.supportLeverageButton)}(r),S=b||r.supportModifyQuantity||_,w=b||r.supportModifyQuantity||_||C,k=[E.OrderPanelStatus.Active,E.OrderPanelStatus.Wait].includes(i),P=r.customFieldsModel.getCustomFieldsModels(),O=[],M=(0,o.useRef)(null),N={model:r,supportOrderPrice:b,supportBrackets:C,supportDuration:y,customFieldModels:P,supportLeverageButton:_,centerBlockRef:M,trackEvent:n,currentFocus:g,showBracketSeparator:S,focusOrderWidget:function(){null!==p.current&&p.current.focus()},showCustomFieldsSeparator:w,orderPanelStatus:i};return k&&O.push({id:"symbol-specific-warning",warningMessageSource:r.symbolSpecificWarningMessage}),o.createElement(o.Fragment,null,r.sideModel&&o.createElement("div",{className:It.side},o.createElement(L,{model:r.sideModel,disabled:r.existingOrder})),r.limitPriceModel&&r.stopPriceModel&&o.createElement(se,{orderType:a,setOrderType:l,disabled:r.existingOrder&&!r.supportModifyOrderType,supportMarketOrders:r.supportMarketOrders(),supportLimitOrders:r.supportLimitOrders(),supportStopOrders:r.supportStopOrders(),
supportStopLimitOrders:r.supportStopLimitOrders()}),h?o.createElement(Lt,{...N}):o.createElement(K,{className:It.scrollWrapper,scrollContainerRef:M},o.createElement(Lt,{...N})),void 0!==r.buttonModel&&f&&o.createElement("div",{className:It.doneButton},o.createElement(pt.PlaceAndModifyButton,{model:r,reference:(0,d.isomorphicRef)(t),buttonModel:r.buttonModel})),o.createElement(Ot.TradingPanelWarningInformersContainer,{warningInformersItems:O}))}));function Lt(e){const{model:t,supportOrderPrice:r,supportBrackets:s,supportDuration:n,customFieldModels:a,supportLeverageButton:l,centerBlockRef:c,trackEvent:u,currentFocus:p,showBracketSeparator:d,focusOrderWidget:m,showCustomFieldsSeparator:v,orderPanelStatus:f}=e;return t.limitPriceModel&&t.stopPriceModel&&t.quantityModel&&o.createElement("div",{className:i(It.centerBlock),ref:c},r&&o.createElement(ut,{model:t,trackEvent:u,focus:p}),t.supportModifyQuantity&&o.createElement("div",{className:It.quantityWrapper},o.createElement(Wt,{model:t,orderPanelStatus:f,currentFocus:p,trackEvent:u})),s&&o.createElement("div",{className:It["brackets-wrapper"]},d&&o.createElement("div",{className:It.separator}),o.createElement("div",{className:It.brackets},o.createElement(oe.BracketControlGroup,{model:t,focus:p}))),n&&o.createElement("div",{className:It.duration},o.createElement(ht,{onClose:m,model:(0,h.ensureDefined)(t.durationModel)})),a.length>0&&o.createElement("div",{className:It.customFieldsWrapper},v&&o.createElement("div",{className:It.separator}),o.createElement(Mt.OrderPanelCustomFields,{customFieldModels:a,onClose:m})),l&&o.createElement("div",{className:It.leverage},o.createElement(yt,{model:(0,h.ensureDefined)(t.leverageModel)})))}function Wt(e){const{model:t,orderPanelStatus:r,currentFocus:s,trackEvent:n}=e;return t.supportCryptoExchangeOrderTicket()?o.createElement(Me,{model:t.quantityModel,status:r,focus:s}):o.createElement(Ce,{model:t.quantityModel,symbolHasLotSize:t.symbolHasLotSize,status:r,trackEvent:n,focus:s})}function Rt(e){const{model:t}=e,r=t.tradableSolution?o.createElement(p.SquareButton,{onClick:t.tradableSolution.apply,size:"small"},t.tradableSolution.title):void 0;return o.createElement("div",{className:It.emptyStateBlockWrapper},o.createElement(m.EmptyStateBlock,{iconClass:It.sadScreenIcon,title:Dt,titleSize:"normal",text:(0,h.ensureDefined)(t.notTradableText),action:r}))}function Vt(e){var t,r;const{model:s,requestResize:n}=e,{mode:a,orderPanelStatus:p}=(0,o.useContext)(H.WidgetContext),[d,m]=(0,o.useState)(null),[g,C]=(0,o.useState)(),_=(0,v.useObservable)(s.isNoQuotes$,!1),S=(0,v.useObservable)(null!==(r=null===(t=s.orderInfoModel)||void 0===t?void 0:t.infoTableData$)&&void 0!==r?r:(0,c.of)(null),null),w=(0,v.useObservable)(s.orderType$,s.getOrderType()),k=(0,o.useRef)(null),P=(0,o.useRef)(null),O=(0,o.useRef)(null),M=function(e,t){return t===E.OrderPanelStatus.Preview&&null!==e.orderPreviewModel}(s,p),N=function(e,t,r){var s;const o=(null===(s=e.orderInfoModel)||void 0===s?void 0:s.getOrderInfoTableRowsCount())||0
;return!e.needSignIn&&!e.noBroker&&!e.notTradableText&&t===E.OrderEditorDisplayMode.Panel&&o>0&&r!==E.OrderPanelStatus.Preview&&b.enabled("order_info")}(s,a,p)&&null!==S&&!M,I=u.CheckMobile.any()||u.CheckMobile.isIPad(),B=a===E.OrderEditorDisplayMode.Popup;(0,o.useEffect)((()=>{const e=setTimeout((()=>{void 0!==g&&0!==g&&(0,Pt.isInteger)(g)&&l.setValue(y.settingsKeys.PANEL_INFO_HEIGHT,g)}),100);return()=>clearTimeout(e)}),[g]),(0,o.useEffect)((()=>{var e;p===E.OrderPanelStatus.Wait&&(null===(e=k.current)||void 0===e?void 0:e.contains(document.activeElement))&&Ft()}),[p]),(0,o.useEffect)((()=>{var e,t;let r=l.getInt(y.settingsKeys.PANEL_INFO_HEIGHT,0);const s=(null!==(t=null===(e=k.current)||void 0===e?void 0:e.clientHeight)&&void 0!==t?t:0)-xt;r>s?r=s:r<Tt&&(r=Tt),isNaN(r)||C(r)}),[]),(0,o.useEffect)((()=>{if(null!==d)return d.addEventListener("mousedown",x,{passive:!1}),d.addEventListener("touchstart",x,{passive:!1}),()=>{d.removeEventListener("mousedown",x),d.removeEventListener("touchstart",x)}}),[d]);const D=(0,o.useCallback)((e=>{null!==e&&m(e)}),[]);function x(e){var t,r,s,o;if(e.defaultPrevented||!e.cancelable)return;e.preventDefault();const n=null!==(r=null===(t=P.current)||void 0===t?void 0:t.clientHeight)&&void 0!==r?r:0,i=(null!==(o=null===(s=k.current)||void 0===s?void 0:s.clientHeight)&&void 0!==o?o:0)-xt;let a;a="touches"in e?e.touches[0].clientY:e.clientY;const l=e=>{let t;e.preventDefault(),t="touches"in e?e.touches[0].clientY:e.clientY;let r=n+(a-t);r>i?r=i:r<Tt&&(r=Tt),C(r)},c=()=>{document.removeEventListener("mousemove",l),document.removeEventListener("touchmove",l),document.removeEventListener("mouseup",c),document.removeEventListener("touchend",c)};document.addEventListener("mousemove",l),document.addEventListener("touchmove",l,{passive:!1}),document.addEventListener("mouseup",c),document.addEventListener("touchend",c,{passive:!1})}return o.createElement("div",{className:i(It.orderWidget),onKeyDown:function(e){const t=(0,f.hashFromEvent)(e);if(!(13!==t&&t!==f.hashShiftPlusEnter||s.isButtonDisabled()||null===O.current)){if(u.CheckMobile.any())return Ft();O.current.focus(),e.defaultPrevented||O.current.click()}},tabIndex:-1,ref:k},o.createElement("div",{className:It.orderTicket},(B||a===E.OrderEditorDisplayMode.ResizableDrawer)&&o.createElement(Nt.HeaderContainer,{...e.model.headerStateValue}),!1,!1,s.notTradableText&&o.createElement(Rt,{model:s}),!s.needSignIn&&!s.noBroker&&!s.notTradableText&&(M?o.createElement(G,{model:(0,h.ensureNotNull)(s.orderPreviewModel),side:s.side(),loading$:s.loading$,isMobile:I,shouldShowActionButton:e.shouldShowActionButton,isPopupMode:B,requestResize:n}):o.createElement(Ht,{...e,ref:O,orderType:w,setOrderType:s.setOrderType,orderPanelStatus:p,isNoQuotes:_,orderWidgetRef:k,isMobile:I,isPopupMode:B,requestResize:n}))),N&&o.createElement("div",{ref:P,className:It.orderInfoAndSeparator,style:{height:g}},o.createElement("div",{className:It.separator}),o.createElement("div",{className:It.resizeHandler,ref:D}),o.createElement(kt,{"data-name":"order-info",model:(0,
h.ensureNotNull)(s.orderInfoModel),infoTableData:S})))}var zt=r(863618);class At extends o.PureComponent{constructor(e){super(e),this._onKeyDown=e=>{27===e.keyCode&&this.props.model.resetOrderPanel()}}render(){return o.createElement("div",{"data-name":"order-panel",className:zt.orderPanel,onKeyDown:this._onKeyDown},o.createElement(Vt,{model:this.props.model,key:this.props.model.id,trackEvent:this.props.trackEvent,focus:this.props.focus,shouldShowActionButton:!0}))}}var Kt=r(930894),Zt=r(533408),$t=r(274837),qt=r(926463);const Gt=o.memo((e=>{const{model:t,isOpened:r,onClose:s,trackEvent:n,focus:i,onOpen:a}=e;return(0,$t.useCommonDialogHandlers)({isOpened:r,onOpen:a,onClose:s}),o.createElement(Zt.AdaptivePopupDialog,{className:qt.dialog,isOpened:r,dataName:"order-dialog-popup",render:function(e){const{requestResize:r}=e;return o.createElement(Kt.Body,{className:qt.dialogBody},o.createElement(Vt,{key:t.id,model:t,trackEvent:n,focus:i,requestResize:r,shouldShowActionButton:!0}))},onClose:()=>null==s?void 0:s()})}));var Ut=r(910549),Qt=r(977540),jt=r(110686);const Xt=o.memo((e=>{const{model:t,isOpened:r,onClose:s,trackEvent:n,focus:i,onOpen:a}=e;return(0,$t.useCommonDialogHandlers)({isOpened:r,onOpen:a,onClose:s}),o.createElement(Qt.ResizableDrawer,{controlsContent:o.createElement(jt.OrderDrawerControlContent,{buttonModel:t.buttonModel,onClose:s,sideModel:t.sideModel,side:()=>t.side(),isButtonDisabled$:t.isButtonDisabled$,isButtonDisabled:()=>t.isButtonDisabled(),loading$:t.loading$,doneButtonClick:()=>t.doneButtonClick()}),disableSwipe:!1,disablePan:!1,initialContentHeight:Qt.ResizableDrawerContentHeight.Full},o.createElement(Ut.PopupContext.Consumer,null,(e=>o.createElement(Vt,{model:t,key:t.id,trackEvent:n,focus:i,shouldShowActionButton:!1}))))}));let Yt=null;function Jt(e){const{viewModel:t,settings$:r,mode:s,onClose:i,onOpen:a,focus:l,trackEvent:c}=e;null===Yt&&(Yt=document.createElement("div")),document.body.appendChild(Yt),n.render(o.createElement(H.OrderTicketProvider,{settings$:r,mode:s,orderPanelStatus$:t.status$},o.createElement(Gt,{model:t,isOpened:!0,onOpen:a,onClose:()=>er(i),trackEvent:c,focus:l})),Yt)}function er(e){Yt&&(n.unmountComponentAtNode(Yt),Yt=null,null==e||e())}function tr(e){const{viewModel:t,settings$:r,mode:s,onClose:i,onOpen:a,focus:l,trackEvent:c}=e;null===Yt&&(Yt=document.createElement("div")),document.body.appendChild(Yt),n.render(o.createElement(H.OrderTicketProvider,{settings$:r,mode:s,orderPanelStatus$:t.status$},o.createElement(Xt,{model:t,isOpened:!0,onOpen:a,onClose:()=>er(i),trackEvent:c,focus:l})),Yt)}function rr(e){const{viewModel:t,settings$:r,mode:s,resizerBridgeElement:i,focus:a,trackEvent:l}=e;n.render(o.createElement(H.OrderTicketProvider,{settings$:r,mode:s,orderPanelStatus$:t.status$},o.createElement(At,{model:t,trackEvent:l,focus:a})),i)}function sr(e){n.unmountComponentAtNode(e)}},649719:(e,t,r)=>{"use strict";r.d(t,{withDialogLazyLoad:()=>n});var s=r(50959),o=r(252130);function n(e){return t=>{const r=(0,o.useIsMounted)();return((e=>{const[t,r]=(0,s.useState)(!1)
;return(0,s.useEffect)((()=>{!t&&e&&r(!0)}),[e]),t})(t.isOpen)||t.isOpen)&&r?s.createElement(s.Suspense,{fallback:null},s.createElement(e,{...t})):null}}},743003:(e,t,r)=>{"use strict";function s(e){return e.charAt(0).toUpperCase()+e.substring(1)}r.d(t,{capitalizeFirstLetter:()=>s})},115589:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9.36 5a4.44 4.44 0 0 0-4.39 4.5c0 2.49 1.97 4.5 4.39 4.5 1.62 0 3.04-.9 3.8-2.25l.84.5A5.33 5.33 0 0 1 9.36 15 5.43 5.43 0 0 1 4 9.5C4 6.46 6.4 4 9.36 4c1.98 0 3.71 1.1 4.64 2.75l-.84.5A4.36 4.36 0 0 0 9.36 5Z"/></svg>'},96634:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M5 9h9v1H5V9Z"/></svg>'},218666:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9.5 4.5h-1v4h-4v1h4v4h1v-4h4v-1h-4v-4Z"/></svg>'},610600:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M13.5 7l1.65-1.65a.5.5 0 0 0 0-.7l-1.8-1.8a.5.5 0 0 0-.7 0L11 4.5M13.5 7L11 4.5M13.5 7l-8.35 8.35a.5.5 0 0 1-.36.15H2.5v-2.3a.5.5 0 0 1 .15-.35L11 4.5"/></svg>'},672197:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M10 6.13V8L6 5.5 10 3v2.1A5 5 0 1 1 4 10a.5.5 0 0 1 1 0 4 4 0 1 0 5-3.87Z"/></svg>'},914987:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><mask width="17" height="20" fill="#000" x="6" y="4" maskUnits="userSpaceOnUse" id="aayofezey"><path fill="#fff" d="M6 4h17v20H6z"/><path fill-rule="evenodd" d="M9 5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H9Zm1 2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1h-9Zm2 8.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm2.5 1.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm5.5-1.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM10.5 21a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm5.5-1.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm2.5 1.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/></mask><path fill="currentcolor" d="M8 7a1 1 0 0 1 1-1V4a3 3 0 0 0-3 3h2Zm0 14V7H6v14h2Zm1 1a1 1 0 0 1-1-1H6a3 3 0 0 0 3 3v-2Zm11 0H9v2h11v-2Zm1-1a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2Zm0-14v14h2V7h-2Zm-1-1a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2ZM9 6h11V4H9v2Zm1 2V6a2 2 0 0 0-2 2h2Zm0 2V8H8v2h2Zm0 0H8c0 1.1.9 2 2 2v-2Zm9 0h-9v2h9v-2Zm0 0v2a2 2 0 0 0 2-2h-2Zm0-2v2h2V8h-2Zm0 0h2a2 2 0 0 0-2-2v2Zm-9 0h9V6h-9v2Zm.5 10a2.5 2.5 0 0 0 2.5-2.5h-2a.5.5 0 0 1-.5.5v2ZM8 15.5a2.5 2.5 0 0 0 2.5 2.5v-2a.5.5 0 0 1-.5-.5H8Zm2.5-2.5A2.5 2.5 0 0 0 8 15.5h2c0-.28.22-.5.5-.5v-2Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v2c.28 0 .5.22.5.5h2Zm2 0a.5.5 0 0 1-.5.5v2a2.5 2.5 0 0 0 2.5-2.5h-2Zm-.5-.5c.28 0 .5.22.5.5h2a2.5 2.5 0 0 0-2.5-2.5v2Zm-.5.5c0-.28.22-.5.5-.5v-2a2.5 2.5 0 0 0-2.5 2.5h2Zm.5.5a.5.5 0 0 1-.5-.5h-2a2.5 2.5 0 0 0 2.5 2.5v-2Zm4 2a2.5 2.5 0 0 0 2.5-2.5h-2a.5.5 0 0 1-.5.5v2ZM16 15.5a2.5 2.5 0 0 0 2.5 2.5v-2a.5.5 0 0 1-.5-.5h-2Zm2.5-2.5a2.5 2.5 0 0 0-2.5 2.5h2c0-.28.22-.5.5-.5v-2Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v2c.28 0 .5.22.5.5h2Zm-10 4a.5.5 0 0 1-.5.5v2a2.5 2.5 0 0 0 2.5-2.5h-2Zm-.5-.5c.28 0 .5.22.5.5h2a2.5 2.5 0 0 0-2.5-2.5v2Zm-.5.5c0-.28.22-.5.5-.5v-2A2.5 2.5 0 0 0 8 19.5h2Zm.5.5a.5.5 0 0 1-.5-.5H8a2.5 2.5 0 0 0 2.5 2.5v-2Zm4 2a2.5 2.5 0 0 0 2.5-2.5h-2a.5.5 0 0 1-.5.5v2ZM12 19.5a2.5 2.5 0 0 0 2.5 2.5v-2a.5.5 0 0 1-.5-.5h-2Zm2.5-2.5a2.5 2.5 0 0 0-2.5 2.5h2c0-.28.22-.5.5-.5v-2Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v2c.28 0 .5.22.5.5h2Zm2 0a.5.5 0 0 1-.5.5v2a2.5 2.5 0 0 0 2.5-2.5h-2Zm-.5-.5c.28 0 .5.22.5.5h2a2.5 2.5 0 0 0-2.5-2.5v2Zm-.5.5c0-.28.22-.5.5-.5v-2a2.5 2.5 0 0 0-2.5 2.5h2Zm.5.5a.5.5 0 0 1-.5-.5h-2a2.5 2.5 0 0 0 2.5 2.5v-2Z" mask="url(#aayofezey)"/></svg>'}}]);