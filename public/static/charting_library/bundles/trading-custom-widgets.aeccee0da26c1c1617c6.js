(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[3809],{843338:e=>{e.exports={label:"label-oHMFhnC8"}},744071:e=>{e.exports={calculator:"calculator-vLRZh3q9",calculatorWithInput:"calculatorWithInput-vLRZh3q9",input:"input-vLRZh3q9",buttonsWrapper:"buttonsWrapper-vLRZh3q9",buttonWithOperation:"buttonWithOperation-vLRZh3q9",buttonIcon:"buttonIcon-vLRZh3q9"}},833855:e=>{e.exports={menuBox:"menuBox-rm7KgfIT"}},463039:(e,t,n)=>{"use strict";n.d(t,{Label:()=>s});var o=n(50959),r=n(497754),a=n.n(r),u=n(102691),l=n(843338);function s(e){const{htmlFor:t,children:n,className:r,id:s,...i}=e;return o.createElement(u.BeforeSlot,{...i,className:a()(l.label,r)},o.createElement("label",{id:s,htmlFor:t},n))}},729354:(e,t,n)=>{"use strict";n.d(t,{QuantityInput:()=>m});var o=n(50959),r=n(609838),a=n(463039),u=n(499665);var l=n(587125),s=n(341086),i=n(50771),c=n(848062),p=n(863582),h=n(391431);function m(e){const{id:t,qty:m,quantityMetainfo:v,onValueChange:d,className:C,customTitle:g,hasLotSize:y,onClick:b,inputReference:B}=e,{error:E,errorMessage:f,setError:I,setErrorMessage:T,handleInputError:w}=function(e,t){const[n,r]=(0,o.useState)(!1),[a,l]=(0,o.useState)(void 0),[s,i]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const{res:n,msg:o}=(0,u.checkQtyError)(t,e,!0),a=s?void 0:o;r(s||n),l(a)}),[e,t,s]),{error:n,errorMessage:a,setError:r,setErrorMessage:l,handleInputError:e=>{i(e)}}}(m,v),k=(0,o.useMemo)((()=>(0,s.numberFormattersParsersChain)({chain:[(0,i.prohibitNanOnParseStep)(),(0,c.decimalNumberMagnitudeStep)({standardNotationOnly:!0}),(0,p.signumStep)({negativeSign:p.longMinusSign})]},{ignoreLocaleNumberFormat:!0})),[v]),x=null!=g?g:y?r.t(null,void 0,n(833526)):r.t(null,void 0,n(715432));return o.createElement(o.Fragment,null,o.createElement(a.Label,{htmlFor:t},x),o.createElement(l.NumberInput,{...v,id:t,className:C,value:(0,h.applyRounding)(m,k),onValueChange:e=>{const{res:t,msg:n}=(0,u.checkQtyError)(v,e,!0);t||d(e),I(t),T(n)},error:E,errorMessage:f,errorHandler:w,onBlur:()=>{I(!1),T(void 0)},onClick:b,inputReference:B,useFormatter:!1}))}},713191:(e,t,n)=>{"use strict";n.r(t),n.d(t,{render:()=>l});var o=n(50959),r=n(632227),a=n(650151),u=n(129018);function l(e,t,n){e?r.render(o.createElement(u.QuantityCalculator,{...(0,a.ensureDefined)(n)}),t):r.unmountComponentAtNode(t)}},129018:(e,t,n)=>{"use strict";n.d(t,{QuantityCalculator:()=>k});var o=n(50959),r=n(960521),a=n(624216),u=n(510618),l=n(493173),s=n(567704),i=n(497754),c=n.n(i),p=n(609838),h=n(180185),m=n(72571),v=n(380327),d=n(729354),C=n(600297),g=n(218666),y=n(96634),b=n(115589),B=n(672197),E=n(744071);const f={isGrouped:!1,cellState:{isTop:!1,isRight:!1,isBottom:!1,isLeft:!1}};function I(e){const{min:t,max:r,step:a,uiStep:u,reference:l,withInput:s,valueInput:i,onChangeValueInput:I,onClick:T,onClose:w,onInputClick:k}=e,x=(0,o.useRef)(null),V={min:t,max:r,step:a,uiStep:u};function N(e,t){var n;null===(n=x.current)||void 0===n||n.blur(),T(e,t)}return o.createElement("div",{className:c()(E.calculator,s&&E.calculatorWithInput),tabIndex:-1,ref:l,
onKeyDown:e=>{13===(0,h.hashFromEvent)(e)&&w()}},s&&o.createElement(d.QuantityInput,{id:"calculator-input",qty:i,quantityMetainfo:V,className:E.input,customTitle:p.t(null,void 0,n(598721)),onValueChange:I,onClick:k,inputReference:e=>x.current=e}),o.createElement(v.ControlGroupContext.Provider,{value:f},o.createElement("div",{className:E.buttonsWrapper},o.createElement(C.Button,{value:-a,buttonType:C.ButtonType.IncDec,icon:o.createElement(m.Icon,{className:E.buttonIcon,icon:y}),onClick:N,className:E.buttonWithOperation}),o.createElement(C.Button,{value:a,buttonType:C.ButtonType.IncDec,icon:o.createElement(m.Icon,{className:E.buttonIcon,icon:g}),onClick:N,className:E.buttonWithOperation}),o.createElement(C.Button,{value:1,buttonType:C.ButtonType.PlusValue,onClick:N}),o.createElement(C.Button,{value:5,buttonType:C.ButtonType.PlusValue,onClick:N}),o.createElement(C.Button,{value:25,buttonType:C.ButtonType.PlusValue,onClick:N}),o.createElement(C.Button,{value:100,buttonType:C.ButtonType.PlusValue,onClick:N}),o.createElement(C.Button,{value:500,buttonType:C.ButtonType.PlusValue,onClick:N}),o.createElement(C.Button,{value:1e3,buttonType:C.ButtonType.PlusValue,onClick:N}),o.createElement(C.Button,{value:0,buttonType:C.ButtonType.Clear,icon:o.createElement(m.Icon,{className:E.buttonIcon,icon:b}),onClick:N}),o.createElement(C.Button,{value:t||a,buttonType:C.ButtonType.Default,icon:o.createElement(m.Icon,{className:E.buttonIcon,icon:B}),onClick:N}))))}var T=n(833855);const w=(0,l.mergeThemes)(u.DEFAULT_MENU_THEME,{menuBox:T.menuBox});class k extends o.PureComponent{constructor(e){super(e),this._setCalcRef=e=>{this.props.calcReference&&this.props.calcReference(e)},this._calculatorStepHandler=(e,t)=>{const{min:n,max:o,uiStep:a,trackEventTarget:u,trackEvent:l}=this.props;if(void 0!==l&&void 0!==u&&l(u,"Calculator Button",(0,s.prepareCalculatorEventText)(e,t)),t===C.ButtonType.Clear||t===C.ButtonType.Default)return this._updateValueByCalc(e);const i=this.props.valueGetter();if(null===i)return;let c=Number((0,r.Big)(i).plus(e));if((c<n||o<c)&&t!==C.ButtonType.IncDec)return this._updateValueByCalc(i);if(t===C.ButtonType.IncDec){if(c=this._calcByStep(i,e,n,a),o<c)return this._updateValueByCalc(o);if(c<n)return this._updateValueByCalc(n)}return this._updateValueByCalc(c)},this._updateValueByCalc=e=>{var t,n;this._handlerValueInput(e),this.props.onValueChange(e,!0),void 0!==this.props.errorHandler&&this.props.errorHandler(!1),this.props.calculatorUsedStat&&this.props.calculatorUsedStat(),null===(n=(t=this.props).onFocus)||void 0===n||n.call(t)},this._onInputClick=()=>{const{trackEventTarget:e,trackEvent:t}=this.props;void 0!==t&&void 0!==e&&t(e,"Calculator Input","Quantity input field")},this.state={valueInput:e.valueGetter()},this._handlerValueInput=this._handlerValueInput.bind(this)}render(){const{min:e,max:t,step:n,uiStep:r,withInput:u,targetEl:l,position:s,onClose:i,onClickOutside:c,onKeyboardClose:p}=this.props;return o.createElement(a.PopupMenu,{isOpened:!0,onClose:i,onClickOutside:c,onKeyboardClose:p,position:s,doNotCloseOn:l,
theme:w},o.createElement(I,{min:e,max:t,step:n,uiStep:r,withInput:u,reference:this._setCalcRef,valueInput:this.state.valueInput,onChangeValueInput:this._updateValueByCalc,onClick:this._calculatorStepHandler,onClose:i,onInputClick:this._onInputClick}))}_calcByStep(e,t,n,o){const a=Math.sign(t),u=Math.abs(null!=o?o:t),l=new r.Big(e),s=l.minus(n).mod(t);let i=l.plus(a*u);return s.eq(0)||(i=i.plus((a>0?0:1)*u).minus(s)),i.toNumber()}_handlerValueInput(e){this.setState({valueInput:e})}}},493173:(e,t,n)=>{"use strict";function o(e,t,n={}){return Object.assign({},e,function(e,t,n={}){const o=Object.assign({},t);for(const r of Object.keys(t)){const a=n[r]||r;a in e&&(o[r]=[e[a],t[r]].join(" "))}return o}(e,t,n))}n.d(t,{mergeThemes:()=>o})},115589:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9.36 5a4.44 4.44 0 0 0-4.39 4.5c0 2.49 1.97 4.5 4.39 4.5 1.62 0 3.04-.9 3.8-2.25l.84.5A5.33 5.33 0 0 1 9.36 15 5.43 5.43 0 0 1 4 9.5C4 6.46 6.4 4 9.36 4c1.98 0 3.71 1.1 4.64 2.75l-.84.5A4.36 4.36 0 0 0 9.36 5Z"/></svg>'},96634:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M5 9h9v1H5V9Z"/></svg>'},218666:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9.5 4.5h-1v4h-4v1h4v4h1v-4h4v-1h-4v-4Z"/></svg>'},672197:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M10 6.13V8L6 5.5 10 3v2.1A5 5 0 1 1 4 10a.5.5 0 0 1 1 0 4 4 0 1 0 5-3.87Z"/></svg>'}}]);