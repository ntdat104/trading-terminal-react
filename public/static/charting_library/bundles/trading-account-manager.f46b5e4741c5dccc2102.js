(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[8354],{262978:e=>{e.exports={primary:"primary-PVWoXu5j",gray:"gray-PVWoXu5j",selected:"selected-PVWoXu5j",grouped:"grouped-PVWoXu5j",pills:"pills-PVWoXu5j",active:"active-PVWoXu5j",disableActiveOnTouch:"disableActiveOnTouch-PVWoXu5j",disableActiveStateStyles:"disableActiveStateStyles-PVWoXu5j",withGrouped:"withGrouped-PVWoXu5j","quiet-primary":"quiet-primary-PVWoXu5j",green:"green-PVWoXu5j",red:"red-PVWoXu5j",secondary:"secondary-PVWoXu5j",ghost:"ghost-PVWoXu5j"}},729075:e=>{e.exports={lightButton:"lightButton-bYDQcOkp",link:"link-bYDQcOkp",ltr:"ltr-bYDQcOkp",rtl:"rtl-bYDQcOkp","typography-regular16px":"typography-regular16px-bYDQcOkp","typography-medium16px":"typography-medium16px-bYDQcOkp","typography-regular14px":"typography-regular14px-bYDQcOkp","typography-semibold14px":"typography-semibold14px-bYDQcOkp","typography-semibold16px":"typography-semibold16px-bYDQcOkp",content:"content-bYDQcOkp",visuallyHidden:"visuallyHidden-bYDQcOkp",nowrap:"nowrap-bYDQcOkp",ellipsisContainer:"ellipsisContainer-bYDQcOkp",textWrapContainer:"textWrapContainer-bYDQcOkp",textWrapWithEllipsis:"textWrapWithEllipsis-bYDQcOkp",slot:"slot-bYDQcOkp",caret:"caret-bYDQcOkp",activeCaret:"activeCaret-bYDQcOkp",xsmall:"xsmall-bYDQcOkp",withStartSlot:"withStartSlot-bYDQcOkp",withEndSlot:"withEndSlot-bYDQcOkp",noContent:"noContent-bYDQcOkp",wrap:"wrap-bYDQcOkp",small:"small-bYDQcOkp",medium:"medium-bYDQcOkp"}},957723:e=>{e.exports={wrapper:"wrapper-GZajBGIm",input:"input-GZajBGIm",view:"view-GZajBGIm",danger:"danger-GZajBGIm"}},431542:e=>{e.exports={box:"box-ywH2tsV_",noOutline:"noOutline-ywH2tsV_",disabled:"disabled-ywH2tsV_","intent-danger":"intent-danger-ywH2tsV_",checked:"checked-ywH2tsV_",check:"check-ywH2tsV_",icon:"icon-ywH2tsV_",dot:"dot-ywH2tsV_",disableActiveStyles:"disableActiveStyles-ywH2tsV_"}},822306:e=>{e.exports={checkbox:"checkbox-vyj6oJxw",reverse:"reverse-vyj6oJxw",label:"label-vyj6oJxw",baseline:"baseline-vyj6oJxw"}},744576:e=>{e.exports={"tv-circle-logo-pair":"tv-circle-logo-pair-ocURKVwI","tv-circle-logo-pair--xxxxsmall":"tv-circle-logo-pair--xxxxsmall-ocURKVwI","tv-circle-logo-pair--xxxsmall":"tv-circle-logo-pair--xxxsmall-ocURKVwI","tv-circle-logo-pair--xxsmall":"tv-circle-logo-pair--xxsmall-ocURKVwI","tv-circle-logo-pair--xsmall":"tv-circle-logo-pair--xsmall-ocURKVwI","tv-circle-logo-pair--small":"tv-circle-logo-pair--small-ocURKVwI","tv-circle-logo-pair--medium":"tv-circle-logo-pair--medium-ocURKVwI","tv-circle-logo-pair--large":"tv-circle-logo-pair--large-ocURKVwI","tv-circle-logo-pair--xlarge":"tv-circle-logo-pair--xlarge-ocURKVwI","tv-circle-logo-pair--xxlarge":"tv-circle-logo-pair--xxlarge-ocURKVwI","tv-circle-logo-pair--xxxlarge":"tv-circle-logo-pair--xxxlarge-ocURKVwI","tv-circle-logo-pair__logo":"tv-circle-logo-pair__logo-ocURKVwI","tv-circle-logo-pair__logo--xxxxsmall":"tv-circle-logo-pair__logo--xxxxsmall-ocURKVwI","tv-circle-logo-pair__logo--xxxsmall":"tv-circle-logo-pair__logo--xxxsmall-ocURKVwI",
"tv-circle-logo-pair__logo--xxsmall":"tv-circle-logo-pair__logo--xxsmall-ocURKVwI","tv-circle-logo-pair__logo--xsmall":"tv-circle-logo-pair__logo--xsmall-ocURKVwI","tv-circle-logo-pair__logo--small":"tv-circle-logo-pair__logo--small-ocURKVwI","tv-circle-logo-pair__logo--medium":"tv-circle-logo-pair__logo--medium-ocURKVwI","tv-circle-logo-pair__logo--large":"tv-circle-logo-pair__logo--large-ocURKVwI","tv-circle-logo-pair__logo--xlarge":"tv-circle-logo-pair__logo--xlarge-ocURKVwI","tv-circle-logo-pair__logo--xxlarge":"tv-circle-logo-pair__logo--xxlarge-ocURKVwI","tv-circle-logo-pair__logo--xxxlarge":"tv-circle-logo-pair__logo--xxxlarge-ocURKVwI","tv-circle-logo-pair__logo-empty":"tv-circle-logo-pair__logo-empty-ocURKVwI"}},703756:e=>{e.exports={"intent-default":"intent-default-EZuD3gZZ","intent-danger":"intent-danger-EZuD3gZZ","intent-warning":"intent-warning-EZuD3gZZ","intent-success":"intent-success-EZuD3gZZ","intent-neutral":"intent-neutral-EZuD3gZZ","intent-neutral-light":"intent-neutral-light-EZuD3gZZ","icon-wrapper-size-small":"icon-wrapper-size-small-EZuD3gZZ","icon-wrapper-size-medium":"icon-wrapper-size-medium-EZuD3gZZ","icon-wrapper-size-large":"icon-wrapper-size-large-EZuD3gZZ","icon-wrapper":"icon-wrapper-EZuD3gZZ",icon:"icon-EZuD3gZZ"}},45572:e=>{e.exports={arrow:"arrow-uDVcbwtB"}},143101:e=>{e.exports={description:"description-dQscsfnR","with-select":"with-select-dQscsfnR","description-strong":"description-strong-dQscsfnR","size-xsmall":"size-xsmall-dQscsfnR"}},764480:e=>{e.exports={"numbers-wrapper":"numbers-wrapper-KCq6gqzR","fake-numbers":"fake-numbers-KCq6gqzR",dots:"dots-KCq6gqzR","fake-numbers-inner":"fake-numbers-inner-KCq6gqzR",numbers:"numbers-KCq6gqzR",compact:"compact-KCq6gqzR","numbers-end-slot":"numbers-end-slot-KCq6gqzR",number:"number-KCq6gqzR","size-xsmall":"size-xsmall-KCq6gqzR","size-small":"size-small-KCq6gqzR","size-medium":"size-medium-KCq6gqzR","position-center":"position-center-KCq6gqzR","description-position-center":"description-position-center-KCq6gqzR"}},729829:e=>{e.exports={pagination:"pagination-iiQKH8Zr","pagination-group":"pagination-group-iiQKH8Zr",select:"select-iiQKH8Zr","compact-middle-slot":"compact-middle-slot-iiQKH8Zr"}},691504:e=>{e.exports={scrollWrap:"scrollWrap-FaOvTD2r"}},660591:e=>{e.exports={wrap:"wrap-vSb6C0Bj","wrap--horizontal":"wrap--horizontal-vSb6C0Bj",bar:"bar-vSb6C0Bj",barInner:"barInner-vSb6C0Bj","barInner--horizontal":"barInner--horizontal-vSb6C0Bj","bar--horizontal":"bar--horizontal-vSb6C0Bj"}},999086:e=>{e.exports={container:"container-yrIMi47q",title:"title-yrIMi47q",title_normal:"title_normal-yrIMi47q",icon:"icon-yrIMi47q",text:"text-yrIMi47q",text_large:"text_large-yrIMi47q",action:"action-yrIMi47q"}},866841:e=>{e.exports={"icon-wrapper":"icon-wrapper-dikdewwx","with-link":"with-link-dikdewwx","with-tooltip":"with-tooltip-dikdewwx","no-active-state":"no-active-state-dikdewwx"}},58128:e=>{e.exports={checkbox:"checkbox-aOSYFxuH"}},808667:e=>{e.exports={icon:"icon-vDz9Zwc6",toolboxLabel:"toolboxLabel-vDz9Zwc6"}},609166:e=>{e.exports={
"square-tab-button":"square-tab-button-huvpscfz",selected:"selected-huvpscfz","disable-active-state-styles":"disable-active-state-styles-huvpscfz","disable-focus-outline":"disable-focus-outline-huvpscfz","size-xlarge":"size-xlarge-huvpscfz","tab-hidden-content":"tab-hidden-content-huvpscfz","size-medium":"size-medium-huvpscfz","size-small":"size-small-huvpscfz","size-xsmall":"size-xsmall-huvpscfz",fake:"fake-huvpscfz",content:"content-huvpscfz","tab-content":"tab-content-huvpscfz"}},877802:e=>{e.exports={"arrow-icon":"arrow-icon-nV6fm1zO",dropped:"dropped-nV6fm1zO"}},299769:e=>{e.exports={"css-value-square-tabs-xsmall-gap":"4px","css-value-square-tabs-small-gap":"8px","css-value-square-tabs-medium-gap":"12px","css-value-square-tabs-xlarge-gap":"12px"}},395848:e=>{e.exports={"css-value-square-tabs-xsmall-gap":"4px","css-value-square-tabs-small-gap":"8px","css-value-square-tabs-medium-gap":"12px","css-value-square-tabs-xlarge-gap":"12px","scroll-wrap":"scroll-wrap-mf1FlhVw","enable-scroll":"enable-scroll-mf1FlhVw","square-tabs":"square-tabs-mf1FlhVw",content:"content-mf1FlhVw","size-xsmall":"size-xsmall-mf1FlhVw","square-tab-button":"square-tab-button-mf1FlhVw","end-slot-wrap":"end-slot-wrap-mf1FlhVw","size-small":"size-small-mf1FlhVw","size-medium":"size-medium-mf1FlhVw","size-xlarge":"size-xlarge-mf1FlhVw"}},959189:(e,t,i)=>{"use strict";function s(e,t){return t||null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}i.d(t,{isIconOnly:()=>s})},898237:(e,t,i)=>{"use strict";i.d(t,{LightAnchorButton:()=>p,LightButton:()=>o.LightButton});var s=i(418920),o=i(943158),n=i(50959),r=i(591365),a=i(273388),l=i(854797),c=i(729075),u=i.n(c),d=i(262978),h=i.n(d);function p(e){const{className:t,isSelected:i,children:o,iconOnly:c,ellipsis:d,showCaret:p,forceDirection:m,endSlot:g,startSlot:b,color:v,variant:_,reference:f,size:w,enableActiveStateStyles:C,renderComponent:y=r.CustomComponentDefaultLink,typography:x,textWrap:E=!1,maxLines:S,style:P={},isActive:k,isPills:D,...T}=e,I=E?null!=S?S:2:1,F=I>0?{...P,"--ui-lib-light-button-content-max-lines":I}:P;return n.createElement(y,{...T,className:(0,s.useLightButtonClasses)({...h(),...u()},{className:t,isSelected:i,isActive:k,isPills:D,children:o,iconOnly:c,showCaret:p,forceDirection:m,color:v,variant:_,size:w,enableActiveStateStyles:C,typography:x,textWrap:E,isLink:!0,endSlot:g,startSlot:b}),reference:(0,a.isomorphicRef)(f),style:F},n.createElement(l.LightButtonContent,{showCaret:p,isActiveCaret:p&&(D||k||i),iconOnly:c,ellipsis:d,textWrap:E,endSlot:g,startSlot:b},o))}i(15378)},418920:(e,t,i)=>{"use strict";i.d(t,{useLightButtonClasses:()=>c});var s=i(50959),o=i(497754),n=i(234539),r=i(959189),a=i(380327);const l=s.createContext({isInButtonGroup:!1,isGroupPrimary:!1}),c=(e,t,i)=>{const c=(0,
s.useContext)(n.CustomBehaviourContext),{className:u,isSelected:d,children:h,showCaret:p,forceDirection:m,iconOnly:g,color:b="gray",variant:v="primary",size:_="medium",enableActiveStateStyles:f=c.enableActiveStateStyles,typography:w,isLink:C=!1,textWrap:y,isPills:x,isActive:E,startSlot:S,endSlot:P}=t,k=e[`typography-${((e,t,i)=>{if(i){const e=i.replace(/^\D+/g,"");return t?`semibold${e}`:i}switch(e){case"xsmall":return t?"semibold14px":"regular14px";case"small":case"medium":return t?"semibold16px":"regular16px";default:return""}})(_,d||x,w||void 0)}`],D=(0,s.useContext)(a.ControlGroupContext),{isInButtonGroup:T,isGroupPrimary:I}=(0,s.useContext)(l);return o(u,e.lightButton,C&&e.link,E&&e.active,d&&e.selected,(0,r.isIconOnly)(h,g)&&e.noContent,!!S&&e.withStartSlot,(p||!!P)&&e.withEndSlot,i&&e.withGrouped,m&&e[m],e[I?"primary":v],e[I?"gray":b],e[_],k,!f&&e.disableActiveStateStyles,D.isGrouped&&e.grouped,y&&e.wrap,T&&e.disableActiveOnTouch,x&&e.pills)}},854797:(e,t,i)=>{"use strict";i.d(t,{LightButtonContent:()=>d});var s=i(50959),o=i(497754),n=i(601198),r=i(959189),a=i(72571),l=i(602948),c=i(729075),u=i.n(c);function d(e){const{showCaret:t,iconOnly:i,ellipsis:c=!0,textWrap:d,tooltipText:h,children:p,endSlot:m,startSlot:g,isActiveCaret:b}=e;[m,t].filter((e=>!!e));return s.createElement(s.Fragment,null,g&&s.createElement("span",{className:o(u().slot,u().startSlot)},g),!(0,r.isIconOnly)(p,i)&&s.createElement("span",{className:o(u().content,!d&&u().nowrap,"apply-overflow-tooltip","apply-overflow-tooltip--check-children-recursively","apply-overflow-tooltip--allow-text"),"data-overflow-tooltip-text":null!=h?h:(0,n.getTextForTooltip)(p)},d||c?s.createElement(s.Fragment,null,s.createElement("span",{className:o(!d&&c&&u().ellipsisContainer,d&&u().textWrapContainer,d&&c&&u().textWrapWithEllipsis)},p),s.createElement("span",{className:u().visuallyHidden,"aria-hidden":!0},p)):s.createElement(s.Fragment,null,p,s.createElement("span",{className:u().visuallyHidden,"aria-hidden":!0},p))),m&&s.createElement("span",{className:o(u().slot,u().endSlot)},m),t&&(e=>s.createElement(a.Icon,{className:o(u().caret,e&&u().activeCaret),icon:l}))(b))}},943158:(e,t,i)=>{"use strict";i.d(t,{LightButton:()=>d});var s=i(50959),o=i(380327),n=i(418920),r=i(854797),a=i(729075),l=i.n(a),c=i(262978),u=i.n(c);function d(e){const{isGrouped:t}=s.useContext(o.ControlGroupContext),{reference:i,className:a,isSelected:c,children:d,iconOnly:h,ellipsis:p,showCaret:m,forceDirection:g,endSlot:b,startSlot:v,color:_,variant:f,size:w,enableActiveStateStyles:C,typography:y,textWrap:x=!1,maxLines:E,style:S={},isPills:P,isActive:k,tooltipText:D,role:T,...I}=e,F=x?null!=E?E:2:1,M=F>0?{...S,"--ui-lib-light-button-content-max-lines":F}:S;return s.createElement("button",{...I,className:(0,n.useLightButtonClasses)({...u(),...l()},{className:a,isSelected:c,children:d,iconOnly:h,showCaret:m,forceDirection:g,endSlot:b,startSlot:v,color:_,variant:f,size:w,enableActiveStateStyles:C,typography:y,textWrap:x,isPills:P,isActive:k},t),ref:i,style:M,role:T
},s.createElement(r.LightButtonContent,{showCaret:m,isActiveCaret:m&&(P||k||c),iconOnly:h,ellipsis:p,textWrap:x,tooltipText:D,endSlot:b,startSlot:v},d))}},408323:(e,t,i)=>{"use strict";i.d(t,{CheckboxInput:()=>c});var s=i(50959),o=i(497754),n=i(800417),r=i(611031),a=i(957723),l=i.n(a);function c(e){const t=o(l().wrapper,e.className);return s.createElement("span",{className:t,title:e.title,style:e.style},s.createElement("input",{id:e.id,tabIndex:e.tabIndex,className:o(e.intent&&l()[e.intent],l().input),type:"checkbox",name:e.name,checked:e.checked,disabled:e.disabled,value:e.value,autoFocus:e.autoFocus,role:e.role,onChange:function(){var t;null===(t=e.onChange)||void 0===t||t.call(e,e.value)},ref:e.reference,"aria-required":e["aria-required"],"aria-describedby":e["aria-describedby"],"aria-invalid":e["aria-invalid"],...(0,n.filterDataProps)(e)}),s.createElement(r.CheckboxView,{className:l().view,indeterminate:e.indeterminate,checked:e.checked,disabled:e.disabled,intent:e.intent,tabIndex:e.tabIndex}))}},611031:(e,t,i)=>{"use strict";i.d(t,{CheckboxView:()=>c});var s=i(50959),o=i(497754),n=i(72571),r=i(465890),a=i(431542),l=i.n(a);function c(e){const{indeterminate:t,checked:i,tabIndex:a,className:c,disabled:u,disableActiveStyles:d,intent:h,hideIcon:p,...m}=e,g=t||!i||p?"":r,b=o(l().box,l()[`intent-${h}`],!t&&l().check,!!t&&l().dot,-1===a&&l().noOutline,c,i&&l().checked,u&&l().disabled,d&&l().disableActiveStyles);return s.createElement("span",{className:b,...m},s.createElement(n.Icon,{icon:g,className:l().icon}))}},302946:(e,t,i)=>{"use strict";i.d(t,{Checkbox:()=>c});var s=i(50959),o=i(497754),n=i(230789),r=i(408323),a=i(822306),l=i.n(a);class c extends s.PureComponent{render(){const{inputClassName:e,labelClassName:t,...i}=this.props,n=o(this.props.className,l().checkbox,{[l().reverse]:Boolean(this.props.labelPositionReverse),[l().baseline]:Boolean(this.props.labelAlignBaseline)}),a=o(l().label,t,{[l().disabled]:this.props.disabled});let c=null;return this.props.label&&(c=s.createElement("span",{className:a,title:this.props.title},this.props.label)),s.createElement("label",{className:n},s.createElement(r.CheckboxInput,{...i,className:e}),c)}}c.defaultProps={value:"on"};(0,n.makeSwitchGroupItem)(c);i(611031)},108937:(e,t,i)=>{"use strict";i.d(t,{getBlockStyleClasses:()=>r,getLogoStyleClasses:()=>a});var s=i(497754),o=i(744576),n=i.n(o);function r(e,t){return s(n()["tv-circle-logo-pair"],n()[`tv-circle-logo-pair--${e}`],t)}function a(e,t=!0){return s(n()["tv-circle-logo-pair__logo"],n()[`tv-circle-logo-pair__logo--${e}`],!t&&n()["tv-circle-logo-pair__logo-empty"])}},234539:(e,t,i)=>{"use strict";i.d(t,{CustomBehaviourContext:()=>s});const s=(0,i(50959).createContext)({enableActiveStateStyles:!0});s.displayName="CustomBehaviourContext"},813550:(e,t,i)=>{"use strict";i.d(t,{useForceUpdate:()=>o});var s=i(50959);const o=()=>{const[,e]=(0,s.useReducer)((e=>e+1),0);return e}},975228:(e,t,i)=>{"use strict";i.d(t,{hoverMouseEventFilter:()=>n,useAccurateHover:()=>r,useHover:()=>o});var s=i(50959);function o(){const[e,t]=(0,
s.useState)(!1);return[e,{onMouseOver:function(e){n(e)&&t(!0)},onMouseOut:function(e){n(e)&&t(!1)}}]}function n(e){return!e.currentTarget.contains(e.relatedTarget)}function r(e){const[t,i]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{const t=t=>{if(null===e.current)return;const s=e.current.contains(t.target);i(s)};return document.addEventListener("mouseover",t),()=>document.removeEventListener("mouseover",t)}),[]),t}},252130:(e,t,i)=>{"use strict";i.d(t,{useIsMounted:()=>o});var s=i(50959);const o=()=>{const e=(0,s.useRef)(!1);return(0,s.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},230789:(e,t,i)=>{"use strict";i.d(t,{SwitchGroup:()=>r,makeSwitchGroupItem:()=>a});var s=i(50959),o=i(174786);const n=(0,s.createContext)({getName:()=>"",getValues:()=>[],getOnChange:()=>o.default,subscribe:o.default,unsubscribe:o.default});class r extends s.PureComponent{constructor(e){super(e),this._subscriptions=new Set,this._getName=()=>this.props.name,this._getValues=()=>this.props.values,this._getOnChange=()=>this.props.onChange,this._subscribe=e=>{this._subscriptions.add(e)},this._unsubscribe=e=>{this._subscriptions.delete(e)},this.state={switchGroupContext:{getName:this._getName,getValues:this._getValues,getOnChange:this._getOnChange,subscribe:this._subscribe,unsubscribe:this._unsubscribe}}}render(){return s.createElement(n.Provider,{value:this.state.switchGroupContext},this.props.children)}componentDidUpdate(e){this._notify(this._getUpdates(this.props.values,e.values))}_notify(e){this._subscriptions.forEach((t=>t(e)))}_getUpdates(e,t){return[...t,...e].filter((i=>t.includes(i)?!e.includes(i):e.includes(i)))}}function a(e){var t;return t=class extends s.PureComponent{constructor(){super(...arguments),this._onChange=e=>{this.context.getOnChange()(e)},this._onUpdate=e=>{e.includes(this.props.value)&&this.forceUpdate()}}componentDidMount(){this.context.subscribe(this._onUpdate)}render(){return s.createElement(e,{...this.props,name:this._getName(),onChange:this._onChange,checked:this._isChecked()})}componentWillUnmount(){this.context.unsubscribe(this._onUpdate)}_getName(){return this.context.getName()}_isChecked(){return this.context.getValues().includes(this.props.value)}},t.contextType=n,t}},298563:(e,t,i)=>{"use strict";i.d(t,{useTabsMainHandlers:()=>p});var s=i(50959),o=i(269842),n=i(118965),r=i(586240),a=i(671129);var l=i(429510),c=i(984164),u=i(772069),d=i(525388),h=i(865968);function p(e,t,i){const{id:p,items:m,activationType:g,orientation:b,disabled:v,onActivate:_,isActive:f,overflowBehaviour:w,enableActiveStateStyles:C,tablistLabelId:y,tablistLabel:x}=t,E=(0,n.useMobileTouchState)(),S=function(e){const t=(0,a.useSafeMatchMedia)(r["media-mf-phone-landscape"],!0),i=(0,n.useMobileTouchState)();return null!=e?e:i||!t?"scroll":"collapse"}(w),P=(0,s.useRef)(!1),k=(0,s.useCallback)((e=>e.id),[]),D=null!=C?C:!E,{visibleItems:T,hiddenItems:I,containerRefCallback:F,innerContainerRefCallback:M,moreButtonRef:N,setItemRef:R}=(0,l.useCollapsible)(m,k,f),A="collapse"===S?T:m,O=(0,
s.useMemo)((()=>"collapse"===S?I:[]),[S,I]),B=(0,s.useCallback)((e=>O.includes(e)),[O]),{isOpened:U,open:V,close:L,onButtonClick:z}=(0,u.useDisclosure)({id:p,disabled:v}),{tabsBindings:H,tablistBinding:W,scrollWrapBinding:j,onActivate:q,onHighlight:K,isHighlighted:G}=(0,c.useTabs)({id:p,items:[...A,...O],activationType:g,orientation:b,disabled:v,tablistLabelId:y,tablistLabel:x,scrollIntoViewOptions:i.scrollIntoViewOptions,onActivate:_,isActive:f,isCollapsed:B,isRtl:i.isRtl,isDisclosureOpened:U}),$=O.find(G),Z=(0,s.useCallback)((()=>{const e=m.find(f);e&&K(e)}),[K,f,m]),Q=(0,s.useCallback)((e=>H.find((t=>t.id===e.id))),[H]),Y=(0,s.useCallback)((()=>{L(),Z(),P.current=!0}),[L,Z]),X=(0,s.useCallback)((()=>{$&&(q($),K($,250))}),[q,K,$]);j.ref=(0,d.useMergedRefs)([j.ref,F]),W.ref=(0,d.useMergedRefs)([W.ref,M]),W.onKeyDown=(0,o.createSafeMulticastEventHandler)((0,h.useKeyboardEventHandler)([(0,h.useKeyboardClose)(U,Y),(0,h.useKeyboardActionHandler)([13,32],X,(0,s.useCallback)((()=>Boolean($)),[$]))]),W.onKeyDown);const J=(0,s.useCallback)((e=>{P.current=!0,z(e)}),[P,z]),ee=(0,s.useCallback)((e=>{e&&q(e)}),[q]);return(0,s.useEffect)((()=>{P.current?P.current=!1:($&&!U&&V(),!$&&U&&L())}),[$,U,V,L]),{enableActiveStateStyles:D,moreButtonRef:N,setItemRef:R,getBindings:Q,handleMoreButtonClick:J,handleCollapsedItemClick:ee,scrollWrapBinding:j,overflowBehaviour:S,tablistBinding:W,visibleTabs:A,hiddenTabs:O,handleActivate:q,isMobileTouch:E,getItemId:k,isDisclosureOpened:U,isHighlighted:G,closeDisclosure:L}}},247465:(e,t,i)=>{"use strict";i.d(t,{isCancelled:()=>n,makeCancelable:()=>o});class s extends Error{constructor(){super("CancelToken")}}function o(e){let t=!1;return{promise:new Promise(((i,o)=>{e.then((e=>t?o(new s):i(e))),e.catch((e=>o(t?new s:e)))})),cancel(){t=!0}}}function n(e){return e instanceof s}},868333:(e,t,i)=>{"use strict";var s;i.d(t,{LogoSize:()=>s,getLogoUrlResolver:()=>r}),function(e){e[e.Medium=0]="Medium",e[e.Large=1]="Large"}(s||(s={}));class o{getSymbolLogoUrl(e){return e}getCountryFlagUrl(){return""}getCryptoLogoUrl(e){return e}getProviderLogoUrl(e){return e}getSourceLogoUrl(e){return e}getBlockchainContractLogoUrl(e){return e}}let n;function r(){return n||(n=new o),n}},73288:(e,t,i)=>{"use strict";i.d(t,{OverlayScrollContainer:()=>b});var s=i(50959),o=i(497754),n=i.n(o),r=i(431520),a=i(650151),l=i(822960);const c=i(660591);var u;!function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal",e[e.HorizontalRtl=2]="HorizontalRtl"}(u||(u={}));const d={0:{isHorizontal:!1,isNegative:!1,sizePropName:"height",minSizePropName:"minHeight",startPointPropName:"top",currentMousePointPropName:"clientY",progressBarTransform:"translateY"},1:{isHorizontal:!0,isNegative:!1,sizePropName:"width",minSizePropName:"minWidth",startPointPropName:"left",currentMousePointPropName:"clientX",progressBarTransform:"translateX"},2:{isHorizontal:!0,isNegative:!0,sizePropName:"width",minSizePropName:"minWidth",startPointPropName:"right",currentMousePointPropName:"clientX",progressBarTransform:"translateX"}},h=40;function p(e){
const{size:t,scrollSize:i,clientSize:o,scrollProgress:r,onScrollProgressChange:u,scrollMode:p,theme:m=c,onDragStart:g,onDragEnd:b,minBarSize:v=h}=e,_=(0,s.useRef)(null),f=(0,s.useRef)(null),[w,C]=(0,s.useState)(!1),y=(0,s.useRef)(0),{isHorizontal:x,isNegative:E,sizePropName:S,minSizePropName:P,startPointPropName:k,currentMousePointPropName:D,progressBarTransform:T}=d[p];(0,s.useEffect)((()=>{const e=(0,a.ensureNotNull)(_.current).ownerDocument;return w?(g&&g(),e&&(e.addEventListener("mousemove",U),e.addEventListener("mouseup",V))):b&&b(),()=>{e&&(e.removeEventListener("mousemove",U),e.removeEventListener("mouseup",V))}}),[w]);const I=t/i||0,F=o*I||0,M=Math.max(F,v),N=(t-M)/(t-F),R=i-t,A=E?-R:0,O=E?0:R,B=z((0,l.clamp)(r,A,O))||0;return s.createElement("div",{ref:_,className:n()(m.wrap,x&&m["wrap--horizontal"]),style:{[S]:t},onMouseDown:function(e){if(e.isDefaultPrevented())return;e.preventDefault();const t=L(e.nativeEvent,(0,a.ensureNotNull)(_.current)),i=Math.sign(t),s=(0,a.ensureNotNull)(f.current).getBoundingClientRect();y.current=i*s[S]/2;let o=Math.abs(t)-Math.abs(y.current);const n=z(R);o<0?(o=0,y.current=t):o>n&&(o=n,y.current=t-i*n);u(H(i*o)),C(!0)}},s.createElement("div",{ref:f,className:n()(m.bar,x&&m["bar--horizontal"]),style:{[P]:v,[S]:M,transform:`${T}(${B}px)`},onMouseDown:function(e){e.preventDefault(),y.current=L(e.nativeEvent,(0,a.ensureNotNull)(f.current)),C(!0)}},s.createElement("div",{className:n()(m.barInner,x&&m["barInner--horizontal"])})));function U(e){const t=L(e,(0,a.ensureNotNull)(_.current))-y.current;u(H(t))}function V(){C(!1)}function L(e,t){const i=t.getBoundingClientRect()[k];return e[D]-i}function z(e){return e*I*N}function H(e){return e/I/N}}var m=i(522224),g=i(691504);function b(e){const{reference:t,className:i,containerHeight:n=0,containerWidth:a=0,contentHeight:l=0,contentWidth:c=0,scrollPosTop:u=0,scrollPosLeft:d=0,onVerticalChange:h,onHorizontalChange:b,visible:v}=e,[_,f]=(0,m.useHover)(),[w,C]=(0,s.useState)(!1),y=n<l,x=a<c,E=y&&x?8:0;return s.createElement("div",{...f,ref:t,className:o(i,g.scrollWrap),style:{visibility:v||_||w?"visible":"hidden"}},y&&s.createElement(p,{size:n-E,scrollSize:l-E,clientSize:n-E,scrollProgress:u,onScrollProgressChange:function(e){h&&h(e)},onDragStart:S,onDragEnd:P,scrollMode:0}),x&&s.createElement(p,{size:a-E,scrollSize:c-E,clientSize:a-E,scrollProgress:d,onScrollProgressChange:function(e){b&&b(e)},onDragStart:S,onDragEnd:P,scrollMode:(0,r.isRtl)()?2:1}));function S(){C(!0)}function P(){C(!1)}}},904925:(e,t,i)=>{"use strict";i.d(t,{PopupMenuDisclosureView:()=>u});var s=i(50959),o=i(624216),n=i(650151);const r={x:0,y:0};function a(e,t,i){return(0,s.useCallback)((()=>function(e,t,{x:i=r.x,y:s=r.y}=r){const o=(0,n.ensureNotNull)(e).getBoundingClientRect(),a={x:o.left+i,y:o.top+o.height+s,indentFromWindow:{top:4,bottom:4,left:4,right:4}};return t&&(a.overrideWidth=o.width),a}(e.current,t,i)),[e,t])}var l=i(586240);const c=parseInt(l["size-header-height"]);function u(e){
const{button:t,popupChildren:i,buttonRef:n,listboxId:r,listboxClassName:l,listboxTabIndex:u,matchButtonAndListboxWidths:d,isOpened:h,scrollWrapReference:p,listboxReference:m,onClose:g,onOpen:b,onListboxFocus:v,onListboxBlur:_,onListboxKeyDown:f,listboxAria:w,repositionOnScroll:C=!0,closeOnHeaderOverlap:y=!1,popupPositionCorrection:x={x:0,y:0},popupPosition:E}=e,S=a(n,d,x),P=y?c:0;return s.createElement(s.Fragment,null,t,s.createElement(o.PopupMenu,{...w,id:r,className:l,tabIndex:u,isOpened:h,position:E||S,repositionOnScroll:C,onClose:g,onOpen:b,doNotCloseOn:n.current,reference:m,scrollWrapReference:p,onFocus:v,onBlur:_,onKeyDown:f,closeOnScrollOutsideOffset:P},i))}},892412:(e,t,i)=>{"use strict";i.d(t,{useDisclosure:()=>s.useDisclosure});var s=i(772069)},662941:(e,t,i)=>{"use strict";i.d(t,{EmptyStateBlock:()=>l});var s=i(50959),o=i(497754),n=i.n(o),r=i(999086);function a(e){const{title:t,tagName:i,titleSize:o}=e,a=i||"strong";return s.createElement(a,{className:n()(r.title,r[`title_${o}`])},t)}function l(e){return s.createElement("div",{className:o(r.container,e.className)},s.createElement("div",{className:o(r.icon,e.iconClass)}),e.title&&s.createElement(a,{title:e.title,titleSize:e.titleSize,tagName:e.titleTagName}),e.text&&s.createElement("div",{className:o(r.text,"large"===e.textSize&&r.text_large)},e.text),e.action&&s.createElement("div",{className:r.action},e.action))}},953517:(e,t,i)=>{"use strict";i.d(t,{useKeyboardActionHandler:()=>s.useKeyboardActionHandler,useKeyboardClose:()=>s.useKeyboardClose,useKeyboardEventHandler:()=>s.useKeyboardEventHandler,useKeyboardOpen:()=>s.useKeyboardOpen,useKeyboardToggle:()=>s.useKeyboardToggle});var s=i(865968)},585938:(e,t,i)=>{"use strict";i.d(t,{useForceUpdate:()=>s.useForceUpdate});var s=i(813550)},522224:(e,t,i)=>{"use strict";i.d(t,{hoverMouseEventFilter:()=>s.hoverMouseEventFilter,useAccurateHover:()=>s.useAccurateHover,useHover:()=>s.useHover});var s=i(975228)},737402:(e,t,i)=>{"use strict";i.d(t,{useSafeMatchMedia:()=>s.useSafeMatchMedia});var s=i(671129)},661851:(e,t,i)=>{"use strict";i.d(t,{useObservable:()=>n,useObservableSubscription:()=>o});var s=i(50959);function o(e,t){(0,s.useEffect)((()=>{const i=e.subscribe(t);return()=>i.unsubscribe()}),[e,t])}function n(e,t){const i=(0,s.useCallback)(void 0!==t?()=>t:()=>{let t;return e.subscribe((e=>{t=e})).unsubscribe(),t},[t,e]),[n,r]=(0,s.useState)(i),a=(0,s.useCallback)((e=>r((()=>e))),[r]);return o(e,a),n}},139043:(e,t,i)=>{"use strict";i.d(t,{useOverlayScroll:()=>l});var s=i(50959),o=i(650151),n=i(522224),r=i(601227);const a={onMouseOver:()=>{},onMouseOut:()=>{}};function l(e,t=r.CheckMobile.any()){const i=(0,s.useRef)(null),l=e||(0,s.useRef)(null),[c,u]=(0,n.useHover)(),[d,h]=(0,s.useState)({reference:i,containerHeight:0,containerWidth:0,contentHeight:0,contentWidth:0,scrollPosTop:0,scrollPosLeft:0,onVerticalChange:function(e){h((t=>({...t,scrollPosTop:e}))),(0,o.ensureNotNull)(l.current).scrollTop=e},onHorizontalChange:function(e){h((t=>({...t,scrollPosLeft:e}))),(0,o.ensureNotNull)(l.current).scrollLeft=e},
visible:c}),p=(0,s.useCallback)((()=>{if(!l.current)return;const{clientHeight:e,scrollHeight:t,scrollTop:s,clientWidth:o,scrollWidth:n,scrollLeft:r}=l.current,a=i.current?i.current.offsetTop:0;h((i=>({...i,containerHeight:e-a,contentHeight:t-a,scrollPosTop:s,containerWidth:o,contentWidth:n,scrollPosLeft:r})))}),[]);function m(){h((e=>({...e,scrollPosTop:(0,o.ensureNotNull)(l.current).scrollTop,scrollPosLeft:(0,o.ensureNotNull)(l.current).scrollLeft})))}return(0,s.useEffect)((()=>{c&&p(),h((e=>({...e,visible:c})))}),[c]),(0,s.useEffect)((()=>{const e=l.current;return e&&e.addEventListener("scroll",m),()=>{e&&e.removeEventListener("scroll",m)}}),[l]),[d,t?a:u,l,p]}},683614:(e,t,i)=>{"use strict";i.d(t,{useVisibility:()=>o});var s=i(50959);function o(e,t,i){(0,s.useEffect)((()=>{const s=new IntersectionObserver((e=>{e[e.length-1].intersectionRatio<.25?i():t()}),{threshold:[0,.25,.5,.75,1],root:null,rootMargin:"0px"});return e.current&&s.observe(e.current),()=>s.disconnect()}),[])}},297265:(e,t,i)=>{"use strict";i.d(t,{useWatchedValueReadonly:()=>o});var s=i(50959);const o=(e,t=!1)=>{const i="watchedValue"in e?e.watchedValue:void 0,o="defaultValue"in e?e.defaultValue:e.watchedValue.value(),[n,r]=(0,s.useState)(i?i.value():o);return(t?s.useLayoutEffect:s.useEffect)((()=>{if(i){r(i.value());const e=e=>r(e);return i.subscribe(e),()=>i.unsubscribe(e)}return()=>{}}),[i]),n}},187962:(e,t,i)=>{"use strict";i.d(t,{IconQuestionInformation:()=>D});var s,o=i(50959),n=i(497754),r=i(800417),a=i(72571),l=i(482353),c=i(527941),u=i(499084),d=i(530162),h=i(703756),p=i.n(h);!function(e){e.Small="small",e.Medium="medium",e.Large="large"}(s||(s={}));const m="small";var g,b;!function(e){e.Default="default",e.Danger="danger",e.Warning="warning",e.Success="success",e.Neutral="neutral",e.NeutralLight="neutral-light"}(g||(g={})),function(e){e.Info="info",e.Question="question",e.Check="check",e.Exclamation="exclamation"}(b||(b={}));const v={info:c,question:l,check:u,exclamation:d},_=o.forwardRef(((e,t)=>o.createElement("span",{...e,ref:t,className:n(e.className,p()["no-active-state"])}))),f=o.forwardRef(((e,t)=>{var i;const{icon:s="exclamation",intent:l="default",ariaLabel:c,tooltip:u,className:d,renderComponent:h=_,tabIndex:g=0,size:b=m,onFocus:f,onBlur:w,onClick:C,...y}=e,x=null!==(i=v[s])&&void 0!==i?i:s;return o.createElement(h,{className:n(d,p()["icon-wrapper"],p()[`intent-${l}`],p()[`icon-wrapper-size-${b}`]),title:u,"aria-label":c,ref:t,tabIndex:g,onFocus:f,onBlur:w,onClick:C,...(0,r.filterDataProps)(y)},o.createElement(a.Icon,{"aria-hidden":!0,icon:x,className:p().icon}))}));var w=i(804395);var C=i(718736);function y(e,t=null){const{showTooltip:i,hideTooltip:s,onClick:n,doNotShowTooltipOnTouch:r=!1}=e,a=(0,C.useFunctionalRefObject)(t),l=function(){const[e,t]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{t(w.mobiletouch)}),[]),e}(),c=l&&r?void 0:e.tooltip;(0,o.useEffect)((()=>{const e=()=>s&&s();return document.addEventListener("scroll",e,!0),()=>document.removeEventListener("scroll",e,!0)}),[a,s]);return{onBlur:(0,o.useCallback)((e=>{
s&&s()}),[s]),onFocus:(0,o.useCallback)((e=>{!e.target.matches(":hover")&&i&&e.target.matches(":focus-visible")&&i(e.currentTarget,{tooltipDelay:200})}),[i]),onClick:(0,o.useCallback)((e=>{var t;l&&(null===(t=null==a?void 0:a.current)||void 0===t||t.focus()),n&&n(e)}),[n,a,l]),tooltip:c,className:void 0!==c?"apply-common-tooltip":void 0,ref:a}}var x=i(744471),E=i(866841),S=i.n(E);function P(){document.removeEventListener("scroll",P),document.removeEventListener("touchstart",P),document.removeEventListener("mouseout",P),(0,x.hide)()}const k=e=>{(0,x.showOnElement)(e.currentTarget,{tooltipDelay:0}),document.addEventListener("scroll",P),document.addEventListener("touchstart",P),document.addEventListener("mouseout",P)},D=(0,o.forwardRef)(((e,t)=>{const{className:i,onClick:s=k,doNotShowTooltipOnTouch:r,size:a,...l}=e,{tooltip:c,className:u,...d}=y({tooltip:e.tooltip,doNotShowTooltipOnTouch:!1,showTooltip:x.showOnElement,hideTooltip:x.hide,onClick:s},t);return o.createElement(f,{className:n(i,S()["icon-wrapper"],c&&S()["with-tooltip"],u),tooltip:c,size:a,...l,...d})}));(0,o.forwardRef)(((e,t)=>{const{className:i,href:s,rel:r,target:a,...l}=e,c=(0,o.useMemo)((()=>(0,o.forwardRef)(((e,t)=>o.createElement("a",{href:s,rel:r,target:a,ref:t,...e})))),[s,r,a]);return o.createElement(D,{...l,className:n(i,S()["with-link"]),renderComponent:c,ref:t,doNotShowTooltipOnTouch:!0})})),(0,o.forwardRef)(((e,t)=>{const{className:i,withActiveState:s,...r}=e,a=(0,o.useMemo)((()=>(0,o.forwardRef)(((e,t)=>o.createElement("button",{...e,ref:t,type:"button"})))),[]);return o.createElement(D,{...r,className:n(i,!s&&S()["no-active-state"]),renderComponent:a,ref:t})}))},379266:(e,t,i)=>{"use strict";i.d(t,{PopupMenuItemToggle:()=>l});var s=i(50959),o=i(497754),n=i(192063),r=i(302946),a=i(58128);function l(e){const{isDisabled:t,hint:i,label:l,isChecked:c,checkboxClassName:u,labelClassName:d,indeterminate:h,isActive:p,checkboxTabIndex:m,checkboxReference:g,checkboxDataRole:b,...v}=e;return s.createElement(n.PopupMenuItem,{...v,isDisabled:t,shortcut:i,dontClosePopup:!0,labelRowClassName:d,label:s.createElement(r.Checkbox,{reference:g,disabled:t,label:l,checked:c,indeterminate:h,className:o(a.checkbox,u),tabIndex:m,"data-role":b})})}},730743:(e,t,i)=>{"use strict";i.d(t,{calcSubMenuPos:()=>o});var s=i(431520);function o(e,t,i={x:0,y:10}){if(t){const{left:i,right:o,top:n}=t.getBoundingClientRect(),r=document.documentElement.clientWidth,a={x:i-e,y:n},l={x:o,y:n};return(0,s.isRtl)()?i<=e?l:a:r-o>=e?l:a}return i}},493173:(e,t,i)=>{"use strict";function s(e,t,i={}){return Object.assign({},e,function(e,t,i={}){const s=Object.assign({},t);for(const o of Object.keys(t)){const n=i[o]||o;n in e&&(s[o]=[e[n],t[o]].join(" "))}return s}(e,t,i))}i.d(t,{mergeThemes:()=>s})},277859:e=>{e.exports={wrapper:"wrapper-q2xHBwCG",labelWrapper:"labelWrapper-q2xHBwCG",labelAccountName:"labelAccountName-q2xHBwCG",labelInfo:"labelInfo-q2xHBwCG",accountBadge:"accountBadge-q2xHBwCG",accountBadgeWrapper:"accountBadgeWrapper-q2xHBwCG",currencyMenuItem:"currencyMenuItem-q2xHBwCG",
active:"active-q2xHBwCG",summary:"summary-q2xHBwCG",dropdownButton:"dropdownButton-q2xHBwCG",popup:"popup-q2xHBwCG",removeMargins:"removeMargins-q2xHBwCG",hintPlaceholder:"hintPlaceholder-q2xHBwCG",content:"content-q2xHBwCG",singleItemDropdownWrapper:"singleItemDropdownWrapper-q2xHBwCG",accountName:"accountName-q2xHBwCG",currency:"currency-q2xHBwCG"}},323575:e=>{e.exports={wrapper:"wrapper-sS0Eevbl",popup:"popup-sS0Eevbl",brokerDropdownWrapper:"brokerDropdownWrapper-sS0Eevbl",brokerDropdownMobileWrapper:"brokerDropdownMobileWrapper-sS0Eevbl",betaBadgeWrapper:"betaBadgeWrapper-sS0Eevbl"}},634937:e=>{e.exports={toggle:"toggle-NYDT3E70",label:"label-NYDT3E70"}},844972:e=>{e.exports={dropdownButton:"dropdownButton-NgHNzdZC",bigIcon:"bigIcon-NgHNzdZC"}},826971:e=>{e.exports={headerWrapper:"headerWrapper-gktKXRGi",withoutDropdowns:"withoutDropdowns-gktKXRGi",brokerBlock:"brokerBlock-gktKXRGi",betaBadge:"betaBadge-gktKXRGi"}},392999:e=>{e.exports={accountSummaryField:"accountSummaryField-jRGFBLDP",value:"value-jRGFBLDP",title:"title-jRGFBLDP"}},434081:e=>{e.exports={accountSummaryRow:"accountSummaryRow-p0GW1i2G",addMargin:"addMargin-p0GW1i2G"}},823065:e=>{e.exports={count:"count-jY_kTdIW",tabs:"tabs-jY_kTdIW"}},366492:e=>{e.exports={accountManager:"accountManager-RYOkdllU",topPanel:"topPanel-RYOkdllU",secondaryPanel:"secondaryPanel-RYOkdllU",content:"content-RYOkdllU",page:"page-RYOkdllU",active:"active-RYOkdllU",popup:"popup-RYOkdllU",mobile:"mobile-RYOkdllU"}},322317:e=>{e.exports={pageContainer:"pageContainer-NWiOUge8"}},29374:e=>{e.exports={stretch:"stretch-jequK3xK"}},401444:e=>{e.exports={title:"title-qCE0lhBm",hidden:"hidden-qCE0lhBm"}},251458:e=>{e.exports={container:"container-UePCJPvY",sticky:"sticky-UePCJPvY"}},722325:e=>{e.exports={menuButton:"menuButton-mNpEpVYL",icon:"icon-mNpEpVYL",label:"label-mNpEpVYL",checkBox:"checkBox-mNpEpVYL"}},285336:e=>{e.exports={message:"message-p5eTSZ4Q",iconQuestionInformation:"iconQuestionInformation-p5eTSZ4Q"}},819224:e=>{e.exports={wrapper:"wrapper-oHlQhto0",icon:"icon-oHlQhto0",editIcon:"editIcon-oHlQhto0",buttons:"buttons-oHlQhto0"}},326589:e=>{e.exports={title:"title-DIAl4Kmu",titleContent:"titleContent-DIAl4Kmu",wrapper:"wrapper-DIAl4Kmu"}},666821:e=>{e.exports={container:"container-JKVA979k",logo:"logo-JKVA979k",gap:"gap-JKVA979k",tickerAndDescriptionWrapper:"tickerAndDescriptionWrapper-JKVA979k",textWrapper:"textWrapper-JKVA979k",title:"title-JKVA979k",description:"description-JKVA979k",tooltipIcon:"tooltipIcon-JKVA979k",messageInformer:"messageInformer-JKVA979k"}},555496:e=>{e.exports={title:"title-UBH3TM61"}},592871:e=>{e.exports={text:"text-8tRPX9tj"}},909740:e=>{e.exports={gray:"gray-Qz5vw9Wh",grey:"grey-Qz5vw9Wh",blue:"blue-Qz5vw9Wh",red:"red-Qz5vw9Wh",green:"green-Qz5vw9Wh",orange:"orange-Qz5vw9Wh"}},307452:e=>{e.exports={wrapper:"wrapper-scLCpJg_",currency:"currency-scLCpJg_"}},549421:e=>{e.exports={wrapper:"wrapper-HXba0ecm",rightAligned:"rightAligned-HXba0ecm",tooltipIcon:"tooltipIcon-HXba0ecm"}},633714:e=>{e.exports={wrapper:"wrapper-ukE5gIkU",
hiddenLabel:"hiddenLabel-ukE5gIkU",contentWrapper:"contentWrapper-ukE5gIkU",content:"content-ukE5gIkU",labelWrapper:"labelWrapper-ukE5gIkU",label:"label-ukE5gIkU",withPadding:"withPadding-ukE5gIkU",tooltipIcon:"tooltipIcon-ukE5gIkU"}},754177:e=>{e.exports={root:"root-Tu141ut0",tableHead:"tableHead-Tu141ut0",tableBody:"tableBody-Tu141ut0",table:"table-Tu141ut0",wrapper:"wrapper-Tu141ut0",headCell:"headCell-Tu141ut0",sortable:"sortable-Tu141ut0",headCellContent:"headCellContent-Tu141ut0",cell:"cell-Tu141ut0",capitalize:"capitalize-Tu141ut0",rightAlignedCell:"rightAlignedCell-Tu141ut0",cellContent:"cellContent-Tu141ut0",hideLabelOnMobile:"hideLabelOnMobile-Tu141ut0",hideCellOnMobile:"hideCellOnMobile-Tu141ut0",row:"row-Tu141ut0",lastRow:"lastRow-Tu141ut0",highlightedRow:"highlightedRow-Tu141ut0",leftFixedColumn:"leftFixedColumn-Tu141ut0",rightFixedColumn:"rightFixedColumn-Tu141ut0",inactiveRow:"inactiveRow-Tu141ut0",tableWrapper:"tableWrapper-Tu141ut0",noBouncingScroll:"noBouncingScroll-Tu141ut0",tableWrapperEmpty:"tableWrapperEmpty-Tu141ut0",isScrolled:"isScrolled-Tu141ut0",emptyStateBlock:"emptyStateBlock-Tu141ut0",emptyStateRow:"emptyStateRow-Tu141ut0",emptyStateCell:"emptyStateCell-Tu141ut0",paginationWrapper:"paginationWrapper-Tu141ut0"}},157050:e=>{e.exports={scrollContainer:"scrollContainer-QUmwCARl",scrollWrapper:"scrollWrapper-QUmwCARl"}},33335:e=>{e.exports={mobile:"screen and (max-width: 567px)"}},70587:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AccountManagerHeaderDropdowns:()=>v});var s=i(50959),o=i(497754),n=i.n(o),r=i(601227),a=i(628640),l=i(609838),c=i(192063),u=i(661851),d=i(679458),h=i(277859);l.t(null,void 0,i(271775));function p(e){const{showSettings:t,showLabel:i,children:o}=e;return t||i?s.createElement("div",{className:h.wrapper},o):s.createElement(s.Fragment,null,o)}function m(e){const{name:t,currency:o}=e;return s.createElement(s.Fragment,null,s.createElement("span",{className:h.accountName},`${l.t(null,void 0,i(386511))}: ${t}`),void 0!==o&&s.createElement("span",{className:h.currency},o))}function g(e){const{currentAccount$:t,accountsList:o,removeMargins:a,mode:g,accountSettingsInfo:b,createAccount:v,resetAccount:_,changeAccountSettings:f,deleteAccount:w,trackEvent:C,showErrorNotification:y,accountHintOptions:x}=e,E=(0,s.useRef)(null),S=(0,u.useObservable)(t);if(void 0===S)return s.createElement(s.Fragment,null);const P=0===g;if(1===o.length&&void 0===v)return s.createElement("span",{className:n()(h.content,P&&h.popup,h.singleItemDropdownWrapper)},s.createElement(m,{name:S.name,currency:S.currency}));const k=Boolean(!1),D=r.CheckMobile.any();return s.createElement(p,{showSettings:false,showLabel:k},s.createElement(d.ToolWidgetMenu,{ref:E,isDrawer:D,content:s.createElement("span",{className:n()(h.content,P&&h.popup)},s.createElement(m,{name:S.name,currency:S.currency}),!1),className:n()(h.dropdownButton,a&&h.removeMargins,P&&h.popup),title:l.t(null,void 0,i(231416)),"data-name":"account-selector",isShowTooltip:!0},o.map((e=>{const t=S.id===e.id;return s.createElement(c.PopupMenuItem,{key:e.id,
labelClassName:h.labelWrapper,isActive:t,label:s.createElement(s.Fragment,null,s.createElement("div",{className:h.labelAccountName},e.name),s.createElement("div",{className:h.labelInfo},!1,e.currency&&s.createElement("div",{className:n()(h.currencyMenuItem,t&&h.active)},e.currency))),onClick:()=>e.selectAccount()})})),!1),false,k&&s.createElement("div",{className:h.accountBadgeWrapper},void 0===S.labelLink?s.createElement(Badge,{className:h.accountBadge,size:BadgeSize.XSmall},S.label):s.createElement(AnchorBadge,{href:S.labelLink,title:S.labelTooltipText,className:n()("apply-common-tooltip",h.accountBadge),size:BadgeSize.XSmall,target:"_blank"},S.label)))}var b=i(323575);function v(e){const{brokerDropdownProps:t,accountDropdownProps:i,commonDropdownProps:o}=e,l=(r.CheckMobile.any()&&(null==t||t.isBeta),0===i.mode);return s.createElement("div",{className:n()(b.wrapper,l&&b.popup)},l?s.createElement("span",{className:b.brokerDropdownWrapper},"Account Manager"):s.createElement(s.Fragment,null),s.createElement(g,{...i}),!l&&s.createElement(a.TerminalDropdown,{...o}))}},628640:(e,t,i)=>{"use strict";i.d(t,{TerminalDropdown:()=>A});var s=i(50959),o=i(609838),n=i(497754),r=i.n(n),a=i(601227),l=i(72571),c=i(679458),u=i(155352),d=i(192063),h=i(669874);const p=s.lazy((async()=>({default:(await Promise.all([i.e(1419),i.e(7528),i.e(6625),i.e(3930),i.e(7001),i.e(7811),i.e(412),i.e(55),i.e(8073),i.e(8065),i.e(6665),i.e(6955),i.e(5391),i.e(9216),i.e(2985)]).then(i.bind(i,224511))).ExportDataDialogImpl})));function m(e){return s.createElement(s.Suspense,{fallback:null},s.createElement(p,{...e}))}var g=i(661851),b=i(379266),v=i(624216),_=i(759339),f=i(924910),w=i(972535),C=i(823030),y=i(522224),x=i(730743);var E=i(930052),S=i(808667),P=i(379978);function k(e){return s.createElement(E.MatchMedia,{rule:"screen and (max-width: 430px)"},(t=>t||e.forceUseDrawer?s.createElement(T,{...e}):s.createElement(I,{...e})))}function D(e){const{toolboxLabel:t,...i}=e;return s.createElement(d.PopupMenuItem,{toolbox:s.createElement(s.Fragment,null,t&&s.createElement("span",{className:S.toolboxLabel},t),s.createElement(l.Icon,{className:S.icon,icon:P})),suppressToolboxClick:!1,dontClosePopup:!0,...i})}function T(e){const{children:t,className:i,drawerClassName:o,menuItemTheme:n,label:r,icon:a,labelClassName:l,toolboxLabel:c}=e,[u,d]=(0,s.useState)(!1);return s.createElement(s.Fragment,null,s.createElement(D,{theme:n,label:r,toolboxLabel:c,icon:a,labelClassName:l,className:i,onClick:function(){d(!u)}}),u&&s.createElement(_.Drawer,{className:o,position:"Bottom",onClose:function(){d(!1)}},t))}function I(e){const{children:t,className:i,menuClassName:o,menuItemTheme:n,label:r,icon:a,labelClassName:l,toolboxLabel:c}=e,u=(0,s.useRef)((0,f.randomHash)()),d=(0,s.useRef)(null),{isMenuOpened:h,onTriggerClick:p,onTriggerMouseOver:m,onMenuClose:g,getPosition:b,onMenuMouseOver:_}=function(e,t,i={}){const o=s.useContext(C.SubmenuContext);s.useEffect((()=>null==o?void 0:o.registerSubmenu(e,a)),[e]);const n=Boolean((null==o?void 0:o.current)===e);return{isMenuOpened:n,
onTriggerClick:function(){(w.mobiletouch||i.forceOpenOnClick)&&(null==o||o.setCurrent(n?null:e))},onMenuClose:function(){null==o||o.setCurrent(null)},getPosition:function(e){return(0,x.calcSubMenuPos)(e.contentWidth,t.current)},onMenuMouseOver:r,onTriggerMouseOver:r};function r(t){!w.mobiletouch&&(0,y.hoverMouseEventFilter)(t)&&(null==o||o.setCurrent(e))}function a(e){var i;return Boolean(null===(i=t.current)||void 0===i?void 0:i.contains(e))}}(u.current,d);return s.createElement(s.Fragment,null,s.createElement(D,{theme:n,label:r,toolboxLabel:c,icon:a,labelClassName:l,className:i,onClick:p,onMouseOver:m,reference:d,isHovered:h}),s.createElement(v.PopupMenu,{className:o,position:b,onClose:g,isOpened:h,doNotCloseOn:d.current,onMouseOver:_},t))}var F=i(634937);function M(e){const{labelClassName:t,summaryFieldsVisibilityInfo$:n,summaryFieldToggler:r,initialSummaryFieldsVisibilityInfo:l}=e,c=(0,g.useObservable)(n,l);return 0===c.size?s.createElement(s.Fragment,null):s.createElement(k,{label:o.t(null,void 0,i(370559)),labelClassName:t,forceUseDrawer:a.CheckMobile.any()},[...c.values()].map((e=>s.createElement(b.PopupMenuItemToggle,{key:e.id,className:F.toggle,label:s.createElement("span",{className:F.label},e.id),isChecked:e.visible,onClick:()=>r(e.id)}))))}var N=i(844972),R=i(48008);function A(e){const{dataExportController:t,initialSummaryFieldsVisibilityInfo:n,summaryFieldToggler:p,summaryFieldsVisibilityInfo$:g,iconSize:b}=e,[v,_]=function(e){const{dataExportController:t,trackEvent:i}=e,[o,n]=(0,s.useState)(!1);return void 0===t?[()=>{},null]:[()=>n(!0),s.createElement(m,{isOpened:o,onClose:()=>n(!1),trackEvent:i,dataExportController:t})]}({dataExportController:t});return s.createElement(s.Fragment,null,s.createElement(c.ToolWidgetMenu,{arrow:!1,isDrawer:a.CheckMobile.any(),className:N.dropdownButton,content:s.createElement(u.ToolWidgetButton,{title:o.t(null,void 0,i(437117)),icon:s.createElement(l.Icon,{className:r()("big"===b&&N.bigIcon),icon:R})}),"data-name":"terminal-dropdown"},s.createElement(M,{labelClassName:N.label,summaryFieldToggler:p,summaryFieldsVisibilityInfo$:g,initialSummaryFieldsVisibilityInfo:n}),null!==_&&s.createElement(d.PopupMenuItem,{labelClassName:N.label,label:(0,h.appendEllipsis)(o.t(null,void 0,i(778837))),onClick:v})),_)}},628370:(e,t,i)=>{"use strict";i.d(t,{makeAccountManagerHeaderDropdownsProps:()=>m});var s=i(275734),o=i(757604),n=i(650151),r=i(391431),a=i(480802),l=i(752275),c=i(937778),u=i(621575);const d=(0,c.getLogger)("Trading.DataExport");class h{constructor(e,t){this._prefix=t,this._getDataExporters=e}tabs(){return[...this._getDataExporters()].map((([e,t])=>({value:e,content:t.title})))}async exportData(e){const{exporters:t,title:i}=(0,n.ensureDefined)(this._getDataExporters().get(e),"data exporter");try{const e=await Promise.all(t.map((({exportData:e})=>e())));e.forEach(((s,o)=>{const n=t[o].name,r=void 0===n||""===n?`${(0,a.default)(i)}${e.length>1?`-${o+1}`:""}`:(0,a.default)(n);let c="";if(0!==s.length){const e=[p(Object.keys(s[0]))];for(const t of s)e.push(p(Object.values(t)))
;c=e.join("\n")}(0,l.saveTextFile)(`${(0,a.default)(this._prefix)}-${r}-${(new Date).toISOString()}.csv`,c,"text/csv")}))}catch(e){d.logError((0,u.getLoggerMessage)(e))}}}function p(e){return e.map((e=>"number"==typeof e?e:(0,l.escapeCSVValue)(e))).join(",")}async function m(e,t,i,a){const l=(await e.brokersMetainfo()).filter((e=>!e.configFlags.isSuspended)),c=Promise.resolve(void 0),u=(0,n.ensureNotNull)(e.activeBroker()),d=await c,p=await u.accountsMetainfo(),m=u.accountManagerInfo();if(0===p.length)return;const g=p.map((e=>{var t;return{id:e.id,name:e.name,currency:""===e.currency?void 0:null!==(t=e.currency)&&void 0!==t?t:void 0,isDefault:e.isDefault,label:e.label,labelLink:e.labelLink,labelTooltipText:e.labelTooltipText,selectAccount:async()=>{e.id!==u.currentAccount()&&u.setCurrentAccount(e.id)}}})),b=e=>(0,n.ensureDefined)(g.find((t=>t.id===e))),v=(0,s.fromEventPattern)((e=>u.currentAccountUpdate.subscribe(null,e)),(e=>u.currentAccountUpdate.unsubscribe(null,e)),b).pipe((0,o.startWith)(b(u.currentAccount()))),_=u.metainfo(),f=void 0!==d?(0,r.brokersListFromPlans)(l,d):void 0,w=void 0!==f?{title:m.accountTitle,brokerName:_.title,brokerId:_.id,logo:_.logoMiniUrl,logoBlack:_.logoMiniBlackUrl,actions:u.buttonDropdownActions(),trading:e,brokers:f,mode:i,isBeta:_.isBeta,realtimeDataPermissionsConfig:_.realtimeDataPermissionsToggleConfig}:void 0,C={dataExportController:void 0!==a?new h(a,_.title):void 0,initialSummaryFieldsVisibilityInfo:t.fieldsVisibilityInfo(),summaryFieldsVisibilityInfo$:t.fieldsVisibilityInfo$,summaryFieldToggler:t.toggleField};return{brokerDropdownProps:w,accountDropdownProps:{currentAccount$:v,accountsList:g,removeMargins:void 0===w,trackEvent:e.trackEvent,showErrorNotification:e.showErrorNotification,mode:i,createAccount:u.config.supportCreateAccount?u.createAccount:void 0,deleteAccount:u.config.supportDeleteAccount?u.deleteAccount:void 0,resetAccount:u.config.supportResetAccount?u.resetAccount:void 0,changeAccountSettings:u.config.supportChangeAccountSettings?u.changeAccountSettings:void 0,accountSettingsInfo:u.config.supportCreateAccount||u.config.supportResetAccount||u.config.supportChangeAccountSettings?u.accountSettingsInfo:void 0,accountHintOptions:m.accountHintOptions},commonDropdownProps:C}}},597903:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AccountManager:()=>Co});var s=i(609838),o=i(50959),n=i(632227),r=i(497754),a=i.n(r),l=i(650151),c=i(688401),u=i(601227),d=i(69111),h=i(440891),p=i(391431),m=i(529596);class g{constructor(e){this._delegates=e}subscribe(e,t,i){this._delegates.forEach((s=>s.subscribe(e,t,i)))}unsubscribe(e,t){this._delegates.forEach((i=>i.unsubscribe(e,t)))}unsubscribeAll(e){this._delegates.forEach((t=>t.unsubscribeAll(e)))}}var b=i(344557),v=i(441827),_=i(669874);function f(e){return 0!==e.qty||0!==e.longQty&&void 0!==e.longQty||0!==e.shortQty&&void 0!==e.shortQty}var w=i(247465);class C{constructor(e){this._isActive=!1,this._created=!1,this._started=!1,this._fullUpdateDelegate=null,this._partialUpdateDelegate=null,this._deleteUpdateDelegate=null,this._noMoreEntries=!1,
this._isLoadingMore=!1,this._fullUpdateCancel=null,this._exportData=async()=>{const e=this._isActive;e||(this.start(),await this.setActive(!0));const t=await this._view.exportData();return e||await this.setActive(!1),t},this._viewVisibilityHandler=e=>{this._model.setActive(e)},this._sortingChangeHandler=e=>{this._updateModelSortingState(e)},this._sizeChangeHandler=()=>{this._updateModelSortingState({column:this._view.sortingColumn(),mode:this._view.sortingMode()})};const{idProperty:t,name:i,model:s,view:o,source:n,subscriptions:r,supportPagination:a}=e;this._idProperty=t,this._model=s,this._view=o,this._name=i,this._source=n,this._subscriptions=r,this._supportPagination=Boolean(a)}start(){this._started||(this._updateModelSortingState({column:this._view.sortingColumn(),mode:this._view.sortingMode()}),this._subscribeUpdates(),this._subscribeView(),this._started=!0)}stop(){this._started&&(this._unsubscribeUpdates(),this._unsubscribeView(),this.reset(),this._started=!1)}isStarted(){return this._started}async setActive(e){(0,l.assert)(!e||this._started,"Should be started first"),this._isActive!==e&&(this._isActive=e,this._isActive&&!this._created&&await this._fullUpdate(),this._model.setActive(e))}isActive(){return this._isActive}reset(){this._isActive?this._fullUpdate():(this._deleteRows(),this._created=!1)}destroy(){this._unsubscribeUpdates(),this._unsubscribeView()}getDataExporter(){return{name:this._name,exportData:this._exportData}}highlightRowById(e){this._view.highlightRowById(e)}setRowInactiveById(e,t){this._view.setRowInactiveById(e,t)}setRowInactiveByFilter(e){this._view.setRowInactiveByFilter(e)}addFormatter(e){this._view.addFormatter(e)}addFormatters(e){for(const t of e)this.addFormatter(t)}isRowInViewport(e){return this._view.isRowInViewport(e)}setColumnAvailable(e,t){this._view.setColumnAvailable(e,t)}setRowLinkedByFilter(e){this._view.setRowLinkedByFilter(e)}setRowLinkedById(e,t){this._view.setRowLinkedById(e,t)}rowIdAtEvent(e){return this._view.rowIdAtEvent(e)}rowAtEvent(e){const t=this._view.rowIdAtEvent(e);if(void 0!==t)return this.rowById(t)}rowById(e){return this._model.data().get(e)}_update(e){return!!this._created&&(this._model.addRow(e),!0)}_deleteRow(e){this._created&&this._model.deleteRow(e)}_deleteRows(){this._model.deleteRows(),this._created=!1}_fullUpdate(){if(this._deleteRows(),this._noMoreEntries=!1,!this._isActive)return Promise.resolve();this._fullUpdateCancel&&this._fullUpdateCancel();const e=(0,w.makeCancelable)(this._source());return this._fullUpdateCancel=e.cancel,e.promise.then((e=>{this._fullUpdateCancel=null,this._model.addRows(e),this._created=!0,this._onCreated()})).catch((e=>{if(!(0,w.isCancelled)(e))throw e}))}_onCreated(){}_loadMoreIfBottomVisible(e){if(this._isLoadingMore||!e||this._noMoreEntries)return;const t=this._model.rows().length-1;if(-1===t)return;const i=this._model.rows()[t][this._idProperty];this._isLoadingMore=!0,this._source(i).then((e=>{0!==e.length?(this._model.addRows(e),this._isLoadingMore=!1):this._noMoreEntries=!0})).catch((()=>{this._isLoadingMore=!1}))}
_subscribeView(){this._view.onSizeChange.subscribe(this,this._sizeChangeHandler),this._view.onTableVisibilityChange.subscribe(this,this._viewVisibilityHandler),this._view.onSortingChange.subscribe(this,this._sortingChangeHandler),this._supportPagination&&this._view.onBottomVisibilityChange.subscribe(this,this._loadMoreIfBottomVisible)}_unsubscribeView(){this._view.onSizeChange.unsubscribe(this,this._sizeChangeHandler),this._view.onTableVisibilityChange.unsubscribe(this,this._viewVisibilityHandler),this._view.onSortingChange.unsubscribe(this,this._sortingChangeHandler),this._view.onBottomVisibilityChange.unsubscribe(this,this._loadMoreIfBottomVisible)}_updateModelSortingState(e){const t=0!==this._view.size()||this._supportPagination?e.mode:null;this._model.setSortingState({column:null===t?void 0:e.column,mode:t})}_subscribeUpdates(){if(this._fullUpdateDelegate)throw new Error("should unsubscribe first");this._fullUpdateDelegate=this._subscriptions.fullUpdateDelegate,this._fullUpdateDelegate.subscribe(this,this._fullUpdate),this._partialUpdateDelegate=this._subscriptions.rowUpdateDelegate,this._partialUpdateDelegate.subscribe(this,this._update),this._subscriptions.rowDeleteDelegate&&(this._deleteUpdateDelegate=this._subscriptions.rowDeleteDelegate,this._deleteUpdateDelegate.subscribe(this,this._deleteRow))}_unsubscribeUpdates(){this._fullUpdateDelegate&&(this._fullUpdateDelegate.unsubscribe(this,this._fullUpdate),delete this._fullUpdateDelegate),this._partialUpdateDelegate&&(this._partialUpdateDelegate.unsubscribe(this,this._update),delete this._partialUpdateDelegate),this._deleteUpdateDelegate&&(this._deleteUpdateDelegate.unsubscribe(this,this._deleteRow),delete this._deleteUpdateDelegate)}}var y=i(91679);class x extends class{constructor(e,t){this._filterTabs=[],this._active=!1,this._count=new y.WatchedValue,this._content=e,this._id=t.id,this._name=t.name}setActive(e){this._active!==e&&(this._active=e,this._onActiveChanged(e))}isActive(){return this._active}reset(){}destroy(){}content(){return this._content}name(){return this._name}id(){return this._id||this._name}async contextItems(e){return[]}topline(){return null}activeFilterTabId(){return this._activeFilterTabId}filterTabs(){return this._filterTabs}count(){return this._count.readonly()}activateFilterTab(e){this._activeFilterTabId=e}_setCount(e){this._count.setValue(e)}_onActiveChanged(e){}}{constructor(e,t,i){super(e,t),this._tableControllers=i}reset(){this._tableControllers.forEach((e=>e.reset())),super.reset()}destroy(){this._tableControllers.forEach((e=>e.destroy())),super.destroy()}getExporters(){const e=this._tableControllers.map((e=>e.getDataExporter()));return{title:this.name(),exporters:e}}contextRow(e){}_onActiveChanged(e){this._tableControllers.forEach((t=>t.setActive(e)))}}var E=i(12481),S=i(61121),P=i(329452);class k{constructor(e,t,i){this._calculateCounts=async e=>{const t=await this._source();if(null==e?void 0:e.aborted)return;const i=t.length;i!==this._count&&(this._count=i,this._countChanged.fire(i))},this._source=e,this._rowUpdateDelegate=t,
this._fullUpdateDelegate=null!=i?i:null,this._countChanged=new P.Delegate,this._abortController=new AbortController,this._calculateCounts=(0,S.respectLatest)(this._calculateCounts),this._calculateCountsDebounced=(0,E.default)((()=>this._calculateCounts(this._abortController.signal)),100)}countChanged(){return this._countChanged}start(){var e;this._abortController=new AbortController,this._rowUpdateDelegate.subscribe(this,this._calculateCountsDebounced),null===(e=this._fullUpdateDelegate)||void 0===e||e.subscribe(this,this._calculateCountsDebounced),this._calculateCounts(this._abortController.signal)}stop(){var e;this._abortController.abort(),this._count=void 0,this._rowUpdateDelegate.unsubscribe(this,this._calculateCountsDebounced),null===(e=this._fullUpdateDelegate)||void 0===e||e.unsubscribe(this,this._calculateCountsDebounced)}}var D=i(150335),T=i(637730),I=i(7888),F=i(389952);var M=i(41899),N=i(251940),R=i(172912),A=i(341086),O=i(863582),B=i(848062);const U=(0,i(592715).numDependencyFormatter)((e=>(0,A.numberFormattersParsersChain)({chain:[(0,B.fixedNumberMagnitudeStep)({decimalPlaces:e}),(0,O.signumStep)({negativeSign:O.longMinusSign})]})));var V=i(431520),L=i(743003),z=i(621575),H=i(671129),W=i(403933),j=i(187962),q=i(108937);function K(e){const{primaryLogoUrl:t,secondaryLogoUrl:i,size:s,className:n}=e;return o.createElement("span",{className:(0,q.getBlockStyleClasses)(s,n),title:e.title},o.createElement(G,{logoUrl:i,size:s}),o.createElement(G,{logoUrl:t,size:s}))}function G(e){const{logoUrl:t,size:i}=e,s=(0,q.getLogoStyleClasses)(i);return void 0===t?o.createElement("span",{className:s}):o.createElement("img",{className:s,crossOrigin:"",src:t,alt:""})}var $=i(361701),Z=i(252130),Q=i(683614),Y=i(585938),X=i(972535),J=i(744471);function ee(e){e.stopPropagation(),X.mobiletouch&&((0,J.tooltipClickHandler)(e),document.addEventListener("touchend",(e=>e.preventDefault()),{once:!0}))}function te(e){return{ariaLabel:e,tooltip:e,onClick:ee}}function ie(e){const{dependencies:t,customText:i}=e,s=(0,o.useRef)(null),n=(0,o.useRef)(void 0),r=(0,Y.useForceUpdate)(),a=(0,Z.useIsMounted)(),l=(0,o.useCallback)((()=>{if(!a.current)return;if(null===s.current||s.current.offsetWidth>=s.current.scrollWidth)return n.current=void 0,void r();const e=null!=i?i:s.current.textContent;null!==e&&e!==n.current&&(n.current=e,r())}),t);return(0,o.useEffect)((()=>l()),[l]),(0,Q.useVisibility)(s,(()=>l()),(()=>{})),[s,void 0!==n.current?te(n.current):null]}var se=i(904664);const oe=s.t(null,void 0,i(521645));function ne(e){return{text:void 0!==(null==e?void 0:e.text)&&""!==e.text?`${oe}\n\n${e.text}`:oe,type:(null==e?void 0:e.type)===se.OrderOrPositionMessageType.Error?se.OrderOrPositionMessageType.Error:se.OrderOrPositionMessageType.Warning}}var re=i(599016),ae=i(285336);const le={[re.OrderOrPositionMessageType.Information]:"default",[re.OrderOrPositionMessageType.Warning]:"warning",[re.OrderOrPositionMessageType.Error]:"danger"},ce={[re.OrderOrPositionMessageType.Information]:"info",[re.OrderOrPositionMessageType.Warning]:"exclamation",
[re.OrderOrPositionMessageType.Error]:"exclamation"};function ue(e){e.stopPropagation(),X.mobiletouch&&((0,J.tooltipClickHandler)(e),document.addEventListener("touchend",(e=>e.preventDefault()),{once:!0}))}function de(e){const{type:t,text:i,className:s}=e;return o.createElement("div",{className:a()(ae.message,s)},o.createElement(j.IconQuestionInformation,{className:ae.iconQuestionInformation,icon:ce[t],intent:le[t],ariaLabel:i,tooltip:i,onClick:ue}))}function he(e){return e.replace(/\s+/g," ")}function pe(e,t){return(0,o.useMemo)((()=>t?`${he(e)} - ${he(t)}`:he(e)),[e,t])}i(868333);var me=i(563870);function ge(e){{let t=[];const i=function(e,t=!0){const[i,s]=(0,o.useState)({quotes:null,completed:!1,invalid:!1});return(0,o.useEffect)((()=>{s({completed:!1,invalid:!1,quotes:null});const i=(0,me.getQuoteSessionInstance)("full"),o=()=>{i.unsubscribe("useSymbolQuotes",e,n)},n=e=>{const{values:i,complete:n,status:r}=e;s({invalid:"error"===r,quotes:{...i},completed:void 0!==n||"error"===r}),void 0===n&&"error"!==r||t&&o()};return i.subscribe("useSymbolQuotes",e,n),()=>{o()}}),[e]),i}(e,!1),s=i.quotes;return s&&(s.logoid?t=[s.logoid]:s["currency-logoid"]&&s["base-currency-logoid"]&&(t=[s["base-currency-logoid"],s["currency-logoid"]])),{logoUrls:t,description:null==s?void 0:s.description}}}var be=i(666821);function ve(e){var t;const{symbol:i,brokerSymbol:s,message:n,isDelayed:r}=e,l=ge(i),c=""!==i?n:ne(n),u=pe(s,null==l?void 0:l.description),[d,h]=ie({dependencies:[s],customText:u}),[p,m]=ie({dependencies:[null==l?void 0:l.description],customText:u}),g=null!=m?m:h;return o.createElement("div",{className:be.container},o.createElement("span",{className:be.logo},void 0!==(null==l?void 0:l.logoUrls)&&l.logoUrls.length>1?o.createElement(K,{primaryLogoUrl:l.logoUrls[0],secondaryLogoUrl:l.logoUrls[1],size:"xsmall"}):o.createElement($.CircleLogo,{logoUrl:null===(t=null==l?void 0:l.logoUrls)||void 0===t?void 0:t[0],placeholderLetter:null==s?void 0:s[0],size:"xsmall"})),o.createElement("div",{className:be.tickerAndDescriptionWrapper},o.createElement("div",{className:a()(be.textWrapper,null===g&&be.gap)},o.createElement("span",{className:be.title,ref:d},s),void 0!==(null==l?void 0:l.description)&&o.createElement("span",{className:be.description,ref:p},l.description)),null!==g&&o.createElement(j.IconQuestionInformation,{...g,icon:"info",className:be.tooltipIcon}),!1,void 0!==c&&o.createElement(de,{...c,className:be.messageInformer})))}var _e=i(326589);function fe(e){const{brokerSymbol:t,logoComponent:i,tooltipText:s}=e,n=(0,p.getSymbolNameOverFullname)(t);return o.createElement("div",{className:_e.wrapper},i,o.createElement("div",{className:a()(_e.title,"apply-common-tooltip"),"data-tooltip":null!=s?s:n},o.createElement("span",{className:_e.titleContent},n)))}function we(e){var t;const{brokerSymbol:i,symbol:s}=e,n=ge(s),r=pe(i,null==n?void 0:n.description);return o.createElement(fe,{brokerSymbol:i,logoComponent:void 0!==(null==n?void 0:n.logoUrls)&&n.logoUrls.length>1?o.createElement(K,{primaryLogoUrl:n.logoUrls[0],
secondaryLogoUrl:n.logoUrls[1],size:"xsmall"}):o.createElement($.CircleLogo,{logoUrl:null===(t=null==n?void 0:n.logoUrls)||void 0===t?void 0:t[0],placeholderLetter:null==i?void 0:i[0],size:"xsmall"}),tooltipText:r})}var Ce=i(555496);const ye=h.enabled("show_symbol_logos")&&h.enabled("show_symbol_logo_in_account_manager");function xe(e){const t=(0,H.useMatchMedia)(W.TradingLayoutBreakpoint.Mobile);return ye?t?o.createElement(ve,{...e}):o.createElement(we,{...e}):t?o.createElement("span",{className:Ce.title},e.brokerSymbol):o.createElement(fe,{...e})}var Ee=i(909740);function Se(e){return 1===e?Ee.blue:Ee.red}function Pe(e){const{side:t}=e;return o.createElement("span",{className:Se(t)},(0,z.sideToText)(t))}function ke(e){const{side:t}=e;return o.createElement("span",{className:Se(t)},(0,z.positionSideToText)(t))}var De=i(592871);function Te(e){const{value:t,noWrap:i}=e;return o.createElement("span",{className:a()(De.text,i&&De.noWrap)},t)}var Ie=i(307452);function Fe(e){const{className:t,value:i,currency:s}=e;return o.createElement("span",{className:a()(Ie.wrapper,t)},o.createElement("span",null,i),s&&o.createElement("span",{className:Ie.currency},s))}function Me(e){return e?` ${e}`:""}function Ne(e){const{priceFormatter:t,price:i,prevPrice:s}=e,o=t.format(i);if(void 0===s)return{same:o};const n=t.format(s),r=o.split("").findIndex(((e,t)=>e!==n[t]));if(-1===r)return{same:o};return{same:o.substring(0,r),differs:o.substring(r)}}function Re(e){const{price:t,prevPrice:i,currency:s,lastCharSup:n}=e,{same:r,differs:a}=Ne(e),l=function(e){const{differs:t,price:i,prevPrice:s,lastCharSup:n,same:r}=e;return void 0!==t&&void 0!==s?o.createElement(o.Fragment,null,r,o.createElement("span",{className:i>s?Ee.green:Ee.red},n?Ae(t):t)):n?Ae(r):(0,V.forceLTRStr)(r)}({differs:a,price:t,prevPrice:i,lastCharSup:n,same:r});return s?o.createElement(Fe,{value:l,currency:s}):o.createElement("span",null,l)}function Ae(e){const t=/^([^]*)(\S)(\s*)$/.exec(e);return"0"===e||null===t?o.createElement(o.Fragment,null,(0,V.forceLTRStr)(e)):o.createElement(o.Fragment,null,t[1],o.createElement("sup",null,t[2]),void 0!==t[3]&&""!==t[3]&&o.createElement("sup",null,t[3]))}const Oe={3:Ee.gray,6:Ee.blue,5:Ee.red,2:Ee.green,1:Ee.orange,4:void 0};function Be(e){const{status:t}=e;return o.createElement("span",{className:Oe[t],style:{textTransform:"capitalize"}},(0,p.orderStatusToText)(t))}var Ue=i(960521);function Ve(e,t=2){if(!(0,p.isDefined)(e)||isNaN(e)||"number"!=typeof e)return"";const i=(0,Ue.Big)(10).pow(-(t+1));return(0,V.forceLTRStr)((0,Ue.Big)(e).abs().lt(i)?U(t).format(0):U(t).format(e))}function Le(e){return new Ue.Big(e).round(2)}function ze(e){return`${Le(e).gt(0)?"+":""}${Ve(e)}`}function He(e){const{profit:t,currency:i}=e;return(0,M.isNumber)(t)?(0,V.forceLTRStr)(ze(t)+Me(i)):""}function We(e){const{profit:t,currency:i}=e;if(!(0,M.isNumber)(t))return o.createElement("span",null);const s=(0,V.forceLTRStr)(ze(t)),n=function(e){const t=Le(e);return t.gt(0)?Ee.green:t.lt(0)?Ee.red:Ee.grey}(t);return void 0===i?o.createElement("span",{className:n
},s):o.createElement(Fe,{value:s,currency:i,className:n})}var je=i(989546);const qe=new T.DateTimeFormatter,Ke=new class{constructor(){this._dateFormatter=new F.DateFormatter,this._timeFormatter=new I.TimeFormatter}format(e){const t=new Date(e.dateOrDateTime);let i=this._dateFormatter.format(t);return e.hasTime&&(i+=" "+this._timeFormatter.format(t)),i}formatLocal(e){const t=new Date(e.dateOrDateTime);let i=this._dateFormatter.formatLocal(t);return e.hasTime&&(i+=" "+this._timeFormatter.formatLocal(t)),i}},Ge=s.t(null,void 0,i(351514)).toLowerCase(),$e=s.t(null,void 0,i(381849)).toLowerCase();function Ze({values:e}){return e.join(" ")}function Qe(e){const{values:[t,i],prevValues:[s]=[void 0],priceFormatter:o}=e;return(0,p.isDefined)(t)&&(0,M.isNumber)(t)?function(e){const{same:t,differs:i}=Ne(e),s=`${t}${i||""}`,o=Me(e.currency);return(0,V.forceLTRStr)(s+o)}({price:t,prevPrice:null!=s?s:void 0,priceFormatter:o,currency:i}):""}function Ye({values:[e]}){return{value:(0,p.isDefined)(e)&&!isNaN(e)?e:""}}const Xe=[{name:"symbol",formatElement:({values:[e,t,i,s]})=>o.createElement(xe,{brokerSymbol:e,symbol:t,message:i,isDelayed:s}),formatText:({values:[e]})=>(0,p.getSymbolNameOverFullname)(e)},{name:"side",formatElement:({values:[e]})=>o.createElement(Pe,{side:e}),formatText:({values:[e]})=>(0,z.sideToText)(e)},{name:"positionSide",formatElement:({values:[e]})=>o.createElement(ke,{side:e}),formatText:({values:[e]})=>(0,z.positionSideToText)(e)},{name:"text",formatElement:e=>o.createElement(Te,{value:Ze(e)}),formatText:Ze},{name:"type",formatText:({values:[e,t,i]})=>(0,z.orderTypeToText)({orderType:e,parentId:t,stopType:i})},{name:"formatPrice",formatElement:({values:[e],priceFormatter:t,prevValues:[i]=[void 0]})=>(0,p.isDefined)(e)&&(0,p.isDefined)(t)?o.createElement(Re,{priceFormatter:t,price:e,prevPrice:null!=i?i:void 0}):void 0,formatText:Qe,formatRaw:Ye,isPriceFormatterNeeded:!0},{name:"formatPriceForexSup",formatElement:({values:[e],priceFormatter:t,prevValues:[i]=[void 0]})=>(0,p.isDefined)(e)?o.createElement(Re,{priceFormatter:t,price:e,prevPrice:null!=i?i:void 0,lastCharSup:t instanceof R.PriceFormatter&&t.hasForexAdditionalPrecision()}):void 0,formatText:Qe,formatRaw:Ye,isPriceFormatterNeeded:!0},{name:"formatPriceInCurrency",formatElement:({values:[e,t],priceFormatter:i,prevValues:[s]=[void 0]})=>(0,p.isDefined)(e)?o.createElement(Re,{priceFormatter:i,price:e,prevPrice:null!=s?s:void 0,currency:t}):void 0,formatText:Qe,formatRaw:({values:[e,t]})=>[{...Ye({values:[e]}),title:Ge},{value:t||"",title:$e}],isPriceFormatterNeeded:!0},{name:"status",formatElement:({values:[e]})=>(0,p.isDefined)(e)?o.createElement(Be,{status:e}):void 0,formatText:({values:[e]})=>(0,p.isDefined)(e)?(0,L.capitalizeFirstLetter)((0,z.orderStatusToText)(e)):""},{name:"date",formatText:({values:[e]})=>(0,p.isDefined)(e)&&tt(e)?qe.format(new Date(e)):""},{name:"localDate",formatText:({values:[e]})=>(0,p.isDefined)(e)&&tt(e)?qe.formatLocal(new Date(e)):""},{name:"dateOrDateTime",formatText:({values:[e]})=>(0,
p.isDefined)(e)&&tt(e.dateOrDateTime)?Ke.format(e):""},{name:"localDateOrDateTime",formatText:({values:[e]})=>(0,p.isDefined)(e)&&tt(e.dateOrDateTime)?Ke.formatLocal(e):""},{name:"fixed",formatText:({values:[e]})=>Ve(e),formatRaw:Ye},{name:"fixedInCurrency",formatElement:({values:[e,t]})=>(0,p.isDefined)(e)&&(0,p.isDefined)(t)?o.createElement(Fe,{value:Ve(e),currency:t}):Ve(e),formatText:({values:[e,t]})=>{const i=Ve(e),s=Me(t);return i?(0,V.forceLTRStr)(i+s):i},requiredFieldsIndexes:[0]},{name:"variablePrecision",formatText:({values:[e]})=>!(0,p.isDefined)(e)||isNaN(e)?"":(0,V.forceLTRStr)(U().format((0,D.fixComputationError)(e))),formatRaw:Ye},{name:"pips",formatText:({values:[e]})=>Ve(e,1),formatRaw:Ye},{name:"integerSeparated",formatText:({values:[e]})=>(0,M.isNumber)(e)?(0,V.forceLTRStr)((0,je.quantityFormatter)({decimalPlaces:0}).format(e)):"",formatRaw:Ye},{name:"formatQuantity",formatText:({values:[e]})=>(0,M.isNumber)(e)?(0,V.forceLTRStr)(je.defaultQuantityFormatter.format(e)):"",formatRaw:Ye},{name:"profit",formatElement:({values:[e]})=>(0,p.isDefined)(e)?o.createElement(We,{profit:e}):void 0,formatText:({values:[e]})=>(0,p.isDefined)(e)?He({profit:e}):"",formatRaw:Ye},{name:"profitInInstrumentCurrency",formatElement:({values:[e,t]})=>(0,p.isDefined)(e)?o.createElement(We,{profit:e,currency:t}):void 0,formatText:({values:[e,t]})=>(0,p.isDefined)(e)?He({profit:e,currency:t}):"",formatRaw:({values:[e,t]})=>[{...Ye({values:[e]}),title:Ge},{value:t||"",title:$e}],requiredFieldsIndexes:[0]},{name:"percentage",formatText:({values:[e]})=>(0,M.isNumber)(e)?(0,V.forceLTRStr)((0,N.getPercentageFormatter)().format(e)):"",formatRaw:e=>({...Ye(e),title:"%"})},{name:"marginPercent",formatText:({values:[e]})=>(0,p.isDefined)(e)?isFinite(e)?e<.01?e+"%":(0,N.getPercentageFormatter)().format(e):"> 200%":"",formatRaw:({values:[e]})=>({value:isFinite(e)?Ye({values:[e]}).value:"",title:"%"})},{name:"empty",formatText:()=>""}],Je={name:"default",formatText:Ze};function et(e){var t;return null!==(t=Xe.find((t=>t.name===e)))&&void 0!==t?t:Je}function tt(e){return"number"==typeof e?e>0:""!==e}var it=i(29374);function st(e){const t=document.createElement("div");return t.style.position="relative",!1!==(null==e?void 0:e.stretch)&&t.classList.add(it.stretch),t}var ot=i(343370);function nt(e){return void 0!==e.sortProp&&""!==e.sortProp?e.sortProp:e.dataFields.length>0?e.dataFields[0]:void 0}function rt(e,t){return void 0===e&&void 0!==t?1:void 0!==e&&void 0===t?-1:void 0===e||void 0===t?0:e<t?1:e>t?-1:0}class at{constructor(e){this.onRowsChanged=new P.Delegate,this.onRowChanged=new P.Delegate,this._rowsData=new Map,this._priceFormatters=new Map,this._rows=[],this._isActive=!1,this._sortingPostponed=!1,this._sortingMode=null;const{columns:t,options:i,priceFormatterGetter:s,reverse:o=!0}=e,{idProperty:n,defaultSortingParameters:r,group:a}=i;this._idProperty=n,this._reverse=o,this._defaultSortingInfo=void 0!==r?{sortingProperty:r.property,sortingMode:!1===r.asc?1:0}:void 0,this._group=a,this._priceFormatterGetter=s,
this._sortAndGroupRowsThrottled=(0,ot.default)((()=>{this._sortAndGroupRows(),this._update()}),1e3),this._columns=new Map(t.map((e=>[e.id,e])))}setActive(e){this._isActive=e,this._onTableStateChanged(e)}addRow(e){const t=e[this._idProperty];this._rowsData.has(t)?this._updateRow(t,e):(this._addRowData(e),this._sortAndGroupRowsThrottled.cancel(),this._sortAndGroupRows(),this._update())}addRows(e){for(const t of e){const e=t[this._idProperty];this._rowsData.has(e)?this._updateRowData(e,t):this._addRowData(t)}this._sortAndGroupRows(),this._update()}rows(){return this._rows}data(){return this._rowsData}deleteRow(e){const t=this._rowsData.get(e);void 0!==t&&(this._rowsData.delete(e),this._rows.splice(this._rows.indexOf(t),1),this._update())}deleteRows(){this._deleteRows(),this._update()}destroy(){this._sortAndGroupRowsThrottled.cancel(),this._deleteRows()}setSortingState(e){this._sortingColumn===e.column&&this._sortingMode===e.mode||(this._sortingColumn=e.column,this._sortingMode=e.mode,this._onSortingChange())}async resolvePriceFormatter(e){if(void 0!==this._priceFormatterGetter)try{const t=this._rowsData.get(e);if(void 0===t||void 0!==t.priceFormatter)return;t.priceFormatter=null;const i=this._priceFormatters.get(e);if(void 0!==i)return t.priceFormatter=i,void this._update();const s=await this._priceFormatterGetter(t);this._priceFormatters.set(e,s),t.priceFormatter=s,this._update()}catch(e){}}_deleteRows(){this._rowsData.clear(),this._rows=[]}_sortAndGroupRows(){this._isActive?this._rows.sort(((e,t)=>function(e){var t;const{aRow:i,bRow:s,sortingMode:o,sortingProperty:n,groupDefiner:r}=e;let a=0;if(void 0!==r&&(a=rt(r(i),r(s))),0===a&&(a=i.isTotalRow?1:s.isTotalRow?-1:0),null===o||0!==a||void 0===n)return a;let l=i[n],c=s[n];return void 0!==(null==l?void 0:l.dateOrDateTime)&&(l=l.dateOrDateTime,c=null!==(t=null==c?void 0:c.dateOrDateTime)&&void 0!==t?t:1/0),a=rt(l,c),0===o?-a:a}({aRow:e,bRow:t,groupDefiner:this._group,...this._getSortingInfo()}))):this._sortingPostponed=!0}_getSortingInfo(){var e,t,i;const s=void 0!==this._sortingColumn?this._columns.get(this._sortingColumn):void 0,o=void 0!==s?nt(s):void 0;return void 0!==o?{sortingProperty:o,sortingMode:this._sortingMode}:{sortingProperty:null===(e=this._defaultSortingInfo)||void 0===e?void 0:e.sortingProperty,sortingMode:null!==(i=null===(t=this._defaultSortingInfo)||void 0===t?void 0:t.sortingMode)&&void 0!==i?i:null}}_onSortingChange(){this._sortAndGroupRowsThrottled.cancel(),null===this._sortingMode&&this._resetRowsOrder(),this._sortAndGroupRows(),this._update()}_resetRowsOrder(){this._rows=[...this._rowsData.values()],this._reverse&&this._rows.reverse()}_onTableStateChanged(e){if(!e)return this._sortAndGroupRowsThrottled.cancel(),void(this._sortingPostponed=!0);this._update()}_update(){this._isActive&&(this._sortingPostponed&&(this._sortingPostponed=!1,this._sortAndGroupRows()),this.onRowsChanged.fire())}_updateRowData(e,t){var i,s;const o=(0,l.ensureDefined)(this._rowsData.get(e)),{prevValue:n,priceFormatter:r,...a}=o;for(const e of Object.keys(o))delete o[e]
;Object.assign(o,t,{priceFormatter:r,prevValue:a}),this.onRowChanged.fire(e);const c=(null===(i=this._group)||void 0===i?void 0:i.call(this,o))!==(null===(s=this._group)||void 0===s?void 0:s.call(this,a)),{sortingProperty:u}=this._getSortingInfo();(void 0!==u&&t[u]!==a[u]||c)&&this._sortAndGroupRowsThrottled()}_updateRow(e,t){this._updateRowData(e,t),this._update()}_addRowData({...e}){this._rowsData.set(e[this._idProperty],e),this._reverse?this._rows.unshift(e):this._rows.push(e)}}var lt,ct,ut,dt=i(870122),ht=i(586240),pt=i(898237),mt=i(505357),gt=i(87523),bt=i(281670),vt=i(290556);function _t(e){switch(e){case"xsmall":return"xsmall";case"small":return"small";case"medium":return"medium";default:return}}!function(e){e.XSmall="xsmall",e.Small="small",e.Medium="medium"}(lt||(lt={})),function(e){e.Left="left",e.Center="center"}(ct||(ct={})),function(e){e.Prev="prev",e.Next="next"}(ut||(ut={}));var ft=i(72571),wt=i(45572);function Ct(e){return o.createElement(pt.LightButton,{className:wt.arrow,variant:"secondary",color:"gray",onClick:e.onClick,startSlot:o.createElement(ft.Icon,{icon:(t=e.direction,i=e.size,"xsmall"===i?"prev"===t?vt:bt:"prev"===t?gt:mt)}),"aria-label":e.ariaLabel,disabled:e.disabled,reference:e.reference,tabIndex:e.tabIndex,size:e.size,iconOnly:!0});var t,i}var yt=i(764480);function xt(e){const{pageNumber:t,currentPage:i,renderComponent:s,reference:n,getHref:r,getNumberAriaLabel:a,onClick:l,tabIndex:c,fallbackToDummyHref:u=!1,size:d}=e,{href:h,handleClick:p}=function(e){const{getHref:t,fallbackToDummyHref:i,pageNumber:s,onClick:n}=e,r=(0,o.useMemo)((()=>t?t(s):i?"#":void 0),[t,i,s]),a=(0,o.useCallback)((e=>{!i||r&&"#"!==r||e.preventDefault(),n&&n(e,s)}),[n,i,s,r]);return{href:r,handleClick:a}}({pageNumber:t,getHref:r,fallbackToDummyHref:u,onClick:l});return o.createElement(pt.LightAnchorButton,{className:yt.number,renderComponent:s,variant:t===i?"primary":"ghost",color:"gray",isSelected:t===i,"aria-current":t===i,reference:n,href:h,onClick:p,tabIndex:c,"aria-label":a?a(t):void 0,ellipsis:!1,size:_t(d)},t)}var Et=i(855393);var St=i(708886),Pt=i(65160);function kt({lastPage:e,currentPage:t}){const i=(0,o.useMemo)((()=>function(e){const t=[];for(let i=1;i<=e;i++)t.push(i);return t}(e)),[e]),s=(0,o.useRef)(null),n=(0,o.useRef)(null),r=(0,o.useRef)(0),a=(0,o.useRef)(0),l=(0,o.useRef)(t),[c,u]=(0,o.useState)(!1),[d,h]=(0,o.useState)(0),[p,m]=(0,o.useState)(!1),g=(0,o.useCallback)((s=>[i[0],t,e].includes(s)),[i,t,e]);(0,Et.useIsomorphicLayoutEffect)((()=>{if(t===l.current)return;const s=l.current===i[0]&&t===e,o=l.current===e&&t===i[0];u(s||o),l.current=t}),[t,i,e]);const b=(0,o.useCallback)((e=>{var s;const o=null!==(s=e.widthsMap.get("number"))&&void 0!==s?s:0,l=function(e){if(!e||!window)return-1;const t=window.getComputedStyle(e).getPropertyValue("--ui-lib-pagination-items-gap");if(""===t)return-1;return parseInt(t)}(n.current);let c=2*r.current+a.current;-1!==l&&(c-=l);const u=o+5,{dotsCount:d,...p}=function({currentPage:e,elements:t,containerWidth:i,elementWidth:s,dotsWidth:o,maxItemsCount:n}){
if(t.length*s<=i&&t.length<=n)return{visible:[...t],hidden:[],dotsCount:0};const r=t.indexOf(e);let a=i-2*o-2*s,l=Math.min(Math.floor(a/s),n-4);const c=Math.floor((l-1)/2),u=l-c-1;return r-c-1<=0?(a=i-o-s,l=Math.min(Math.floor(a/s),n-2),{visible:[...t.slice(0,l),t[t.length-1]],hidden:t.slice(l,t.length-1),dotsCount:1}):r+u+1>=t.length-1?(a=i-o-s,l=Math.min(Math.floor(a/s),n-2),{visible:[t[0],...t.slice(t.length-l,t.length)],hidden:t.slice(1,t.length-l),dotsCount:1}):{visible:[t[0],...t.slice(r-c,r),e,...t.slice(r+1,r+u+1),t[t.length-1]],hidden:[...t.slice(1,r-c),...t.slice(r+u+1,t.length-1)],dotsCount:2}}({currentPage:t,elements:i,containerWidth:e.containerWidth-c,elementWidth:u,dotsWidth:e.moreButtonWidth,maxItemsCount:r.current>0?11:13}),g=e.moreButtonWidth*d,b=p.visible.length*u+c+(g+4);return h(b),m(e.containerWidth-b<u),p}),[i,t]),v=(0,o.useCallback)((()=>{r.current=s.current?(0,Pt.outerWidth)(s.current,!0):0,a.current=n.current?(0,Pt.outerWidth)(n.current,!0):0}),[]),{containerRefCallback:_,moreButtonRef:f,innerContainerRefCallback:w,itemsRefs:C,setItemRef:y,hiddenItems:x,visibleItems:E}=(0,St.useCollapsibleCommon)({itemsList:i,getItemId:Dt,calcVisibleAndHiddenItems:b,shouldKeepItemVisible:g,onMeasureCallback:v,forceUpdate:c});return{numbers:i,containerRefCallback:_,innerContainerRefCallback:w,itemsRefs:C,setItemRef:y,dotsRef:f,arrowButtonRef:s,endSlotRef:n,visible:E,hidden:x,contentWidth:d,shouldStretch:p}}function Dt(e){return"number"}function Tt(e){const{className:t,lastPage:i,currentPage:s,withArrows:n,prevPageAriaLabel:r,nextPageAriaLabel:l,paginationAriaLabel:c,renderComponent:u,getHref:d,getNumberAriaLabel:h,onNumberClick:p,onPrevClick:m,onNextClick:g,endSlot:b,isCompact:v,bottomSlot:_,size:f,position:w}=e,{visible:C,numbers:y,containerRefCallback:x,innerContainerRefCallback:E,setItemRef:S,dotsRef:P,arrowButtonRef:k,endSlotRef:D,contentWidth:T,shouldStretch:I}=kt({lastPage:i,currentPage:s}),F=v&&I,M=_t(f);return o.createElement("div",{className:a()(yt["numbers-wrapper"],t)},o.createElement("nav",{className:a()(yt.numbers,yt[`size-${f}`],F&&yt.compact,yt[`position-${w}`]),"aria-label":c},n&&o.createElement(Ct,{onClick:m,ariaLabel:r,disabled:1===s,direction:"prev",size:M}),C.map(((e,t)=>o.createElement(o.Fragment,{key:e},1===t&&C[1]!==y[1]&&o.createElement(It,{size:f}),o.createElement(xt,{pageNumber:e,renderComponent:u,currentPage:s,getHref:d,onClick:p,getNumberAriaLabel:h,fallbackToDummyHref:!0,size:f}),t===C.length-2&&C[t]!==y[y.length-2]&&o.createElement(It,{size:f})))),n&&o.createElement(Ct,{onClick:g,ariaLabel:l,disabled:s===i,direction:"next",size:M}),o.createElement("div",{ref:D,className:yt["numbers-end-slot"]},b)),o.createElement("div",{"aria-hidden":!0,className:yt["fake-numbers"],ref:x},o.createElement("div",{className:yt["fake-numbers-inner"],ref:E},o.createElement(It,{reference:P,size:f}),o.createElement(xt,{pageNumber:999,renderComponent:u,currentPage:s,reference:S("number"),tabIndex:-1,size:f}),n&&o.createElement(Ct,{direction:"prev",reference:k,tabIndex:-1,size:M}))),o.createElement("div",{
style:{width:`${T}px`},className:yt[`description-position-${w}`]},_))}function It(e){return o.createElement("span",{"aria-hidden":!0,className:a()(yt.dots,yt[`size-${e.size}`]),ref:e.reference},"…")}var Ft=i(143101);function Mt(e){const{getDescriptionAriaLabel:t,getDescriptionChunks:i,itemsPerPage:s=0,totalAmountOfItems:n=0,currentPage:r,size:l,withSelect:c,isCompact:u}=e;if(!i)return null;const d=(r-1)*s+1;let h=d+s-1;h>n&&(h=n);const p=i(d,h,n),m=t?t(d,h,n):void 0;return o.createElement("div",{className:a()(Ft.description,Ft[`size-${l}`],(c||!u)&&Ft["with-select"]),"aria-label":m},p.map(((e,t)=>o.createElement(Nt,{...e,key:t}))))}function Nt(e){return e.isHighlighted?o.createElement("strong",{className:Ft["description-strong"]},e.text):o.createElement("span",null,e.text)}var Rt=i(729829);function At(e){const{select:t,getDescriptionAriaLabel:i,getDescriptionChunks:s,itemsPerPage:n,totalAmountOfItems:r,isCompact:l,className:c,size:u="medium",position:d="left",...h}=e,p={getDescriptionAriaLabel:i,getDescriptionChunks:s,itemsPerPage:n,totalAmountOfItems:r,currentPage:e.currentPage,size:u,withSelect:Boolean(t),isCompact:l},m=Boolean(s&&s(0,0,0).length),g=(0,H.useSafeMatchMedia)(ht["media-phone-vertical"]),b=(0,H.useSafeMatchMedia)(ht["media-extreme-thin"]),v=null!=l?l:g,_=Boolean(v&&(t||m||b)),f=!v&&t,w=_&&t;return o.createElement("div",{className:a()(Rt.pagination,c)},o.createElement("div",{className:Rt["pagination-group"]},o.createElement(Tt,{...h,withArrows:!_,isCompact:_,endSlot:f?o.createElement("div",{className:Rt.select},t):void 0,bottomSlot:_?void 0:o.createElement(Mt,{...p}),size:u,position:d})),_&&o.createElement("div",{className:Rt["pagination-group"]},o.createElement(Ct,{onClick:e.onPrevClick,ariaLabel:e.prevPageAriaLabel,disabled:1===e.currentPage,direction:"prev",size:_t(u)}),o.createElement("div",{className:Rt["compact-middle-slot"]},t||o.createElement(Mt,{...p})),o.createElement(Ct,{onClick:e.onNextClick,ariaLabel:e.nextPageAriaLabel,disabled:e.currentPage===e.lastPage,direction:"next",size:_t(u)})),w&&o.createElement(Mt,{...p}))}var Ot=i(232295),Bt=i(515916),Ut=i(269103),Vt=i(628726),Lt=(i(95781),i(924910)),zt=i(662941),Ht=i(240534),Wt=i(297265),jt=i(679458),qt=i(162458),Kt=i(379266),Gt=i(753327),$t=i(722325),Zt=i(935495);const Qt=new Ht.WatchedValue(null).readonly(),Yt=s.t(null,void 0,i(156194));function Xt(e){const{items:t,onCheck:i,overlapManagerWV:s}=e,n=(0,Wt.useWatchedValueReadonly)({watchedValue:null!=s?s:Qt}),r=(0,o.useMemo)((()=>t.filter((e=>e.visible))),[t]),l=e=>{e.stopPropagation()};return o.createElement(Gt.SlotContext.Provider,{value:n},o.createElement(jt.ToolWidgetMenu,{horizontalDropDirection:qt.HorizontalDropDirection.FromRightToLeft,horizontalAttachEdge:qt.HorizontalAttachEdge.Right,className:$t.menuButton,arrow:!1,isDrawer:u.CheckMobile.any(),content:o.createElement(pt.LightButton,{size:"xsmall",variant:"ghost",color:"gray",iconOnly:!0,startSlot:o.createElement(ft.Icon,{icon:Zt}),className:a()($t.icon,"apply-common-tooltip"),"aria-label":Yt,title:Yt})},o.createElement("div",{
onMouseOver:l,onMouseOut:l},t.map((e=>o.createElement(Kt.PopupMenuItemToggle,{key:e.id,label:e.title,isChecked:e.visible,labelClassName:$t.label,className:$t.checkBox,onClick:()=>{return t=e.id,void i(t);var t},isDisabled:1===r.length&&r[0].id===e.id}))))))}var Jt=i(251458);function ei(e){const{isSticky:t,...i}=e;return o.createElement("div",{className:a()(Jt.container,t&&Jt.sticky)},o.createElement(Xt,{...i}))}var ti=i(298314),ii=i(116812),si=i(469690),oi=i(128231),ni=i.n(oi),ri=i(549421),ai=i(754177);const li="HeadCell",ci=.4,ui={"--head-cell-wrapper-tooltip-size":`${16}px`,"--head-cell-wrapper-tooltip-gap":`${5}px`};function di(e){const{column:t,alignment:i,dispatch:s,onColumnsReordered:n,canBeReordered:r,informerText:l}=e,c=(0,o.useRef)(null),[{isDragging:u},d,h]=(0,ii.useDrag)((()=>({type:li,item:{id:t.key},canDrag:()=>r,collect:e=>({isDragging:e.isDragging()})}))),[,p]=(0,si.useDrop)((()=>({accept:li,hover:(e,i)=>{var o;if(e.id===t.key)return;const n=null===(o=c.current)||void 0===o?void 0:o.getBoundingClientRect(),r=i.getClientOffset(),a=i.getDifferenceFromInitialOffset();void 0!==n&&null!==r&&null!==a&&function(e,t,i,s){const o=t-i,n=.4*(s-i);return e>0?o>n:o<n}(a.x,r.x,n.left,n.right)&&s({type:Vt.ActionType.ReorderColumns,columnKey:e.id,targetColumnKey:t.key})},drop:()=>{n()},canDrop:()=>r})));return(0,o.useEffect)((()=>{r&&d(p(c)),h((0,ti.getEmptyImage)(),{captureDraggingState:!0})}),[t]),o.createElement("div",{ref:c,className:a()(ai.wrapper,ri.wrapper,"right"===i&&ri.rightAligned),style:{...ui,opacity:u?ci:1},onClick:function(){s({type:Vt.ActionType.UpdateSortDirection,columnKey:t.key},!0)}},o.createElement(ni(),{...e}),l&&o.createElement(j.IconQuestionInformation,{...te(l),icon:"info",className:ri.tooltipIcon}))}var hi=i(327066),pi=i.n(hi);function mi(e){const{visibilityHandler:t,...i}=e;return(0,o.useLayoutEffect)((()=>(t(i.rowKeyValue,!0),()=>t(i.rowKeyValue,!1))),[]),o.createElement(pi(),{...i})}function gi(e,t){if(0===e.length)return[[t],[t.prevValue]];const[i,s]=e.reduce(((e,i)=>{var s;return e[0].push(t[i]),e[1].push(null===(s=t.prevValue)||void 0===s?void 0:s[i]),e}),[[],[]]);return[i,s]}const bi=(0,i(664682).memoize)(et);var vi=i(633714);function _i(e){const{label:t,children:i,informerText:s}=e,n=void 0!==t;return o.createElement("div",{className:a()(vi.wrapper,!n&&vi.hiddenLabel)},n&&o.createElement("span",{className:vi.labelWrapper},o.createElement("span",{className:vi.label},t),s&&o.createElement(j.IconQuestionInformation,{...te(s),icon:"info",className:vi.tooltipIcon})),i&&o.createElement("span",{className:vi.contentWrapper},o.createElement("span",{className:a()(vi.content,n&&vi.withPadding)},i)))}var fi=i(394212),wi=i(10170),Ci=i(73288),yi=i(139043),xi=i(157050);function Ei(e){const{columnsFilterItems:t,columnsFilterProps:i,tableProps:s,updateTableProps:n,tableWrapperAttributes:r}=e,[a,l,c,u]=(0,yi.useOverlayScroll)(),[d,h]=(0,o.useState)(0),p=(0,o.useRef)(null),m=(0,o.useCallback)((()=>({...r,...l,ref:c})),[r,c]);(0,o.useEffect)((()=>{const e=c.current
;if(null!==e)return e.addEventListener("scroll",u),()=>e.removeEventListener("scroll",u)}),[r,u]);const g=(0,o.useMemo)((()=>o.createElement(Bt.Table,{...s,childComponents:{...s.childComponents,tableWrapper:{elementAttributes:m}},dispatch:n})),[m,n,s]);(0,o.useEffect)((()=>{if(null===p.current||null===c.current)return;const e=p.current.getBoundingClientRect().bottom-c.current.getBoundingClientRect().bottom|0;h(e)}),[s.paging]);const b={"--table-wrapper-scroll-bottom-offset":`${d}px`};return o.createElement(o.Fragment,null,0!==t.length&&o.createElement(ei,{...i,items:t}),o.createElement("div",{className:xi.scrollWrapper,ref:p,style:b},o.createElement(fi.DndProvider,{backend:wi.HTML5Backend},o.createElement(Ci.OverlayScrollContainer,{...a,className:xi.scrollContainer}),g)))}const Si={0:Vt.SortDirection.Ascend,1:Vt.SortDirection.Descend},Pi=s.t(null,void 0,i(146018)),ki=h.enabled("show_symbol_logos")&&h.enabled("show_symbol_logo_in_account_manager");class Di{constructor(e=0){this._mode=e}value(){return this._mode}next(){switch(this._mode){case 0:this._mode=1;break;case 1:this._mode=null;break;case null:this._mode=0}return this._mode}reset(){this._mode=0}}function Ti({values:e}){return e.map((e=>null!=e?String(e):"")).join(" ").replace(/&nbsp;/g," ")}const Ii=new R.PriceFormatter;function Fi(e){return`Column ${e} metainfo`}function Mi(e,t){return!1===e.showZeroValues&&t.every((e=>0===e))}function Ni(e){return s.t(null,{replace:{pageNumber:String(e)}},i(678158))}Ot.default.fieldDelimiter="";class Ri{constructor(e){var t;this.onTableVisibilityChange=new P.Delegate,this.onBottomVisibilityChange=new P.Delegate,this.onSizeChange=new P.Delegate,this.onSortingChange=new P.Delegate,this._animationFrameId=0,this._isVisible=!1,this._rowsElements=new Map,this._rowsDisplayOptions=new Map,this._highlightTimeoutIds=new Map,this._formatters=new Map,this._visibleColumns=new Set,this._cellContentCaches=new WeakMap,this._hiddenFilterColumns=new Set,this._visibleRows=new Set,this._isScrolled=!1,this._isPaginationShown=!1,this._goToNextPage=()=>{var e;void 0!==(null===(e=this._tableProps.paging)||void 0===e?void 0:e.pageIndex)&&this._updateTableProps((0,Ut.updatePageIndex)(this._tableProps.paging.pageIndex+1),!0)},this._goToPrevPage=()=>{var e;void 0!==(null===(e=this._tableProps.paging)||void 0===e?void 0:e.pageIndex)&&this._updateTableProps((0,Ut.updatePageIndex)(this._tableProps.paging.pageIndex-1),!0)},this._handlePageNumberClick=(e,t)=>{this._updateTableProps((0,Ut.updatePageIndex)(t-1),!0)},this._makeHeadCellAttributes=({column:{key:e}})=>{var t;const i="settings"===e,s=!(null===(t=this._columnsMetainfo.get(e))||void 0===t?void 0:t.notSortable),o={className:a()(ai.headCell,s&&ai.sortable,i&&!this._isMobile&&ai.rightFixedColumn,e===this._fixedTitleColumnId&&!this._isMobile&&ai.leftFixedColumn)};return this._isMobile||(!i&&this._fixedColumns&&(o.width="50%"),i&&this._noSettingsColumn&&0===this._getAvailableColumnsFilterItems().length&&(o.style={display:"none"})),o},this._updateTableProps=(e,t)=>{switch(e.type){
case Vt.ActionType.UpdateSortDirection:const t=this._columnsMetainfo.get(e.columnKey);if(void 0===t||t.notSortable||void 0===nt(t))return;this._handleSortingUpdate(e.columnKey);break;case Vt.ActionType.UpdatePageIndex:this._resetTableScrollState()}this._tableProps=(0,Bt.kaReducer)(this._tableProps,e),t?this._render(!0):this._update()},this._makeHeadCellContent=e=>{const{column:t}=e;if("settings"===t.key){const e=this._getAvailableColumnsFilterItems();if(0!==e.length)return o.createElement(ei,{...this._columnsFilterProps,items:e})}const i=this._columnsMetainfo.get(t.key);return void 0!==(null==i?void 0:i.help)?o.createElement("span",{className:"apply-common-tooltip",title:i.help},t.title):t.title},this._makeTextContent=async e=>{var t,i,s,o,n;const{row:r,columnId:a}=e,l=this._columnsMetainfo.get(a);if(void 0===l)return"";const[c,u]=gi(l.dataFields,r);if(Mi(l,c))return"";const d=void 0!==l.formatter&&null!==(o=null!==(i=null===(t=this._formatters.get(l.formatter))||void 0===t?void 0:t.formatRaw)&&void 0!==i?i:null===(s=this._formatters.get(l.formatter))||void 0===s?void 0:s.formatText)&&void 0!==o?o:Ti;return await this._model.resolvePriceFormatter(r[this._idProperty]),d({values:c,prevValues:l.highlightDiff?u:void 0,priceFormatter:null!==(n=r.priceFormatter)&&void 0!==n?n:Ii})},this._makeCellContent=e=>{var t,i,s;const{row:n,columnId:r}=e,a=this._columnsMetainfo.get(r);if(void 0===a)return;const[l,c]=gi(a.dataFields,n);if(Mi(a,l))return o.createElement(o.Fragment,null);let u=Ti,d=!1;if(void 0!==a.formatter){const e=this._formatters.get(a.formatter);u=null!==(i=null!==(t=null==e?void 0:e.formatElement)&&void 0!==t?t:null==e?void 0:e.formatText)&&void 0!==i?i:u,d=Boolean(null==e?void 0:e.isPriceFormatterNeeded)}const h=this._getCellContentCaches(n),p=h.get(a.id),m=null!==(s=n.priceFormatter)&&void 0!==s?s:Ii;if(0!==a.dataFields.length&&void 0!==p&&p.priceFormatter===m&&this._isMobile===p.isMobile&&(0,M.deepEquals)(l,p.values)[0])return p.content;d&&this._model.resolvePriceFormatter(n[this._idProperty]);const g=u({values:l,prevValues:a.highlightDiff?c:void 0,priceFormatter:m});let b;if(this._isMobile){const e=ki&&"symbol"===a.formatter;b=o.createElement(_i,{label:!1===a.showLabelOnMobile||e?void 0:a.label,informerText:a.info},g)}else b=o.createElement(o.Fragment,null,g);return h.set(a.id,{values:l,content:b,priceFormatter:m,isMobile:this._isMobile}),b},this._makeRowContent=e=>o.createElement(mi,{...e,visibilityHandler:this._handleRowVisibilityChange}),this._handleRowVisibilityChange=(e,t)=>{t?this._visibleRows.add(e):this._visibleRows.delete(e)},this._makeRowAttributes=({rowKeyValue:e,rowData:t})=>{const i=this._rowsDisplayOptions.get(e);return{className:a()(ai.row,(null==i?void 0:i.isInactive)&&ai.inactiveRow,this._isFirstRow(e)&&ai.withMargin,this._isLastRow(e)&&ai.lastRow),"data-row-id":e,"data-row-linked":null==i?void 0:i.isLinked,ref:t=>this._setRowElement(e,t),onClick:(e,t)=>{var i,s;null===(s=null===(i=this._rowEventsHandlers)||void 0===i?void 0:i.onClick)||void 0===s||s.call(i,t.childProps.rowData)},
onMouseEnter:(e,t)=>{var i,s;null===(s=null===(i=this._rowEventsHandlers)||void 0===i?void 0:i.onMouseEnter)||void 0===s||s.call(i,t.childProps.rowData)},onMouseLeave:(e,t)=>{var i,s;null===(s=null===(i=this._rowEventsHandlers)||void 0===i?void 0:i.onMouseLeave)||void 0===s||s.call(i,t.childProps.rowData)}}},this._setRowElement=(e,t)=>{this._rowsElements.set(e,t)},this._makeCellAttributes=({column:e,rowData:t})=>{const{title:i,key:s}=e,o=(0,l.ensureDefined)(this._columnsMetainfo.get(s),Fi(s)),n=function(e,t){if(!1===e.showOnMobile)return!0;const[i]=gi(e.dataFields,t),s=bi(e.formatter),o=t=>!1===e.showZeroValues&&0===t||""===t||null==t;return void 0!==s.requiredFieldsIndexes&&0!==s.requiredFieldsIndexes.length?s.requiredFieldsIndexes.some((i=>void 0===e.dataFields[i]||o(t[e.dataFields[i]]))):i.every(o)}(o,t);return{className:a()(ai.cell,("right"===(null==o?void 0:o.alignment)||"settings"===s)&&ai.rightAlignedCell,!1===(null==o?void 0:o.showLabelOnMobile)&&!1,n&&ai.hideCellOnMobile,"settings"===s&&!this._isMobile&&ai.rightFixedColumn,s===this._fixedTitleColumnId&&!this._isMobile&&ai.leftFixedColumn),"data-label":i}},this._makeCellContentAttributes=({column:e,rowData:t})=>{var i;const{key:s}=e,o=(0,l.ensureDefined)(this._columnsMetainfo.get(s),Fi(s)),n=void 0!==(null==o?void 0:o.tooltipProperty)?null===(i=t[o.tooltipProperty])||void 0===i?void 0:i[o.id]:void 0;return{className:a()(ai.cellContent,void 0!==n&&"apply-common-tooltip common-tooltip-html",!1!==(null==o?void 0:o.isCapitalize)&&ai.capitalize),title:n}},this._makeTableWrapperAttributes=()=>({className:this._makeTableWrapperClassNames(),onScroll:this._onTableScroll,key:(0,Lt.randomHashN)(5)}),this._onTableScroll=e=>{const t=Math.abs(e.currentTarget.scrollLeft)>0;t!==this._isScrolled&&(this._isScrolled=t,this._tableWrapperAttributes={...this._tableWrapperAttributes,className:this._makeTableWrapperClassNames()},this._render()),this._isSupportPagination&&this._checkBottomIsVisible(e.currentTarget)},this._resizeHandler=()=>{cancelAnimationFrame(this._animationFrameId),this._animationFrameId=requestAnimationFrame((()=>{const e=this._checkIsMobile();e!==this._isMobile&&(this._isMobile=e,this._visibleColumns.clear(),this._columnsVisibilityInfo=this._makeColumnsVisibilityInfo(),this._columnsFilterProps=this._makeColumnsFilterProps(),this._tableProps.columns=this._makeColumns(),this.onSizeChange.fire(),this._update.cancel(),this._render(!0))}))},this._updatePaginationShowingState=()=>{const e=this._checkIsPaginationShown();e!==this._isPaginationShown&&(this._isPaginationShown=e,e?this._tableProps.paging={enabled:!0,pageSize:this._pageSize,pageIndex:0}:delete this._tableProps.paging)},this._saveColumnsOrder=()=>{var e;this._trackEvent(this._id,"Reorder columns");const t=this._tableProps.columns.map((e=>e.key));null===(e=this._getSettingsStorage())||void 0===e||e.setTableColumnsOrder(this._id,t)},this._onRowsChanged=()=>{this._updatePaginationShowingState();const e=this._model.rows(),t=0===e.length;t&&this._resetTableScrollState(),this._updateTableProps((0,
Ut.updateData)(e),t)};const{id:n,model:r,title:c,className:u,container:d,columns:h,stickyMobileColumnsFilter:p,idProperty:m,overlapManager:g,fixedColumns:b,getSettingsStorage:v,rowEventsHandlers:_,trackEvent:f,fixedTitleColumnId:w,emptyStateMessage:C,supportPagination:y,pageSize:x,isScrollBouncingEnabled:S=!1}=e;this._id=n,this._title=c,this._model=r,this._fixedTitleColumnId=w,this._fixedColumns=b,this._pageSize=x,this._isScrollBouncingEnabled=S,this._sortingColumnKey=`${this._id}.sort.column`,this._sortingModeKey=`${this._id}.sort.mode`,this._container=d,this._idProperty=m,this._overlapManager=g,this._isStickyMobileColumnsFilter=p,this._isSupportPagination=y,this._columnsMetainfo=new Map(h.map((e=>[e.id,e]))),this._getSettingsStorage=v,this._trackEvent=f,this._rowEventsHandlers=_,this._emptyStateMessage=null!=C?C:Pi,y&&(this._checkBottomIsVisible=(0,E.default)(this._checkBottomIsVisible,100)),this._update=(0,ot.default)(this._render,1e3);const k=this._getSavedSortingParameters();this._sortingColumn=null==k?void 0:k.columnId,this._sortingModeSwitcher=new Di(void 0===k?null:k.mode),this._isMobile=this._checkIsMobile(),window.addEventListener("resize",this._resizeHandler);const D="IntersectionObserver"in window;D||(this._isVisible=!0),this._containerVisibilityObserver=D?new IntersectionObserver((e=>{e.forEach((({intersectionRatio:e})=>{this._isVisible=0!==e,this._isVisible||this._resetTableScrollState(),this._render(!this._isVisible),this.onTableVisibilityChange.fire(this._isVisible)}))})):null,null===(t=this._containerVisibilityObserver)||void 0===t||t.observe(this._container),this._columnsVisibilityInfo=this._makeColumnsVisibilityInfo(),this._columnsFilterProps=this._makeColumnsFilterProps(),this._tableWrapperAttributes=this._makeTableWrapperAttributes(),this._tableProps={data:this._model.rows(),columns:this._makeColumns(),dispatch:this._updateTableProps,rowKeyField:this._idProperty,sortingMode:Vt.SortingMode.SingleTripleStateRemote,childComponents:{rootDiv:{elementAttributes:()=>({className:ai.root})},pagingPages:{content:e=>{const{pageIndex:t,pagesCount:n}=e;var r;if(this._isPaginationShown&&void 0!==t&&void 0!==n)return o.createElement(At,{size:"xsmall",currentPage:t+1,onPrevClick:this._goToPrevPage,onNextClick:this._goToNextPage,onNumberClick:this._handlePageNumberClick,lastPage:n,paginationAriaLabel:(r=this._title,r?s.t(null,{replace:{tableName:r}},i(978152)):s.t(null,void 0,i(347498))),nextPageAriaLabel:s.t(null,void 0,i(941916)),prevPageAriaLabel:s.t(null,void 0,i(115557)),getNumberAriaLabel:Ni})},elementAttributes:()=>({className:ai.paginationWrapper})},table:{elementAttributes:e=>{var t;return{className:a()(ai.table,u),"data-selector":"table",style:{borderCollapse:"separate",height:0===(null===(t=e.data)||void 0===t?void 0:t.length)?"100%":void 0}}}},tableBody:{elementAttributes:()=>({className:ai.tableBody}),content:e=>0===e.data.length?o.createElement("tr",{className:ai.emptyStateRow},o.createElement("td",{colSpan:this._getEmptyStateColspan(),className:ai.emptyStateCell
},o.createElement(zt.EmptyStateBlock,{className:ai.emptyStateBlock,iconClass:"",text:this._emptyStateMessage}))):void 0},tableHead:{elementAttributes:()=>({className:ai.tableHead})},headRow:{elementAttributes:()=>({className:ai.headRow})},headCell:{elementAttributes:this._makeHeadCellAttributes,content:e=>{var t;const i=this._columnsMetainfo.get(e.column.key);return o.createElement(di,{...e,alignment:null!==(t=null==i?void 0:i.alignment)&&void 0!==t?t:"left",dispatch:(0,E.default)(this._updateTableProps,100),onColumnsReordered:this._saveColumnsOrder,canBeReordered:!this._isMobile&&"settings"!==e.column.key&&e.column.key!==this._fixedTitleColumnId,informerText:null==i?void 0:i.info})}},cell:{elementAttributes:this._makeCellAttributes},dataRow:{content:this._makeRowContent,elementAttributes:this._makeRowAttributes},cellText:{content:({column:e,rowData:t})=>this._makeCellContent({columnId:e.key,row:t}),elementAttributes:this._makeCellContentAttributes},headCellContent:{elementAttributes:()=>({className:ai.headCellContent}),content:this._makeHeadCellContent}}},this._render(),this._subscribeModel()}rowIdAtEvent(e){return function(e){if(void 0!==e.dataset.rowId)return e.dataset.rowId;let t=e.parentElement;for(;null!==t;){if(void 0!==t.dataset.rowId)return t.dataset.rowId;t=t.parentElement}}(e.target)}isRowInViewport(e){return this._visibleRows.has(e)}sortingColumn(){return this._sortingColumn}sortingMode(){return this._sortingModeSwitcher.value()}size(){return this._isMobile?0:1}highlightRowById(e){const t=this._rowElementById(e);void 0!==t&&(clearTimeout(this._highlightTimeoutIds.get(e)),t.classList.remove(ai.highlightedRow),t.classList.add(ai.highlightedRow),this._highlightTimeoutIds.set(e,setTimeout((()=>{t.classList.remove(ai.highlightedRow)}),700)))}addFormatter(e){this._formatters.set(e.name,e)}setColumnAvailable(e,t){if(this._setColumnAvailableInFilter(e,t),t){const t=this._isMobile?".invisibleMobileColumns":".invisibleColumns";if(dt.getJSON(`${this._id}${t}`,[]).includes(e))return}this._setColumnVisibility(e,t)}setRowInactiveById(e,t){var i;(null===(i=this._rowsDisplayOptions.get(e))||void 0===i?void 0:i.isInactive)!==t&&(this._setRowInactiveById(e,t),this._updateTableProps((0,Ut.updateRow)(this._model.data().get(e))))}setRowInactiveByFilter(e){this._model.data().forEach(((t,i)=>this._setRowInactiveById(i,e(t)))),this._updateTableProps((0,Ut.updateData)(this._model.rows()),!0)}setRowLinkedById(e,t){var i;(null===(i=this._rowsDisplayOptions.get(e))||void 0===i?void 0:i.isLinked)!==t&&(this._setRowLinkedById(e,t),this._updateTableProps((0,Ut.updateRow)(this._model.data().get(e))))}setRowLinkedByFilter(e){this._model.data().forEach(((t,i)=>this._setRowLinkedById(i,e(t)))),this._updateTableProps((0,Ut.updateData)(this._model.rows()),!0)}destroy(){var e;window.removeEventListener("resize",this._resizeHandler),cancelAnimationFrame(this._animationFrameId),this._unsubscribeModel(),null===(e=this._containerVisibilityObserver)||void 0===e||e.disconnect(),n.unmountComponentAtNode(this._container)}async exportData(){
const e=[...this._columnsVisibilityInfo.values()];return Promise.all(this._model.rows().map((async t=>{const i={};for(const{isVisible:s,label:o,id:n}of e){if(!s||"settings"===n)continue;const e=await this._makeTextContent({columnId:n,row:t}),r=e=>{i[o+(e.title?` (${e.title})`:"")]=e.value};Array.isArray(e)?e.forEach(r):e instanceof Object?r(e):i[o]=e||""}return i})))}_checkIsPaginationShown(){return void 0!==this._pageSize&&this._model.rows().length>this._pageSize}_setRowInactiveById(e,t){this._updateRowDisplayOptions(e,{isInactive:t})}_setRowLinkedById(e,t){this._updateRowDisplayOptions(e,{isLinked:t})}_rowElementById(e){var t;return null!==(t=this._rowsElements.get(e))&&void 0!==t?t:void 0}_getEmptyStateColspan(){return this._noSettingsColumn&&0!==this._getAvailableColumnsFilterItems().length?this._visibleColumns.has("settings")?this._visibleColumns.size:this._visibleColumns.size+1:this._visibleColumns.size}_makeColumns(){const e=new Map;for(const[t,i]of this._columnsMetainfo){const{isVisible:s,isVisibleOnMobile:o,forceInvisible:n}=(0,l.ensureDefined)(this._columnsVisibilityInfo.get(t),Fi(t)),r={key:t,title:i.label,visible:(this._isMobile?o:s)&&!n,style:{minWidth:this._isMobile?void 0:80,maxWidth:this._isMobile?void 0:300}},a=this._sortingModeSwitcher.value();t===this._sortingColumn&&null!==a&&(r.sortDirection=Si[a]),e.set(r.key,r)}const t=this._getSavedColumnsOrder();return this._columnsMetainfo.has("settings")||(this._noSettingsColumn=!0,e.set("settings",{key:"settings",title:"",visible:!0}),this._columnsMetainfo.set("settings",{label:"",id:"settings",alignment:"right",dataFields:[],formatter:"empty",notSortable:!0,showOnMobile:!1})),this._isMobile||void 0===t?[...e.values()]:this._reorderColumns(t,e)}_resetTableScrollState(){this._isScrolled=!1,this._tableWrapperAttributes=this._makeTableWrapperAttributes()}_render(e=!1){var t;if(!e&&!this._isVisible)return;let i=[];this._isMobile&&0!==(null===(t=this._tableProps.data)||void 0===t?void 0:t.length)&&(i=this._getAvailableColumnsFilterItems()),n.render(o.createElement(Ei,{tableProps:this._tableProps,updateTableProps:this._updateTableProps,columnsFilterItems:i,columnsFilterProps:this._columnsFilterProps,tableWrapperAttributes:this._tableWrapperAttributes}),this._container)}_updateRowDisplayOptions(e,t){const i=this._rowsDisplayOptions.get(e);this._rowsDisplayOptions.set(e,{...i,...t})}_handleSortingUpdate(e){e===this._sortingColumn?this._sortingModeSwitcher.next():(this._sortingColumn=e,this._sortingModeSwitcher.reset()),this._updateSortingColumnSettings(),this.onSortingChange.fire({column:e,mode:this._sortingModeSwitcher.value()})}_updateSortingColumnSettings(){const e=this._sortingModeSwitcher.value();if(null===e)return dt.remove(this._sortingColumnKey),void dt.remove(this._sortingModeKey);dt.setValue(this._sortingColumnKey,this._sortingColumn),dt.setValue(this._sortingModeKey,e)}_getSavedSortingParameters(){const e=dt.getValue(this._sortingColumnKey);if(void 0===e)return;const t=dt.getInt(this._sortingModeKey);return{columnId:e,mode:null!=t?t:1}}
_setColumnAvailableInFilter(e,t){t?this._hiddenFilterColumns.delete(e):this._hiddenFilterColumns.add(e)}_getCellContentCaches(e){let t=this._cellContentCaches.get(e);return void 0===t&&(t=new Map,this._cellContentCaches.set(e,t)),t}_makeColumnsVisibilityInfo(){const e=new Map,t=[...this._columnsMetainfo.values()].filter((e=>e.hideByDefault)).map((e=>e.id)),i=dt.getJSON(`${this._id}.invisibleColumns`,t),s=dt.getJSON(`${this._id}.invisibleMobileColumns`,t);return this._columnsMetainfo.forEach((t=>{const o=t.id===this._fixedTitleColumnId,n=i.includes(t.id)&&!o,r=s.includes(t.id)&&!o;(this._isMobile?r:n)?this._visibleColumns.delete(t.id):this._visibleColumns.add(t.id),e.set(t.id,{isVisible:!n,isVisibleOnMobile:!r,isAlwaysVisible:t.notHideable||o,id:t.id,label:t.label})})),e}_isFirstRow(e){var t;return e===(null===(t=this._model.rows()[0])||void 0===t?void 0:t[this._idProperty])}_isLastRow(e){var t;const i=this._model.rows();return e===(null===(t=i[i.length-1])||void 0===t?void 0:t[this._idProperty])}_makeTableWrapperClassNames(){return a()(ai.tableWrapper,this._isScrolled&&!this._isMobile&&ai.isScrolled,!this._isScrollBouncingEnabled&&ai.noBouncingScroll)}_checkBottomIsVisible(e){const t=e.querySelector('[data-selector="table"]');if(null===t)return;const{bottom:i}=t.getBoundingClientRect(),s=window.innerHeight-i>=-100;this.onBottomVisibilityChange.fire(s)}_makeColumnsFilterProps(){return{items:[...this._columnsVisibilityInfo.values()].filter((e=>"settings"!==e.id&&!e.isAlwaysVisible)).map((e=>({id:e.id,title:e.label,visible:(this._isMobile?e.isVisibleOnMobile:e.isVisible)&&!e.forceInvisible}))),onCheck:e=>this._toggleColumnVisibility(e),overlapManagerWV:this._overlapManager,isSticky:this._isStickyMobileColumnsFilter}}_toggleColumnVisibility(e){const t=!this._visibleColumns.has(e);this._setColumnVisibility(e,t);const i=`${this._id}${this._isMobile?".invisibleMobileColumns":".invisibleColumns"}`,s=new Set(dt.getJSON(i,[]));t?s.delete(e):s.add(e),dt.setJSON(i,[...s])}_setColumnVisibility(e,t){t?this._visibleColumns.add(e):this._visibleColumns.delete(e);const i=this._columnsVisibilityInfo.get(e);void 0!==i&&(this._isMobile?this._columnsVisibilityInfo.set(e,{...i,isVisibleOnMobile:t&&!i.forceInvisible}):this._columnsVisibilityInfo.set(e,{...i,isVisible:t&&!i.forceInvisible}),this._columnsFilterProps=this._makeColumnsFilterProps()),this._updateTableProps({type:t?Vt.ActionType.ShowColumn:Vt.ActionType.HideColumn,columnKey:e},!0)}_getAvailableColumnsFilterItems(){return this._columnsFilterProps.items.filter((e=>!this._hiddenFilterColumns.has(e.id)))}_checkIsMobile(){return window.matchMedia(W.TradingLayoutBreakpoint.Mobile).matches}_subscribeModel(){this._model.onRowsChanged.subscribe(this,this._onRowsChanged)}_unsubscribeModel(){this._model.onRowsChanged.unsubscribe(this,this._onRowsChanged)}_reorderColumns(e,t){const i=new Map(t),s=i.get("settings");i.delete("settings");const o=[],n=void 0!==this._fixedTitleColumnId?i.get(this._fixedTitleColumnId):void 0;void 0!==n&&(o.push(n),i.delete(n.key));for(const t of e){
const e=i.get(t);void 0!==e&&(o.push(e),i.delete(t))}return o.push(...i.values()),void 0!==s&&o.push(s),o}_getSavedColumnsOrder(){var e;return null===(e=this._getSettingsStorage())||void 0===e?void 0:e.tableColumnsOrder(this._id)}}var Ai=i(401444);class Oi extends x{constructor(e){const t=st(),i=[],s=[],o=[],n=[],r=1===e.tables.length,a=[];e.tables.forEach((l=>{var c,u,d,h;const p=st({stretch:r}),m=st({stretch:r}),g=new at({options:l.options,priceFormatterGetter:l.priceFormatterFn,reverse:null===(c=l.flags)||void 0===c?void 0:c.reverse,columns:l.columns}),b=new Ri({id:l.id,model:g,container:m,columns:l.columns,idProperty:l.options.idProperty,className:l.options.className,stickyMobileColumnsFilter:!0,overlapManager:e.overlapManager,fixedColumns:null===(u=l.flags)||void 0===u?void 0:u.fixedColumns,getSettingsStorage:e.getTableSettingsStorage,rowEventsHandlers:l.rowEventsHandlers,trackEvent:e.trackEvent,supportPagination:null===(d=l.flags)||void 0===d?void 0:d.supportPagination,isScrollBouncingEnabled:!r});if(l.title){const e=function(e){const t=document.createElement("h3");return t.classList.add(Ai.title,Ai.hidden),t.textContent=e,t}(l.title);p.appendChild(e),n.push(e)}p.appendChild(m),t.appendChild(p);const v=new C({idProperty:l.options.idProperty,name:l.title||void 0,model:g,view:b,source:l.source,subscriptions:l.subscriptions,supportPagination:null===(h=l.flags)||void 0===h?void 0:h.supportPagination});if(s.push(g),o.push(b),i.push(v),v.addFormatters(l.formatters.concat(Xe)),v.start(),e.displayCounterInTab){const e=new k(l.source,l.subscriptions.rowUpdateDelegate);a.push(e)}}));const l={id:e.id,name:e.title};super(t,l,i),this._tableCounters=[],this._tableViewModels=s,this._tableViews=o,this._titleElements=n,e.displayCounterInTab&&(this._tableCounters=a,this._subscribeUpdates())}destroy(){this._unsubscribeUpdates(),this._tableViewModels.forEach((e=>e.destroy())),this._tableViews.forEach((e=>e.destroy())),super.destroy()}_onActiveChanged(e){super._onActiveChanged(e),e&&setTimeout((()=>{for(const e of this._titleElements)e.classList.remove(Ai.hidden)}))}_onCountChanged(e){this._setCount(e)}_subscribeUpdates(){this._tableCounters.forEach((e=>{e.start(),e.countChanged().subscribe(this,this._onCountChanged)}))}_unsubscribeUpdates(){this._tableCounters.forEach((e=>{e.stop(),e.countChanged().unsubscribe(this,this._onCountChanged)}))}}const Bi={danger:Ee.red,success:Ee.green};function Ui(e){const{text:t,notificationType:i}=e;return o.createElement("span",{className:a()(i&&Bi[i])},t)}const Vi="notificationType",Li={name:Vi,formatText:Je.formatText,formatElement:({values:[e,t]})=>o.createElement(Ui,{text:e,notificationType:t})},zi=[{label:s.t(null,void 0,i(312806)),id:"time",dataFields:["time"],formatter:"localDate"},{label:s.t(null,void 0,i(570198)),id:"title",dataFields:["title","type"],formatter:Vi,isCapitalize:!1},{label:s.t(null,void 0,i(770320)),id:"text",dataFields:["text"],isCapitalize:!1}];class Hi extends x{constructor(e,t,i){super(e,t,i),i.forEach((e=>e.addFormatters(t.formatters.concat(Xe))))}}class Wi extends Hi{
constructor(e){var t;const i=st(),s="id",o=new at({options:{idProperty:s,defaultSortingParameters:e.initialSorting},priceFormatterGetter:e.priceFormatterFn,columns:e.columns}),n=new Ri({id:e.id,title:e.title,model:o,container:i,columns:e.columns,idProperty:s,overlapManager:e.overlapManager,getSettingsStorage:e.getTableSettingsStorage,rowEventsHandlers:e.tableRowEventsHandlers,trackEvent:e.trackEvent,fixedTitleColumnId:e.fixedTitleColumnId,pageSize:void 0===e.overlapManager?100:20}),r=new(null!==(t=e.tableController)&&void 0!==t?t:C)({idProperty:s,model:o,view:n,source:e.source,subscriptions:e.subscriptions});super(i,{id:e.id,name:e.title,formatters:e.formatters},[r]),this._tableViewModel=o,this._tableView=n,r.start()}destroy(){this._tableViewModel.destroy(),this._tableView.destroy(),super.destroy()}}var ji=i(155352),qi=i(819224),Ki=i(610600),Gi=i(552019);function $i(e){const{closeFn:t,closeTitle:n,isDisabled:r}=e;return o.createElement(ji.ToolWidgetButton,{className:qi.icon,title:null!=n?n:s.t(null,{context:"position"},i(744074)),icon:Gi,onClick:e=>{e.stopPropagation(),t()},isDisabled:r})}function Zi(e){const{editFn:t,editTitle:n,isDisabled:r}=e;return o.createElement(ji.ToolWidgetButton,{className:a()(qi.icon,qi.editIcon),title:null!=n?n:s.t(null,void 0,i(223912)),icon:Ki,onClick:e=>{e.stopPropagation(),t()},isDisabled:r})}function Qi(e){const[t,i]=(0,o.useState)(!1),s=(0,Z.useIsMounted)(),{closeFn:n,closeTitle:r,editFn:a,editTitle:l,message:c,symbol:u,showDelayButton:d,showCloseButton:h,showEditButton:p}=e,m=void 0!==n,g=void 0!==a;return o.createElement("span",{className:qi.wrapper},!1,void 0!==c&&o.createElement(de,{...c}),(h||p)&&o.createElement("div",{className:qi.buttons},p&&o.createElement(Zi,{editFn:g?async function(){try{i(!0),await(null==a?void 0:a())}finally{s.current&&i(!1)}}:()=>{},editTitle:l,isDisabled:!g||t}),h&&o.createElement($i,{closeFn:m?async function(){try{i(!0),await(null==n?void 0:n())}finally{s.current&&i(!1)}}:()=>{},closeTitle:r,isDisabled:!m||t})))}const Yi={2:"orderstatus-filled",1:"orderstatus-cancelled",6:"orderstatus-working",3:"orderstatus-inactive",4:"orderstatus-placing",5:"orderstatus-rejected"};function Xi(e){return Yi[e]}class Ji{constructor(e,t,i,s){this._calculateCounts=async e=>{const t=await this._source();if(null==e?void 0:e.aborted)return;const i=new Set,s={};for(const{id:e}of this._ordersFilterTabs)s[e]=0;for(const e of t){if(i.has(e.id))continue;i.add(e.id),s["orderstatustatus-all"]=(0,l.ensureDefined)(s["orderstatustatus-all"])+1;const t=Xi(e.status);void 0!==s[t]&&(s[t]=(0,l.ensureDefined)(s[t])+1)}this._countChanged.fire(s);for(const{id:e,count:t}of this._ordersFilterTabs)t.setValue(s[e])},this._source=e,this._orderUpdateDelegate=t,this._fullUpdateDelegate=i,this._ordersFilterTabs=s,this._abortController=new AbortController,this._countChanged=new P.Delegate,this._calculateCounts=(0,S.respectLatest)(this._calculateCounts),this._calculateCountsDebounced=(0,E.default)((()=>this._calculateCounts(this._abortController.signal)),100)}countChanged(){return this._countChanged}
start(){this._abortController=new AbortController,this._orderUpdateDelegate.subscribe(this,this._calculateCountsDebounced),this._fullUpdateDelegate.subscribe(this,this._calculateCountsDebounced),this._calculateCounts(this._abortController.signal)}stop(){this._abortController.abort(),this._ordersFilterTabs.forEach((({count:e})=>e.setValue(0))),this._orderUpdateDelegate.unsubscribe(this,this._calculateCountsDebounced),this._fullUpdateDelegate.unsubscribe(this,this._calculateCountsDebounced)}}class es{constructor(e,t,i,s){this.filterFullUpdateDelegate=new P.Delegate,this.filterObjectUpdateDelegate=new P.Delegate,this.filterObjectDeleteDelegate=new P.Delegate,this._filteredObjects=[],this._requestsCount=0,this._started=!1,this._objectsRequest=null,this._source=e,this._objectUpdateDelegate=t,this._objectDeleteDelegate=i,this._fullUpdateDelegate=s}start(){this._requestsCount++;const e=this._source,t=this._objectsRequest||Promise.resolve([]);this._objectsRequest=t.then((()=>e())).then((e=>{const t=e.filter((e=>this._satisfy(e)));return this._requestsCount--,this._requestsCount||(this.stop(),this._filteredObjects=t,this._objectsRequest=null,this._objectUpdateDelegate.subscribe(this,this._onObjectUpdated),this._objectDeleteDelegate&&this._objectDeleteDelegate.subscribe(this,this._onObjectDeleted),this._fullUpdateDelegate.subscribe(this,this._onFullUpdate),this._started=!0),t.slice(0)}))}stop(){this._objectUpdateDelegate.unsubscribe(this,this._onObjectUpdated),this._fullUpdateDelegate.unsubscribe(this,this._onFullUpdate),this._objectDeleteDelegate&&this._objectDeleteDelegate.unsubscribe(this,this._onObjectDeleted),this._filteredObjects=[],this._started=!1}isStarted(){return this._started}filterSource(){return this._objectsRequest?this._objectsRequest:Promise.resolve(this._filteredObjects.slice(0))}_satisfy(e){throw new Error("should be implemented")}_onFullUpdate(){this.stop(),this.start(),this.filterFullUpdateDelegate.fire()}_onObjectDeleted(e){const t=this._filteredObjects.find((t=>t.id===e));t&&this.filterObjectDeleteDelegate.fire(t.id)}_onObjectUpdated(e){const t=this._filteredObjects.find((t=>t.id===e.id)),i=t?this._filteredObjects.indexOf(t):-1;this._satisfy(e)?(t?this._filteredObjects[i]=e:this._filteredObjects.push(e),this.filterObjectUpdateDelegate.fire(e)):t&&(this.filterObjectDeleteDelegate.fire(t.id),this._filteredObjects.splice(i,1))}}class ts extends es{constructor(e,t,i,s){super(e,t,i,s),this._filterStatus=null}setFilterStatus(e){this._filterStatus=e,this.isStarted()&&(this.stop(),this.start())}filterStatus(){return this._filterStatus}_satisfy(e){return!this._filterStatus||e.status===this._filterStatus}}class is extends es{constructor(e,t,i,s,o){super(e,t,i,s),this._filter=o}_satisfy(e){return this._filter(e)}}class ss{constructor(e,t,i){this._orders=[],this._source=e,this._rowUpdateDelegate=t,this._fullUpdateDelegate=i,this._orders=[],this._statusChanged=new P.Delegate}statusChanged(){return this._statusChanged}start(){this._source().then((e=>{this._orders=e.map((e=>Object.assign({},e))),
this._rowUpdateDelegate.subscribe(this,this._onRowUpdated),this._fullUpdateDelegate.subscribe(this,this._onFullUpdate)}))}stop(){this._fullUpdateDelegate.unsubscribe(this,this._onFullUpdate),this._rowUpdateDelegate.unsubscribe(this,this._onRowUpdated),this._orders=[]}_onFullUpdate(){this.stop(),this.start()}_onRowUpdated(e){const t=this._orders.find((({id:t})=>t===e.id));(null==t?void 0:t.status)!==e.status&&(void 0!==t?t.status=e.status:this._orders.push(Object.assign({},e)),this._statusChanged.fire(e))}}class os extends C{constructor(e){super(e),this._onLinkingBound=this._onLinking.bind(this),c.linking.proSymbol.subscribe(this._onLinkingBound)}destroy(){c.linking.proSymbol.unsubscribe(this._onLinkingBound),super.destroy()}_update(e){if(!super._update(e))return!1;const t=c.linking.proSymbol.value();return this.setRowLinkedById(e.id,t===e.symbol),!0}_onCreated(){this.setRowLinkedByFilter((e=>e.symbol===c.linking.proSymbol.value()))}_onLinking(e){this.setRowLinkedByFilter((t=>t.symbol===e))}}class ns extends os{constructor(e){super(e),this._title=e.title,this._getFilterStatus=e.filterStatusGetter,this._isAlwaysActive=e.isAlwaysActive}fullUpdate(){return this._fullUpdate()}getDataExporter(){const e=super.getDataExporter(),t=this._getFilterStatus(),o=null!==t?(0,p.orderStatusToText)(t):s.t(null,void 0,i(580066));return e.name=`${this._title} ${o}`,e}_update(e){return!!super._update(e)&&(this.setRowInactiveById(e.id,!this._filterByStatus(e.status)),!0)}_onCreated(){super._onCreated(),this.setRowInactiveByFilter((e=>!this._filterByStatus(e.status)))}_filterByStatus(e){return this._isAlwaysActive||null!==this._getFilterStatus()||(0,p.isOrderActive)(e)}}const rs=["formatPrice","formatPriceForexSup"],as="orderSettings",ls="Orders Page";function cs(e,t){return{id:e,label:t,count:new y.WatchedValue(0)}}class us extends x{constructor(e){const t=e.formatters||[],n=new is(e.source,e.subscriptions.rowUpdateDelegate,null,e.subscriptions.fullUpdateDelegate,e.filter),r=function(e){const t=[cs("orderstatustatus-all",s.t(null,void 0,i(580066)))],o=e.map((e=>cs(Xi(e),(0,L.capitalizeFirstLetter)((0,p.orderStatusToText)(e)))));return t.concat(o)}(e.possibleOrderStatuses),a=new Ji(n.filterSource.bind(n),n.filterObjectUpdateDelegate,n.filterFullUpdateDelegate,r),l=new ts(n.filterSource.bind(n),n.filterObjectUpdateDelegate,n.filterObjectDeleteDelegate,n.filterFullUpdateDelegate),c=e.subscriptions.fullUpdateDelegate;e.source=l.filterSource.bind(l),e.subscriptions.rowUpdateDelegate=l.filterObjectUpdateDelegate,e.subscriptions.rowDeleteDelegate=l.filterObjectDeleteDelegate,e.subscriptions.fullUpdateDelegate=l.filterFullUpdateDelegate;const u=st(),d="id",h={group:e=>+(0,p.isOrderActive)(e.status),idProperty:d,defaultSortingParameters:e.initialSorting},m=e.columns.map((e=>rs.includes(e.formatter)?{...e,showZeroValues:!1}:e)),g=[...m,{label:"",id:"settings",alignment:"right",dataFields:[],formatter:as,notSortable:!0,showOnMobile:!1}],b=new at({columns:g,priceFormatterGetter:e.priceFormatterFn,options:h}),v=new Ri({id:e.tableId,title:e.title,
model:b,className:"orders",container:u,columns:g,idProperty:d,overlapManager:e.overlapManager,getSettingsStorage:e.getTableSettingsStorage,rowEventsHandlers:e.tableRowEventsHandlers,trackEvent:e.trackEvent,fixedTitleColumnId:"symbol",pageSize:void 0===e.overlapManager?100:20}),f={id:e.id,name:e.title},w=new ns({idProperty:d,title:e.title,model:b,view:v,source:e.source,subscriptions:e.subscriptions,filterStatusGetter:()=>this._ordersFilter.filterStatus(),isAlwaysActive:e.isAlwaysActive});super(u,f,[w]),this._tableViewModel=b,this._tableView=v,this._tableController=w,this._globalFullUpdateDelegate=c,this._statusWatcher=new ss(n.filterSource.bind(n),n.filterObjectUpdateDelegate,n.filterFullUpdateDelegate),this._orderPreFilter=n,this._ordersFilter=l,this._ordersFilterCountsUpdater=a,this._possibleOrderStatuses=e.possibleOrderStatuses,this._columns=m,this._pendingOrdersByStatuses={},this._configFlags=e.configFlags,this._trackEvent=e.trackEvent,this._closeFn=t=>(e.trackEvent(ls,"Cancel Order"),e.cancelFn(t)),this._editFn=(t,i,s,o)=>(e.trackEvent(ls,"Edit Order"),e.modifyFn(t,i,s,o));const C={name:as,formatElement:({values:[t]})=>{const n=""!==t.symbol,r=this._isPlacingOrderCancellingDisabled(t.status),a=(0,p.isOrderActive)(t.status),l=!n||!a,c=l&&r?void 0:()=>this._closeFn(t.id),u=l||!(0,p.isModifyOrderSupported)(t,this._configFlags)?void 0:()=>this._editFn(t),d=n?t.message:ne(t.message);return o.createElement(Qi,{closeFn:c,closeTitle:s.t(null,void 0,i(904543)),editFn:u,editTitle:(0,_.appendEllipsis)(s.t(null,void 0,i(567710))),message:d,symbol:t.symbol,showDelayButton:n&&t.isDelayed,showCloseButton:!e.isAlwaysActive&&(a||!r),showEditButton:!e.isAlwaysActive&&(0,p.isBrokerSupportOrderModification)(this._configFlags)&&a})},formatText:()=>""};w.addFormatters([...Xe,C,...t]),this._filterTabs=r,this._subscribeUpdates()}destroy(){this._unsubscribeUpdates(),this._tableViewModel.destroy(),this._tableView.destroy(),super.destroy()}async contextItems(e){const t=this._tableController.rowIdAtEvent(e);if(void 0===t)return[];const o=this._tableController.rowById(t);if(void 0===o||""===o.symbol)return[];const n=[];return(0,p.isModifyOrderSupported)(o,this._configFlags)&&n.push({text:(0,_.appendEllipsis)(s.t(null,void 0,i(567710))),enabled:(0,p.isOrderActive)(o.status),action:()=>this._editFn(o)}),n.push({text:s.t(null,void 0,i(895931)),enabled:(0,p.isOrderActive)(o.status)||!this._isPlacingOrderCancellingDisabled(o.status),action:()=>this._closeFn(t)}),n}contextRow(e){return this._tableController.rowAtEvent(e)}activateFilterTab(e){if(this._activeFilterTabId===e)return;const t=void 0===this._activeFilterTabId;super.activateFilterTab(e);const i=function(e){return ds[e]}(e);this._ordersFilter.setFilterStatus(i),this._columns.forEach((e=>{var t;void 0!==e.supportedStatusFilters&&this._tableController.setColumnAvailable(e.id,e.supportedStatusFilters.includes(null!==(t=i)&&void 0!==t?t:0))})),t||(this._trackEvent(ls,"Order status filter",null!==i?(0,p.orderStatusToText)(i):void 0),this._tableController.fullUpdate().then((()=>{
if(null===i)return void(this._pendingOrdersByStatuses={});const e=this._pendingOrdersByStatuses[i];void 0!==e&&(e.forEach((e=>this._tableController.highlightRowById(e))),e.clear())})))}_subscribeUpdates(){this._tableController.start(),this._orderPreFilter.start(),this._ordersFilter.start(),this._statusWatcher.start(),this._statusWatcher.statusChanged().subscribe(this,this._onStatusChange),this._ordersFilterCountsUpdater.start(),this._ordersFilterCountsUpdater.countChanged().subscribe(this,this._onCountChanged),this._globalFullUpdateDelegate.subscribe(this,this._onGlobalFullUpdate)}_unsubscribeUpdates(){this._tableController.stop(),this._orderPreFilter.stop(),this._ordersFilter.stop(),this._statusWatcher.stop(),this._statusWatcher.statusChanged().unsubscribe(this,this._onStatusChange),this._ordersFilterCountsUpdater.stop(),this._ordersFilterCountsUpdater.countChanged().unsubscribe(this,this._onCountChanged),this._globalFullUpdateDelegate.unsubscribe(this,this._onGlobalFullUpdate)}_onGlobalFullUpdate(){this._pendingOrdersByStatuses={}}_onCountChanged(e){var t,i;const s=(null!==(t=e[Xi(6)])&&void 0!==t?t:0)+(null!==(i=e[Xi(3)])&&void 0!==i?i:0);this._setCount(s)}_onStatusChange(e){var t;null!==this._ordersFilter.filterStatus()&&4!==e.status&&(this._possibleOrderStatuses.forEach((t=>{var i;null===(i=this._pendingOrdersByStatuses[t])||void 0===i||i.delete(e.id)})),this._pendingOrdersByStatuses[e.status]||(this._pendingOrdersByStatuses[e.status]=new Set),null===(t=this._pendingOrdersByStatuses[e.status])||void 0===t||t.add(e.id),setTimeout((()=>{this._ordersFilter.filterStatus()===e.status&&this._tableController.isRowInViewport(e.id)&&this._tableController.highlightRowById(e.id)}),0))}_isPlacingOrderCancellingDisabled(e){return!this._configFlags.supportPlacingOrderCancelling||4!==e}}const ds={"orderstatus-filled":2,"orderstatus-cancelled":1,"orderstatus-working":6,"orderstatus-inactive":3,"orderstatus-placing":4,"orderstatus-rejected":5,"orderstatustatus-all":null};var hs,ps,ms=i(322317);class gs{constructor(e,t,i){this._calculateCounts=async e=>{const t=await this._source();if(null==e?void 0:e.aborted)return;const i=t.filter(f).length;i!==this._count&&(this._count=i,this._countChanged.fire(i))},this._source=e,this._rowUpdateDelegate=t,this._fullUpdateDelegate=i,this._countChanged=new P.Delegate,this._abortController=new AbortController,this._calculateCounts=(0,S.respectLatest)(this._calculateCounts),this._calculateCountsDebounced=(0,E.default)((()=>this._calculateCounts(this._abortController.signal)),100)}countChanged(){return this._countChanged}start(){this._abortController=new AbortController,this._rowUpdateDelegate.subscribe(this,this._calculateCountsDebounced),this._fullUpdateDelegate.subscribe(this,this._calculateCountsDebounced),this._calculateCounts(this._abortController.signal)}stop(){this._abortController.abort(),this._count=void 0,this._rowUpdateDelegate.unsubscribe(this,this._calculateCountsDebounced),this._fullUpdateDelegate.unsubscribe(this,this._calculateCountsDebounced)}}!function(e){
e[e.IndividualPositions=0]="IndividualPositions",e[e.NetPositions=1]="NetPositions"}(hs||(hs={})),function(e){e.IndividualPositions="individual-positions",e.NetPositions="net-positions"}(ps||(ps={}));const bs="Trading.PositionsTable.Filter",vs=["formatPrice","formatPriceForexSup"],_s=s.t(null,void 0,i(563654)),fs=s.t(null,void 0,i(394948)),ws=s.t(null,void 0,i(568355)),Cs=s.t(null,void 0,i(685581)),ys="positionSettings",xs="individualPositionSettings",Es={1:"net-positions",0:"individual-positions"};function Ss(e){const{id:t,name:i,content:s,source:o,subscriptions:n,columns:r,priceFormatterFn:a,rowEventsHandlers:l,overlapManager:c,getTableSettingsStorage:u,trackEvent:d}=e,h="id",p=new at({priceFormatterGetter:a,columns:r,options:{idProperty:h}}),m=new Ri({id:t,model:p,title:i,className:"positions",container:s,columns:r,idProperty:h,getSettingsStorage:u,overlapManager:c,fixedTitleColumnId:"symbol",rowEventsHandlers:l,trackEvent:d,emptyStateMessage:Cs,pageSize:void 0===c?100:20});return{model:p,view:m,controller:new Ps({idProperty:h,name:i,model:p,view:m,source:o,subscriptions:n})}}class Ps extends os{_update(e){return f(e)?super._update(e):(this._deleteRow(e.id),!0)}}class ks extends x{constructor(e){const t=function(){const e=document.createElement("div");return e.classList.add(ms.pageContainer),e}(),n={id:"positions",name:_s},r=st(),a=e.positions.columns.map((e=>vs.includes(e.formatter)?{...e,showZeroValues:!1}:e));a.push({label:"",id:"settings",alignment:"right",dataFields:["id","message","symbol","isDelayed"],formatter:ys,notSortable:!0,showOnMobile:!1});const c=Ss({id:e.brokerId+".positions",name:e.individualPositions?fs:_s,content:r,source:e.positions.source,subscriptions:Object.assign({},e.positions.subscriptions,{fullUpdateDelegate:e.fullUpdateDelegate}),columns:a,priceFormatterFn:e.priceFormatterFn,overlapManager:e.overlapManager,getTableSettingsStorage:e.getTableSettingsStorage,rowEventsHandlers:e.tableRowEventsHandlers,trackEvent:e.trackEvent});t.appendChild(r);const u=[c.controller];let d,h=null;if(e.individualPositions){const i=e.individualPositions.columns.map((e=>vs.includes(e.formatter)?{...e,showZeroValues:!1}:e));i.push({label:"",id:"settings",alignment:"right",dataFields:["id","message","canBeClosed","symbol","isDelayed"],formatter:xs,notSortable:!0,showOnMobile:!1}),h=st(),d=Ss({id:e.brokerId+".individualPositions",name:ws,content:h,source:e.individualPositions.source,subscriptions:Object.assign({},e.individualPositions.subscriptions,{fullUpdateDelegate:e.fullUpdateDelegate}),columns:i,priceFormatterFn:e.priceFormatterFn,overlapManager:e.overlapManager,getTableSettingsStorage:e.getTableSettingsStorage,rowEventsHandlers:e.tableRowEventsHandlers,trackEvent:e.trackEvent}),t.appendChild(h),u.push(d.controller)}super(t,n,u),this._positionsTableContainer=r,this._individualPositionsTableContainer=h,this._positionsTableController=c.controller,this._positionsTableViewModel=c.model,this._positionsTableView=c.view,this._individualPositionsTableController=null==d?void 0:d.controller,
this._individualPositionsTableViewModel=null==d?void 0:d.model,this._individualPositionsTableView=null==d?void 0:d.view,null!==e.individualPositions&&(this._filterTabs=[],this._filterTabs[0]={id:"individual-positions",label:ws,count:new y.WatchedValue(0)},this._filterTabs[1]={id:"net-positions",label:fs,count:new y.WatchedValue(0)});const p=e.formatters||[];this._fullUpdateDelegate=e.fullUpdateDelegate,this._posSubscriptions=e.positions.subscriptions,this._checkSupportIndividualPositions=e.checkSupportIndividualPositions,this._checkPositionReverseSupport=e.checkPositionReverseSupport,this._trackEvent=e.trackEvent,this._storeFunctions(e);const m={name:ys,formatElement:({values:[e,t,n,r]})=>{const a=""===n,l=a||null===this._closePositionFn?void 0:this._closePositionFn.bind(null,e),c=a||null===this._editPositionFn?void 0:this._editPositionFn.bind(null,e),u=a?ne(t):t;return o.createElement(Qi,{closeFn:l,closeTitle:s.t(null,{context:"position"},i(744074)),editFn:c,editTitle:(0,_.appendEllipsis)(s.t(null,void 0,i(324927))),message:u,symbol:n,showDelayButton:!a&&r,showCloseButton:null!==this._closePositionFn,showEditButton:null!==this._editPositionFn})},formatText:()=>""};if(this._positionsTableController.addFormatters([m,...Xe,...p]),e.individualPositions){const t={name:xs,formatElement:({values:[e,t,n,r,a]})=>{const l=""===r,c=l||null===this._closeIndividualPositionFn||!n?void 0:this._closeIndividualPositionFn.bind(null,e),u=l||null===this._editIndividualPositionFn?void 0:this._editIndividualPositionFn.bind(null,e);return o.createElement(Qi,{closeFn:c,closeTitle:s.t(null,{context:"position"},i(744074)),editFn:u,editTitle:(0,_.appendEllipsis)(s.t(null,void 0,i(324927))),message:t,symbol:r,showDelayButton:!l&&a,showEditButton:null!==this._editIndividualPositionFn,showCloseButton:null!==this._closeIndividualPositionFn})},formatText:()=>""};(0,l.ensure)(this._individualPositionsTableController).addFormatters([t,...Xe,...p]),this._individualPositionsFilterCounter=new gs(e.individualPositions.source,e.individualPositions.subscriptions.countUpdateDelegate,this._fullUpdateDelegate)}else this._individualPositionsFilterCounter=null;this._positionsFilterCounter=new gs(e.positions.source,this._posSubscriptions.countUpdateDelegate,this._fullUpdateDelegate),this._subscribeUpdates();const g=dt.getInt(bs,0);this._activeFilterTabId=this._checkSupportIndividualPositions()?Es[g]:"net-positions",this._selectPage(this._activeFilterTabId)}async contextItems(e){const t=this._activeTableController(),o=t.rowIdAtEvent(e);if(void 0===o)return[];const n=(0,l.ensureDefined)(t.rowById(o));if(""===n.symbol)return[];const r=[];if("individual-positions"===this._activeFilterTabId)return this._editIndividualPositionFn&&r.push({text:(0,_.appendEllipsis)(s.t(null,void 0,i(324927))),action:this._editIndividualPositionFn.bind(null,o)}),this._closeIndividualPositionFn&&n.canBeClosed&&r.push({text:s.t(null,void 0,i(759783)),action:this._closeIndividualPositionFn.bind(null,o)}),r;this._editPositionFn&&r.push({text:(0,_.appendEllipsis)(s.t(null,void 0,i(324927))),
action:this._editPositionFn.bind(null,o)}),this._closePositionFn&&r.push({text:s.t(null,void 0,i(759783)),action:this._closePositionFn.bind(null,o)});const a=await this._checkPositionReverseSupport(n.symbol);return this._reversePositionFn&&a&&r.push({text:s.t(null,void 0,i(898818)),action:this._reversePositionFn.bind(null,o)}),r}contextRow(e){return this._activeTableController().rowAtEvent(e)}destroy(){var e,t;this._unsubscribeUpdates(),this._positionsTableViewModel.destroy(),this._positionsTableView.destroy(),null===(e=this._individualPositionsTableViewModel)||void 0===e||e.destroy(),null===(t=this._individualPositionsTableView)||void 0===t||t.destroy(),super.destroy()}activateFilterTab(e){super.activateFilterTab(e),this._selectPage(e)}_onActiveChanged(e){e?this._activeTableController().setActive(!0):(this._positionsTableController.setActive(!1),this._individualPositionsTableController&&this._individualPositionsTableController.setActive(!1))}_onPositionsCountChanged(e){var t;this._setCount(e),null===(t=this._filterTabs[1])||void 0===t||t.count.setValue(e)}_onIndividualPositionsCountChanged(e){var t;null===(t=this._filterTabs[0])||void 0===t||t.count.setValue(e)}_activeTableController(){return this._checkSupportIndividualPositions()&&"individual-positions"===this._activeFilterTabId?(0,l.ensure)(this._individualPositionsTableController):this._positionsTableController}_subscribeUpdates(){this._positionsFilterCounter.start(),this._positionsFilterCounter.countChanged().subscribe(this,this._onPositionsCountChanged),this._individualPositionsFilterCounter&&(this._individualPositionsFilterCounter.start(),this._individualPositionsFilterCounter.countChanged().subscribe(this,this._onIndividualPositionsCountChanged)),this._fullUpdateDelegate.subscribe(this,this._stopIndividualPositionsControllerIfNeeded)}_unsubscribeUpdates(){this._positionsFilterCounter.stop(),this._positionsFilterCounter.countChanged().unsubscribe(this,this._onPositionsCountChanged),this._individualPositionsFilterCounter&&(this._individualPositionsFilterCounter.stop(),this._individualPositionsFilterCounter.countChanged().unsubscribe(this,this._onIndividualPositionsCountChanged)),this._fullUpdateDelegate.unsubscribe(this,this._stopIndividualPositionsControllerIfNeeded)}_stopIndividualPositionsControllerIfNeeded(){var e;this.isActive()&&this._checkSupportIndividualPositions()||null===(e=this._individualPositionsTableController)||void 0===e||e.stop()}_selectPage(e){var t,i,s;const o="net-positions"===e;o?this._positionsTableController.start():null===(t=this._individualPositionsTableController)||void 0===t||t.start(),this._positionsTableContainer.classList.toggle("js-hidden",!o),null===(i=this._individualPositionsTableContainer)||void 0===i||i.classList.toggle("js-hidden",o),this._positionsTableController.setActive(o),null===(s=this._individualPositionsTableController)||void 0===s||s.setActive(!o),dt.setValue(bs,o?1:0)}_storeFunctions(e){const t="Positions Page",i=e.positions.closeFn;this._closePositionFn=i?e=>(this._trackEvent(t,"Close Position"),i(e)):null
;const s=e.positions.editFn;this._editPositionFn=s?e=>(this._trackEvent(t,"Edit Position"),s(e)):null;const o=e.positions.reverseFn;this._reversePositionFn=o?e=>(this._trackEvent(t,"Reverse Position"),o(e)):null;const n=e.individualPositions;if(n){const e=n.closeFn;this._closeIndividualPositionFn=e?i=>(this._trackEvent(t,"Close Individual position"),e(i)):null;const i=n.editFn;this._editIndividualPositionFn=i?e=>(this._trackEvent(t,"Edit Individual position"),i(e)):null}}}var Ds=i(661851),Ts=i(392999);function Is(e){const{wValue:t,formatter:i,text:s}=e,n=(0,Wt.useWatchedValueReadonly)({watchedValue:t}),r=(0,o.useMemo)((()=>{const e=et(null!=i?i:"fixed");return e.isPriceFormatterNeeded?Je:e}),[i]),a=(0,o.useMemo)((()=>function(e,t){var i;const s=(null!==(i=e.formatElement)&&void 0!==i?i:e.formatText)({values:[t]});return"string"!=typeof s?s:s.replace(/&nbsp;/g," ")}(r,n)),[r,n]);return void 0===a?o.createElement(o.Fragment,null):o.createElement("div",{className:Ts.accountSummaryField},o.createElement("div",{className:Ts.title},s),o.createElement("div",{className:Ts.value},a))}var Fs=i(434081);function Ms(e){const{summaryFields:t,displayMode:i}=e;return 0===t.length?o.createElement(o.Fragment,null):o.createElement("div",{className:r(0===i&&Fs.addMargin,Fs.accountSummaryRow)},t.map((e=>o.createElement(Is,{...e,key:e.text}))))}var Ns=i(70587),Rs=i(826971);function As(e){const{brokerDropdownProps:t,accountDropdownProps:i,commonDropdownProps:s,summaryFieldsVisibilityManager:n,summaryFields:a,displayMode:l,isBetaBroker:c}=e,u=(0,Ds.useObservable)(n.fieldsVisibilityInfo$,n.fieldsVisibilityInfo()),d=a.flatMap((e=>{var t;return(null===(t=u.get(e.text))||void 0===t?void 0:t.visible)?e:[]})),h=void 0!==i&&void 0!==s,p=0!==d.length;return h||p?o.createElement("div",{className:r(Rs.headerWrapper,!h&&Rs.withoutDropdowns)},h&&o.createElement("div",{className:Rs.brokerBlock},o.createElement(Ns.AccountManagerHeaderDropdowns,{brokerDropdownProps:t,accountDropdownProps:i,commonDropdownProps:s}),!1),p&&o.createElement(Ms,{summaryFields:d,displayMode:l})):o.createElement(o.Fragment,null)}var Os=i(628370),Bs=i(796160);function Us(e){const{element:t}=e;return o.createElement("div",{ref:e=>{null!==e&&(e.contains(t)||(null!==e.firstChild&&e.removeChild(e.firstChild),e.append(t)))}})}var Vs=i(414823),Ls=i(254226),zs=i(823065);const Hs=zs.tabs;function Ws(e){const{id:t,label:i,count:s,isActive:n}=e,r=(0,Wt.useWatchedValueReadonly)({watchedValue:s}),l=0!==r&&void 0!==r?` ${r}`:"";return o.createElement("span",{"data-account-manager-tab-id":t},i,o.createElement("span",{className:a()(!n&&zs.count)},l))}function js(e){const{pages:t,onActivate:i,defaultActiveTabId:s}=e,[n,r]=(0,o.useState)(s);return(0,o.useEffect)((()=>{i({id:n})}),[n,i]),o.createElement(Ls.UnderlineButtonTabs,{id:(0,Vs.createDomId)("account-manager-tabs"),className:Hs,overflowBehaviour:"scroll",size:"xsmall",isActive:({id:e})=>e===n,items:t.map((e=>function(e,t){const i=e.id();return{id:i,label:o.createElement(Ws,{id:i,label:e.name(),count:e.count(),isActive:i===t})}}(e,n))),
onActivate:({id:e})=>r(e)})}var qs,Ks=i(897107),Gs=i(298563),$s=i(273388),Zs=i(234539);!function(e){e.XSmall="xsmall",e.Small="small",e.Medium="medium",e.XLarge="xlarge"}(qs||(qs={}));const Qs=(0,o.createContext)("small");i(737402);var Ys=i(395848);function Xs({endSlot:e,children:t,className:i,"aria-hidden":s}){return o.createElement("span",{"aria-hidden":s,className:i},t&&o.createElement("span",{className:Ys.content},t),e&&o.createElement("span",{className:Ys["end-slot-wrap"]},e))}var Js=i(609166);const eo=(0,o.forwardRef)(((e,t)=>{const i=o.useContext(Qs),s=(0,o.useContext)(Zs.CustomBehaviourContext),{id:n,active:a,fake:l,theme:c=Js,enableActiveStateStyles:u=s.enableActiveStateStyles,hideFocusOutline:d=!1,endSlot:h,children:p,...m}=e;return o.createElement("button",{...m,id:n,ref:t,className:r(c["square-tab-button"],a&&c.selected,c[`size-${i}`],l&&c.fake,!u&&c["disable-active-state-styles"],d&&c["disable-focus-outline"])},o.createElement(Xs,{endSlot:h,className:Js["tab-content"]},p),o.createElement(Xs,{"aria-hidden":!0,endSlot:h,className:Js["tab-hidden-content"]},p))}));eo.displayName="SquareTabButton";const to=(0,o.forwardRef)(((e,t)=>{const{item:i,highlighted:s,handleItemRef:n,onClick:r,...a}=e,l=(0,o.useCallback)((()=>{r&&r(i)}),[r,i]),c=(0,o.useCallback)((e=>{n&&n(i,e),(0,$s.isomorphicRef)(t)(e)}),[i,n,t]);return o.createElement(eo,{...a,id:i.id,onClick:l,ref:c,endSlot:i.endSlot},i.label)}));to.displayName="SquareTab";var io=i(525388),so=i(904925),oo=i(192063),no=i(602948),ro=i(877802);function ao(e){const{isDropped:t=!1}=e;return o.createElement(ft.Icon,{icon:no,className:r(ro["arrow-icon"],t&&ro.dropped)})}function lo(e){const{disabled:t,isOpened:i,hideFocusOutline:s,fake:n,items:r,buttonContent:a,buttonRef:l,buttonTheme:c,isHighlighted:u,onButtonClick:d,onItemClick:h,onClose:p}=e,m=(0,o.useRef)(null),g=(0,io.useMergedRefs)([l,m]);return o.createElement(so.PopupMenuDisclosureView,{buttonRef:m,listboxTabIndex:-1,isOpened:i,onClose:p,listboxAria:{"aria-hidden":!0},button:o.createElement(eo,{"aria-hidden":!0,disabled:t,active:i,onClick:d,ref:g,tabIndex:-1,theme:c,hideFocusOutline:s,fake:n},a,o.createElement(ao,{isDropped:i})),popupChildren:r.map((e=>o.createElement(oo.PopupMenuItem,{key:e.id,onClick:h,onClickArg:e,isActive:u(e),label:e.label,isDisabled:e.disabled,dontClosePopup:!0})))})}const co=(0,i(493173).mergeThemes)(Js,Ys);var uo=i(299769);function ho(e){const{disabled:t,moreButtonContent:n=s.t(null,void 0,i(437117)),size:a="small",theme:l=co,className:c,style:u,"data-name":d="square-tabs-buttons"}=e,h=parseInt(uo[`css-value-square-tabs-${a}-gap`]),{enableActiveStateStyles:p,moreButtonRef:m,setItemRef:g,getBindings:b,handleMoreButtonClick:v,handleCollapsedItemClick:_,scrollWrapBinding:f,overflowBehaviour:w,tablistBinding:C,visibleTabs:y,hiddenTabs:x,handleActivate:E,isMobileTouch:S,getItemId:P,isDisclosureOpened:k,isHighlighted:D,closeDisclosure:T}=(0,Gs.useTabsMainHandlers)(Ks.TabNames.SquareButtonTabs,e,{isRtl:V.isRtl,scrollIntoViewOptions:{additionalScroll:h}});return o.createElement(Qs.Provider,{
value:a},o.createElement("div",{...f,className:r(l["scroll-wrap"],"scroll"===w&&l["enable-scroll"],c),style:u,"data-name":d},o.createElement("div",{...C,className:r(l["square-tabs"],l[`size-${a}`])},y.map((e=>{var t;const{"aria-disabled":i,...s}=null!==(t=b(e))&&void 0!==t?t:{};return o.createElement(to,{...s,key:e.id,item:e,onClick:()=>E(e),theme:l,enableActiveStateStyles:p,hideFocusOutline:S,ref:g(P(e)),...e.dataId&&{"data-id":e.dataId}})})),x.map((e=>{var t;const{"aria-disabled":i,...s}=null!==(t=b(e))&&void 0!==t?t:{};return o.createElement(to,{...s,key:e.id,item:e,theme:l,enableActiveStateStyles:p,fake:!0})})),"collapse"===w&&o.createElement(lo,{disabled:t,isOpened:k,items:x,buttonContent:n,buttonRef:m,buttonTheme:l,isHighlighted:D,onButtonClick:v,onItemClick:_,onClose:T,hideFocusOutline:S,fake:0===x.length}))))}function po(e){var t;const{id:i,items:s,onActivate:n,defaultActiveFilterTabId:r}=e,[a,c]=(0,o.useState)(null!=r?r:(0,l.ensureDefined)(null===(t=s[0])||void 0===t?void 0:t.id,"AccountManagerPageFilterTabs item"));return(0,o.useEffect)((()=>{n({id:a})}),[a,n]),o.createElement(ho,{id:(0,Vs.createDomId)("account-manager-page-filter-tabs",i),className:Hs,onActivate:e=>c(e.id),isActive:e=>e.id===a,size:"xsmall",overflowBehaviour:"scroll",items:s.map((e=>({id:e.id,label:o.createElement(Ws,{...e,isActive:e.id===a})})))})}var mo=i(685014),go=i(634369),bo=i(366492);const vo=[6,3,2,1,5],_o=[2,1,5],fo="data-account-manager-page-id";function wo(e){return`[data-account-manager-page-id="${e}"]`}class Co{constructor(e){this._showContextMenu=async e=>{e.preventDefault();let t=await this._contextItems(e);void 0!==t&&(h.enabled("property_pages")||(t=t.slice(0,-1)),m.ContextMenuManager.showMenu((0,p.convertActionDescriptionsToActions)(t),function(e){const t=e instanceof MouseEvent?e:e.touches[0];return{clientX:t.clientX,clientY:t.clientY}}(e),void 0,{menuName:"AccountManagerContextMenu"}))},this._activateTab=({id:e})=>{if(e===this._currentTabId)return;if(void 0!==this._currentTabId){const e=this._container.querySelector(wo(this._currentTabId));null==e||e.classList.remove(bo.active)}(0,l.ensureNotNull)(this._container.querySelector(wo(e)),"Page to activate").classList.add(bo.active),this._currentTabId=e,this._attachFilter(),this._trading.trackEvent("Bottom Panel",`Select ${e} page`),this._updatePagesActiveStatuses()};const{broker:t,bridge:i,mode:s,summaryFieldsVisibilityManager:o,overlapManager:n}=e;this._adapter=(0,l.ensureNotNull)(t),this._bridge=i,this._container=i.container,this._mode=s,this._overlapManager=n,this._summaryFieldsVisibilityManager=o,this._pages=[],this._trading=(0,l.ensureNotNull)((0,b.tradingService)()),this._info=this._adapter.accountManagerInfo(),this._dispatch=this.bindContextMenu(),this._renderTemplate()}async priceFormatter(e){return e.symbol?this._trading.formatter(e.symbol):null}remove(){for(this._unmountComponentBySelector(".js-account-manager-header"),this._unmountComponentBySelector(".js-top-panel"),this._unmountComponentBySelector(".js-secondary-panel"),this._unsubscribe(),
this._pages.forEach((e=>e.destroy())),this.unbindContextMenu();this._container.firstChild;)this._container.removeChild(this._container.firstChild)}bindContextMenu(){return u.CheckMobile.isIPad()?this._bindLongPressMenu():0===this._mode?this._bindTapMenu():this._bindContextMenu()}unbindContextMenu(){null!==this._dispatch&&(this._dispatch(),this._dispatch=null)}static async create(e){const t=new Co(e);return await t._create(),t._subscribe(),t._fullUpdate(),t}_bindContextMenu(){return this._container.addEventListener("contextmenu",this._showContextMenu),()=>this._container.removeEventListener("contextmenu",this._showContextMenu)}_bindLongPressMenu(){let e;const t=t=>{clearTimeout(e),e=setTimeout((()=>this._showContextMenu(t)),400)},i=()=>clearTimeout(e);return this._container.addEventListener("touchstart",t),this._container.addEventListener("touchend",i),this._container.addEventListener("touchmove",i),()=>{clearTimeout(e),this._container.removeEventListener("touchstart",t),this._container.removeEventListener("touchend",i),this._container.removeEventListener("touchmove",i)}}_bindTapMenu(){const e=e=>{void 0!==this._currentPage().contextRow(e)&&this._showContextMenu(e)},t=e=>{e.preventDefault()};return this._container.addEventListener("click",e),this._container.addEventListener("contextmenu",t),()=>{this._container.removeEventListener("click",e),this._container.removeEventListener("contextmenu",t)}}_unmountComponentBySelector(e){const t=this._container.querySelector(e);null!==t&&n.unmountComponentAtNode(t)}_ensuredCurrentTabId(){return(0,l.ensureDefined)(this._currentTabId,"Current tab id")}_initializeTabs(){this._activateTab({id:this._pages[0].id()}),n.render(o.createElement(js,{pages:this._pages,defaultActiveTabId:this._ensuredCurrentTabId(),onActivate:this._activateTab}),(0,l.ensureNotNull)(this._container.querySelector(".js-top-panel"),"AccountManagerTabs container"))}_linkTableRowSymbol(e){0!==this._mode&&void 0!==e.symbol&&""!==e.symbol&&c.linking.setSymbolAndLogInitiator(e.symbol,"account manager")}_onTableRowClick(e,t,i){const s=e;0!==this._mode&&""!==s.symbol&&(c.linking.proSymbol.value()!==s.symbol?c.linking.setSymbolAndLogInitiator(s.symbol,"account manager"):t.setSelectedItem({id:s.id,type:i}))}_onTableRowMouseEnter(e,t,i){const s=e;0!==this._mode&&c.linking.proSymbol.value()===s.symbol&&t.setHoveredItem({id:s.id,type:i})}_onTableRowMouseLeave(e,t){const i=e;0!==this._mode&&c.linking.proSymbol.value()===i.symbol&&t.dropHoveredItem()}_makeTableRowEventsHandlers(e,t){return{onClick:i=>this._onTableRowClick(i,e,t),onMouseEnter:i=>this._onTableRowMouseEnter(i,e,t),onMouseLeave:t=>this._onTableRowMouseLeave(t,e)}}async _getPages(){const e=this._adapter.metainfo().id,t=this._adapter.accountManagerInfo(),n=this._adapter.metainfo().configFlags,r=this._getPagesAvailabilityInfo(),a=(0,
l.ensureNotNull)(this._trading.brokerCommandsUI()),c={},u=await this._trading.tradedItemsChartCollectionFacade(),d=void 0!==t.customFormatters?t.customFormatters.map((({name:e,formatText:t,formatElement:i,isPriceFormatterNeeded:s})=>void 0===i?{name:e,formatText:t}:{name:e,formatText:t,formatElement:e=>{const t=i(e);return t instanceof window.parent.Element?o.createElement(Us,{element:t}):t},isPriceFormatterNeeded:s})):[];if(r.positions){const i=this._makeTableRowEventsHandlers(u,Bs.TradedItemType.Position),s=async e=>{const t=await this._adapter.getSymbolSpecificTradingOptions(e);return Boolean(null==t?void 0:t.supportReversePosition)};c.positionPage={ctor:ks,ctorArguments:{brokerId:e,formatters:d,tableRowEventsHandlers:i,priceFormatterFn:this.priceFormatter.bind(this),checkSupportIndividualPositions:()=>!0===n.supportPositionNetting,checkPositionReverseSupport:s,positions:{source:()=>this._adapter.positions().then((e=>e.filter((e=>f(e))))),closeFn:a.closePosition.bind(a),editFn:n.supportPositionBrackets?a.editPositionBrackets.bind(a):null,reverseFn:n.supportReversePosition?a.reversePosition.bind(a):null,columns:(0,l.ensureDefined)(t.positionColumns),subscriptions:{rowUpdateDelegate:new g([this._adapter.positionPartialUpdate,this._adapter.positionUpdate]),countUpdateDelegate:this._adapter.positionUpdate,plSubscription:this._adapter.subscribePL.bind(this._adapter)}},individualPositions:n.supportPositionNetting?{source:()=>this._adapter.individualPositions().then((e=>e.filter((e=>0!==e.qty)))),closeFn:n.supportCloseIndividualPosition?a.closeIndividualPosition.bind(a):null,editFn:n.supportIndividualPositionBrackets?(0,l.ensureDefined)(a.editIndividualPositionBrackets).bind(a):null,reverseFn:null,columns:(0,l.ensureDefined)(t.individualPositionColumns||t.positionColumns),subscriptions:{rowUpdateDelegate:new g([this._adapter.individualPositionPartialUpdate,this._adapter.individualPositionUpdate]),countUpdateDelegate:this._adapter.individualPositionUpdate,plSubscription:this._adapter.subscribePL.bind(this._adapter)}}:null,fullUpdateDelegate:this._adapter.currentAccountUpdate,overlapManager:this._overlapManager,getTableSettingsStorage:this._trading.getBrokerTradingSettingsStorage,trackEvent:this._trading.trackEvent}}}const h=this._adapter.orders.bind(this._adapter),p=this._makeTableRowEventsHandlers(u,Bs.TradedItemType.Order);c.orderPage={ctor:us,ctorArguments:{id:"orders",title:s.t(null,void 0,i(652280)),source:h,cancelFn:a.cancelOrder.bind(a),modifyFn:a.modifyOrder.bind(a),columns:t.orderColumns,tableId:e+".orders",tableRowEventsHandlers:p,formatters:d,priceFormatterFn:this.priceFormatter.bind(this),subscriptions:{fullUpdateDelegate:this._adapter.currentAccountUpdate,rowUpdateDelegate:new g([this._adapter.orderPartialUpdate,this._adapter.orderUpdate]),orderUpdateDelegate:this._adapter.orderUpdate},possibleOrderStatuses:vo.filter((e=>!t.possibleOrderStatuses||-1!==t.possibleOrderStatuses.indexOf(e))),filter:()=>!0,initialSorting:t.orderColumnsSorting,configFlags:n,overlapManager:this._overlapManager,
getTableSettingsStorage:this._trading.getBrokerTradingSettingsStorage,trackEvent:this._trading.trackEvent}};const m=this._adapter.ordersHistory.bind(this._adapter);return r.history&&(c.historyPage={ctor:us,ctorArguments:{id:"history",title:s.t(null,void 0,i(641249)),source:()=>Promise.all([h(),m()]).then((e=>[].concat(...e))),cancelFn:a.cancelOrder.bind(a),modifyFn:a.modifyOrder.bind(a),columns:(0,l.ensureDefined)(t.historyColumns),tableId:e+".history",tableRowEventsHandlers:p,formatters:d,priceFormatterFn:this.priceFormatter.bind(this),subscriptions:{fullUpdateDelegate:this._adapter.currentAccountUpdate,rowUpdateDelegate:new g([this._adapter.orderPartialUpdate,this._adapter.orderUpdate]),orderUpdateDelegate:this._adapter.orderUpdate},possibleOrderStatuses:_o.filter((e=>!t.possibleOrderStatuses||-1!==t.possibleOrderStatuses.indexOf(e))),filter:e=>![3,4,6].includes(e.status),initialSorting:t.historyColumnsSorting,isAlwaysActive:!0,configFlags:n,overlapManager:this._overlapManager,getTableSettingsStorage:this._trading.getBrokerTradingSettingsStorage,trackEvent:this._trading.trackEvent}}),c.customPages=t.pages.map((t=>{const i=t.tables.map((i=>{var s;return{id:`${e}.${t.id}.${i.id}`,title:i.title||"",columns:i.columns,source:i.getData,options:{className:"balances",idProperty:"id",defaultSortingParameters:i.initialSorting},formatters:d,priceFormatterFn:this.priceFormatter.bind(this),subscriptions:{fullUpdateDelegate:this._adapter.currentAccountUpdate,rowUpdateDelegate:i.changeDelegate,rowDeleteDelegate:i.deleteDelegate},flags:i.flags,rowEventsHandlers:(null===(s=i.flags)||void 0===s?void 0:s.supportLinking)?{onClick:this._linkTableRowSymbol}:void 0}}));return{ctor:Oi,ctorArguments:{id:t.id,title:t.title,tables:i,displayMode:this._mode,overlapManager:this._overlapManager,getTableSettingsStorage:this._trading.getBrokerTradingSettingsStorage,trackEvent:this._trading.trackEvent,displayCounterInTab:t.displayCounterInTab}}})),r.notifications&&(c.notificationsPage={ctor:Wi,ctorArguments:{id:"notifications-log",title:s.t(null,void 0,i(371250)),source:()=>Promise.resolve(this._trading.getNotifications()),columns:zi,formatters:[Li],priceFormatterFn:this.priceFormatter.bind(this),subscriptions:{fullUpdateDelegate:this._trading.onNotificationsChanged,rowUpdateDelegate:this._trading.onNewNotification},overlapManager:this._overlapManager,initialSorting:{property:"time",asc:!1},getTableSettingsStorage:this._trading.getBrokerTradingSettingsStorage,trackEvent:this._trading.trackEvent}}),c}_getPagesAvailabilityInfo(){const e=this._adapter.metainfo().configFlags;return{positions:Boolean(e.supportPositions),orders:!0,history:Boolean(e.supportOrdersHistory),tradeHistory:Boolean(e.supportTradeHistoryTabInAccountManager),notifications:Boolean(h.enabled("show_trading_notifications_history")&&e.showNotificationsLog)}}_renderTemplate(){const e=this._getPagesAvailabilityInfo(),t=Object.values(e).filter((e=>e)).length+this._adapter.accountManagerInfo().pages.length,i=(0,l.ensureNotNull)((0,
v.parseHtmlElement)(((e=0,t)=>`<div class="${a()(bo.accountManager,0===t&&bo.popup)}">\n\t\t\t\t<div class="js-account-manager-header"></div>\n\t\t\t\t<div class="${bo.topPanel} js-top-panel"></div>\n\t\t\t\t<div class="${bo.secondaryPanel} js-secondary-panel"></div>\n\t\t\t\t<div class="${bo.content}">\n\t\t\t\t\t${`<div class="${a()(bo.page,(0,d.isOnMobileAppPage)("any")&&bo.mobile)} js-page"></div>`.repeat(e)}\n\t\t\t\t</div>\n\t\t\t</div>`)(t,this._mode)));this._container.appendChild(i)}async _create(){const e=await this._getPages();for(const t of Object.values(e))if(Array.isArray(t)){const e=t.map((e=>new e.ctor(e.ctorArguments)));this._pages.push(...e)}else this._pages.push(new t.ctor(t.ctorArguments));const t=this._container.querySelectorAll(".js-page");this._pages.forEach(((e,i)=>{t[i].innerHTML="",t[i].appendChild(e.content()),t[i].setAttribute(fo,e.id())})),this._initializeTabs(),this._render()}async _render(){let e;1===this._mode&&(e=await(0,Os.makeAccountManagerHeaderDropdownsProps)(this._trading,this._summaryFieldsVisibilityManager,1,(()=>this._getDataExporters()))),n.render(o.createElement(As,{...e,summaryFields:this._info.summary,summaryFieldsVisibilityManager:this._summaryFieldsVisibilityManager,isBetaBroker:this._adapter.metainfo().isBeta,displayMode:this._mode}),this._container.querySelector(".js-account-manager-header"))}_getDataExporters(){const e=new Map;for(const t of this._pages){const i=t.getExporters();e.set(i.title,i)}return e}_subscribe(){const e=e=>{e?this._updatePagesActiveStatuses():this._pages.forEach((e=>e.setActive(!1)))};this._bridge.visible.subscribe(e,{callWithLast:!0}),this._dispatchVisibilityHandler=()=>this._bridge.visible.unsubscribe(e)}_updatePagesActiveStatuses(){const e=this._currentPage().id();for(const t of this._pages)t.setActive(1===this._adapter.connectionStatus()&&t.id()===e)}_attachFilter(){const e=this._currentPage(),t=e.filterTabs(),i=(0,l.ensureNotNull)(this._container.querySelector(".js-secondary-panel"),"Filter container");0===t.length?n.unmountComponentAtNode(i):n.render(o.createElement(po,{key:e.id(),id:e.id(),onActivate:({id:t})=>e.activateFilterTab(t),defaultActiveFilterTabId:e.activeFilterTabId(),items:t}),i)}_fullUpdate(){this._pages.forEach((e=>e.reset()))}_unsubscribe(){this._dispatchVisibilityHandler&&(this._dispatchVisibilityHandler(),delete this._dispatchVisibilityHandler)}_currentPage(){const e=this._ensuredCurrentTabId();return(0,l.ensureDefined)(this._pages.find((t=>t.id()===e)),"Current page")}async _contextItems(e){const t=this._currentPage().contextRow(e);if(void 0===t)return;const o="Bottom Panel Context Menu",n=await this._currentPage().contextItems(e);if(this._info&&this._info.contextMenuActions)return this._info.contextMenuActions(e,n);const r={separator:!0},a=[],l=t.symbol;if(l)if(1===this._mode){0!==n.length&&a.push(r);const e=await this._trading.makeNewOrderContextMenuAction(l,o);a.push(e)}else 0!==n.length&&a.push(r),a.push({text:s.t(null,void 0,i(469435)).replace("{symbol}",l),icon:mo,action:()=>{this._trading.trackEvent(o,"Open chart"),
c.linking.setSymbolAndLogInitiator(l,"account manager"),this._trading.tradingPanelPopup.hide()}});else;return h.enabled("property_pages")&&(0!==n.length&&a.push(r),a.push({text:(0,_.appendEllipsis)(s.t(null,void 0,i(855527))),icon:go,action:()=>{this._trading.trackEvent(o,"Trading Properties"),this._trading.showTradingProperties()}})),n.concat(a)}}},332510:(e,t,i)=>{"use strict";i.r(t),i.d(t,{SummaryFieldsVisibilityManager:()=>o});var s=i(947488);class o{constructor(e,t){var i;this.toggleField=e=>{var t;const i=this._fieldsVisibilityInfo$.getValue(),s=new Map(i),o=s.get(e);void 0!==o&&(o.visible=!o.visible,this._fieldsVisibilityInfo$.next(s),null===(t=this._settingsGetter())||void 0===t||t.setSummaryFieldsVisibilityInfo(s))},this._settingsGetter=t;const o=null===(i=this._settingsGetter())||void 0===i?void 0:i.summaryFieldsVisibilityInfo();this._fieldsVisibilityInfo$=new s.BehaviorSubject(new Map(e.map((({text:e,isDefault:t})=>{var i,s,n;return[e,{id:e,visible:null===(n=null!==(s=null===(i=null==o?void 0:o.get(e))||void 0===i?void 0:i.visible)&&void 0!==s?s:t)||void 0===n||n}]})))),this.fieldsVisibilityInfo$=this._fieldsVisibilityInfo$.asObservable()}fieldsVisibilityInfo(){return this._fieldsVisibilityInfo$.getValue()}}},904664:(e,t,i)=>{"use strict";i.d(t,{BracketType:()=>o.BracketType,OrderOrPositionMessageType:()=>o.OrderOrPositionMessageType});i(46415);var s,o=i(599016);!function(e){e.Date="date",e.DateOrDateTime="dateOrDateTime",e.Default="default",e.Fixed="fixed",e.FixedInCurrency="fixedInCurrency",e.VariablePrecision="variablePrecision",e.FormatQuantity="formatQuantity",e.FormatPrice="formatPrice",e.FormatPriceForexSup="formatPriceForexSup",e.FormatPriceInCurrency="formatPriceInCurrency",e.IntegerSeparated="integerSeparated",e.LocalDate="localDate",e.LocalDateOrDateTime="localDateOrDateTime",e.Percentage="percentage",e.Pips="pips",e.Profit="profit",e.ProfitInInstrumentCurrency="profitInInstrumentCurrency",e.Side="side",e.PositionSide="positionSide",e.Status="status",e.Symbol="symbol",e.Text="text",e.Type="type",e.MarginPercent="marginPercent",e.Empty="empty"}(s||(s={}))},796160:(e,t,i)=>{"use strict";var s;i.d(t,{TradedItemType:()=>s}),function(e){e[e.Position=0]="Position",e[e.Order=1]="Order"}(s||(s={}))},403933:(e,t,i)=>{"use strict";i.d(t,{TradingLayoutBreakpoint:()=>o});var s=i(33335);const o={Mobile:s.mobile}},743003:(e,t,i)=>{"use strict";function s(e){return e.charAt(0).toUpperCase()+e.substring(1)}i.d(t,{capitalizeFirstLetter:()=>s})},602948:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M3.92 7.83 9 12.29l5.08-4.46-1-1.13L9 10.29l-4.09-3.6-.99 1.14Z"/></svg>'},935495:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="m4 4h-2v10h2zm-2-1c-.55228 0-1 .44772-1 1v10c0 .5523.44772 1 1 1h2c.55228 0 1-.4477 1-1v-10c0-.55228-.44772-1-1-1zm8 1h-2v10h2zm-2-1c-.55228 0-1 .44772-1 1v10c0 .5523.44772 1 1 1h2c.5523 0 1-.4477 1-1v-10c0-.55228-.4477-1-1-1zm6 1h2v10h-2zm-1 0c0-.55228.4477-1 1-1h2c.5523 0 1 .44772 1 1v10c0 .5523-.4477 1-1 1h-2c-.5523 0-1-.4477-1-1z"/></svg>'},552019:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M13.35 5.35a.5.5 0 0 0-.7-.7L9 8.29 5.35 4.65a.5.5 0 1 0-.7.7L8.29 9l-3.64 3.65a.5.5 0 0 0 .7.7L9 9.71l3.65 3.64a.5.5 0 0 0 .7-.7L9.71 9l3.64-3.65z"/></svg>'},48008:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" d="M3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 1a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm6-1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 1a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm7-2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm1 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"/></svg>'},610600:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M13.5 7l1.65-1.65a.5.5 0 0 0 0-.7l-1.8-1.8a.5.5 0 0 0-.7 0L11 4.5M13.5 7L11 4.5M13.5 7l-8.35 8.35a.5.5 0 0 1-.36.15H2.5v-2.3a.5.5 0 0 1 .15-.35L11 4.5"/></svg>'},290556:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="m3.83 8.51.28.34 3.5 4 .76-.66L5.6 9.02H14v-1H5.6l2.78-3.17-.76-.66-3.5 4-.28.33Z"/></svg>'},281670:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="m14.16 8.5-.28.34-3.5 4-.76-.66L12.4 9H4V8h8.4L9.62 4.84l.76-.66 3.5 4 .28.33Z"/></svg>'},499084:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16Zm3.87-12.15c.36.2.49.66.28 1.02l-4 7a.75.75 0 0 1-1.18.16l-3-3a.75.75 0 1 1 1.06-1.06l2.3 2.3 3.52-6.14a.75.75 0 0 1 1.02-.28Z"/></svg>'},530162:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>'},527941:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM8 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 2c.49 0 1 .59 1 1v3.01c0 .42-.51.99-1 .99s-1-.57-1-.99V9c0-.41.51-1 1-1Z"/></svg>'},482353:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16Zm0-3a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM6 7.5a3 3 0 1 1 6 0c0 .96-.6 1.48-1.17 1.98-.55.48-1.08.95-1.08 1.77h-1.5c0-1.37.7-1.9 1.33-2.38.49-.38.92-.71.92-1.37C10.5 6.67 9.82 6 9 6s-1.5.67-1.5 1.5H6Z"/></svg>'},685014:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" d="M8 5.5h12A2.5 2.5 0 0 1 22.5 8v12a2.5 2.5 0 0 1-2.5 2.5H8A2.5 2.5 0 0 1 5.5 20V8A2.5 2.5 0 0 1 8 5.5zM4 8a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4H8a4 4 0 0 1-4-4V8zm15.49 5.07a.75.75 0 1 0-.98-1.14l-2.97 2.55-2.51-2.51a.75.75 0 0 0-1.02-.04l-3.5 3a.75.75 0 1 0 .98 1.14l2.97-2.55 2.51 2.51c.28.28.72.3 1.02.04l3.5-3z"/></svg>'},87523:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M11.42 7.52 6.02 14l5.4 6.48 1.16-.96-3.98-4.77H21v-1.5H8.6l3.98-4.77-1.16-.96Z"/></svg>'},505357:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="m16.58 7.52 5.4 6.48-5.4 6.48-1.16-.96 3.98-4.77H7v-1.5h12.4l-3.98-4.77 1.16-.96Z"/></svg>'},465890:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 9" width="11" height="9" fill="none"><path stroke="currentColor" stroke-width="2" d="M0.999878 4L3.99988 7L9.99988 1"/></svg>'},379978:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M8 5l3.5 3.5L8 12"/></svg>'}}]);